{"version":3,"sources":["assets/logo.png","config.js","auth/index.js","core/CartHelpers.js","core/Menu.js","core/ShowImage.js","core/SidebarCard.js","core/CartSidebar.js","core/Layout.js","user/Signup.js","user/Signin.js","core/apiCore.js","core/Card.js","core/Home.js","core/Checkbox.js","core/RadioBox.js","core/fixedPrices.js","core/Shop.js","core/SingleProductCard.js","core/Product.js","core/CheckOut.js","core/Cart.js","admin/apiAdmin.js","admin/ManageProducts.js","auth/PrivateRoute.js","user/UserDashboard.js","user/apiUser.js","user/Profile.js","auth/AdminRoute.js","user/AdminDashboard.js","admin/AddCategory.js","admin/AddProduct.js","admin/UpdateProduct.js","admin/Orders.js","Routes.js","index.js"],"names":["module","exports","API","process","isAuthenticated","window","localStorage","getItem","JSON","parse","addItem","item","next","cart","push","_objectSpread","count","Array","from","Set","map","p","_id","id","find","setItem","stringify","getCart","updateItem","productId","product","i","emptyCart","removeItem","isActive","history","path","location","pathname","color","backgroundColor","withRouter","_ref","React","createElement","className","Link","to","src","logo","alt","style","user","role","Fragment","onClick","fetch","concat","method","then","response","console","log","catch","err","signout","cursor","length","ShowImage","url","name","SidebarCard","isHovered","setIsHovered","useState","textDecoration","onMouseEnter","onMouseLeave","height","width","border","fontSize","fontWeight","price","CartSidebar","setSidebar","cartItems","zIndex","position","overflow","overflowY","minHeight","top","padding","paddingBottom","marginTop","key","cardPB","bottom","Layout","title","description","children","textStyle","layoutStyle","Menu","SignUp","values","setValues","email","password","error","success","handleChange","event","[object Object]","target","value","clickSubmit","preventDefault","headers","Accept","Content-Type","body","json","signup","data","display","onChange","type","disabled","SignIn","loading","redirectToReferrer","signin","authenticate","Redirect","getProducts","sortBy","getFilteredProducts","skip","limit","filters","arguments","undefined","async","ok","errorMessage","text","Error","message","list","params","query","queryString","Card","showAddCartButton","imageStyle","showViewProductButton","cartUpdate","showRemoveProductButton","viewProductButtonSize","paddingLeft","paddingRight","paddingTop","borderRadius","setRun","f","run","redirect","setRedirect","setCount","addToCart","textAlign","whiteSpace","ajustSize","innerWidth","shouldRedirect","justifyContent","showAddToCartButton","showCartUpdateOptions","splice","showRemoveButton","marginBottom","Home","productsBySell","setProductsBySell","productsByArrival","setProductsByArrival","setError","setProduct","sidebar","isMobile","setIsMobile","ajustImage","useEffect","document","handleResize","addEventListener","removeEventListener","Swiper","modules","Navigation","Pagination","Scrollbar","A11y","spaceBetween","slidesPerView","navigation","pagination","clickable","loop","loopFillGroupWithBlank","breakpoints","320","768","SwiperSlide","quantity","Checkbox","categories","handleFilters","checked","setChecked","handleToggle","c","currentCategoryId","indexOf","newCheckedCategoryId","includes","RadioBox","prices","setValue","array","Shop","myFilters","setMyFilters","category","setCategories","setSkip","size","setSize","filteredResults","setFilteredResults","productMessage","setProductMessage","searchQuery","setSearchQuery","setData","search","setQuery","init","filterBy","newFilters","priceValues","handlePrice","parseInt","searchSubmit","e","loadMore","toSkip","prevResults","showMessage","productsLength","validLength","loadFilterResults","onSubmit","placeholder","isArray","SingleProductCard","alignItems","moment","createdAt","fromNow","showStok","Product","props","relatedProducts","setRelatedProducts","loadSingleProduct","read","listRelated","match","scrollTo","left","behavior","CheckOut","products","clientToken","instance","address","userId","token","getToken","getBraintreeClientToken","Authorization","handleAddress","getTotalAmount","Math","round","reduce","currentValue","nextValue","deliveryAddress","buy","nonce","requestPaymentMethod","paymentData","paymentMethodNonce","amount","processPayment","createOrderData","transaction_id","transaction","createOrder","order","showDropIn","onBlur","DropIn","options","authorization","card","vault","overrides","fields","cvv","paypal","flow","onInstance","showSuccess","showError","toast","configure","Cart","items","setItems","emptyAllCart","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","showItems","emptyCartButton","getCategories","ManageProducts","setProducts","loadProducts","destroy","deleteProduct","PrivateRoute","component","Component","rest","_objectWithoutProperties","_excluded","Route","Object","assign","render","state","Dashboard","setHistory","getPurchaseHistory","h","j","purchaseHistory","Profile","update","updateUser","auth","profileUpdate","reload","redirectUser","AdminRoute","AdminDashboard","AddCategory","setName","setSuccess","createCategory","handleCancel","href","autoFocus","required","AddProduct","shipping","photo","createProduct","redirectToProfile","formData","createdProduct","FormData","files","set","accept","marginLeft","UpdateProduct","getProduct","initCategories","updateProduct","Orders","orders","setOrders","statusValues","setStatusValues","loadOrders","listOrders","loadStatusValues","getStatusValues","showInput","readOnly","handleStatusChange","orderId","updateOrderStatus","status","o","oIndex","index","showStatus","pIndex","Routes","BrowserRouter","Switch","exact","ReactDOM","basename","getElementById"],"mappings":"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","file":"static/js/main.285548eb.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAALkAAADbCAYAAAAxkTANAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsEAAA7BAbiRa+0AABaQSURBVHhe7Z17cBX3dcfRWqAnkhAvIVvi4SalgYlbvxJs51EPHTdNO3Gejt20GbuJPZO+8ofTpGk9raepW09NE49nPNPi0jZuXFPKw2Nj8HjM02BMMJ56BBgDAiGQMHqjx70ScNXv2T0XCxD37r37271nf/d8ZjS/h3Z/e/a33z17du9vfztFURRFURRFUcA4w0UlQko4VUJkMnGXAM4qIeNwqoSA67oBFy+D6lOp1DwuKiGiIg+Ja4l7InDmHTt27PgriL2MqxRFNtB1Jac5c/LkyS+7jSiKVKDTck+uwRgaGrqJm1QMoTc/BiBxctYYaPIGx3FOc1EJgMbkAYAQp4YhcALx+qn33nvvEdoGVyl5op48T8IS92T09fV9tq6ubi+EP4a/yLZrCyryHEilUhUQ2QgXIwfnVSO2f0aFnhsqcp9E6bl9MBtC7+a8kgWNybNA4ia4KIWu9vb2r8Asjdd9oJ58EiCeciRj+LvoVghmYGDgUxSvw2YH3j3F1coEVORXALFQn8RRLPMh8pOcVyagImcg7lIk571SfMF+zHUc5ywXFVD0Io+x584IvLo6MKZobzzZcxNWxrHYv/He3t67uFjUFO3ZTiLgrPVgV69HCNPBxaKjqEROQ1pxFU9ysRiZhv2P/X1HrhSFyOHJ6JFgwispxRavWx2TQ9w0gOo6ZFXgE0CfXBrSWwwvbFh7RuM40r7pjyPZsX6IgJWenDwVEl8CHxujHzaLmi7qLzCDy9ZhlSenI8VZJU/QhZWO41gV3lnhyRFX1kgW+J49ex6lm700XC0SmDeCeP1mLioSIHFLZdOmTT/BCTibTb0KXkwsIyMj89nUWBPLcAX9L36cCQRya1VV1TtczAgJirMikX71yUbswhUWhFiBnzhx4gEShV+BE9JFRH3OlNIfV8eG2Ijc62O5Hm/37t0/QFK1cOHC//ZqcoOETnBRKuRcXAeDQxEb7cTCUMniXr9+/c9gXuOdd975FDQa+P1PT+qx8Ox1XBSP2M4s9EvDfhgdHV1SXl5+kIuhQGrirFToOIkeDyTSk9OBlSzw48ePfxPJtLAFTkj36iAh/UQUJXLqLIKL4mhpafkezKtetGjRamgvsptfEjrBRZF4R07msRPTcVI7KA3Ma3Qcp5OLBSUGfTUTfdXLxYJTUE+OznDogBFcJQ56G568qBSBE65bB1wUB0zr4cMq4nFjwUROPYBE7JQP7e3t9yMppekevBp5SBY6c96VujcitGBELnLeabGee9u2bY8hmd3c3PwiNCR+3hUSOsFFqaQKecwj6xzsI832JHpcK2ychbCkh4uRQo9MTYz+K6SYfDId5+QQ5yMhEk/OHS9W4BPi7sACTyaTi9evX/8TpB/jqqxA4NNfeOGFJ2g0JVflDe0HwUWJDMbgRPQP7YxkTpw48TUIq4rNDQwNqeWm6aNX1xx9eCUjIyNNvNr4li1bfoyklv8VCK9F2bCp8YPtFw1EWM/mBubQoUMPcrMToZenfYFla71VPqKtre3r/O/AcJOiYVNDwehlDbZS+CP6Zi2RSMyvrKw0Mmdgd3f38pkzZ77OxSupR9TQx/mM4ISbi2XPcPEyEErdXldX90suBiJsMZkgjFDLWEzOHShW4H19fZ+jDjQhcIiy6cUXX3wmg8CpP6Zx1g/XFF9tbe3e1atX/4xOBK7KG9p/gosiEXkiklGSOXjw4HfY1MCgudLNmzc/4bWclQZeLSskYF4nIy0tLY9gWSNTSHCTomFTCwfbIR1jw0HpO5vcpl98i5yW9VbxB8XrSIx4ZK9F2bCpeZNzuMLblXdJmcDIyMjtSGhS+n6vJn+Gh4dve+aZZ37e1NS0jqsKTnNz8/8gSSWTyU94NfnjBTDyQxiCi+GBbVwaZyKVs2fPfgGJ76cak4H13cd3CAtmbtiw4Sm34fwIzZNPZO3atfTShu9tZcNrVS5spnm4fbHs3LnzR2xqYNBcJWLfh72WAxGJyNPs2rWLntEbGRDltSgbNtUXGS9TuTZWCGDiAsdx2rgYiNbW1m8sXLhwNReDMg9RwKSPBa8E+0AnhJFRjrh3uG/+/PkUzgQmDsffT6g16QImdu7MGe/4NjQYu5JexuDg4F01NTW7uGgEwwfVt8gRGtGyRucPx33JbVVVVfu4GAjD/RIKmcR+1Y2nqR0icYch8GPHjj0AEytNC9w2Kisrf/n6668/jhPI9/CCa8ECEj0VRSbdXlK/KXGHzAz0d+AnJtfCZB+gKd9vEoXhySeyb9++R2+99dZ/xjYC718cdMIn5SXcgnTDYV4NBDPIxdAw2Q9oyrfIsayxmDwT/f39d8+YMWMrFwNhsq/CIi32SIba5gvFlWQoKOZPoBijrq5uy8qVK59LT8AfBD4ul3lMaVx2IlJBEocPH/42ksg/qe1t3QwUgnCzWcHigR8h5sr27dv/kn4LYBMCgeZo+jiRkH2+wxWc/VOqq6u5FB6F9A5++sEvaEpMTJ6J1tbWb914442/4GIgTPafKUhPvsOVsAWO/mkqpMCLlUWLFv0XibOnp2cZkqBXT/q6nqhjiH1yCh6Td3d3340ETs855dUohaC+vn73mjVrnhwcHPwkV+UM9O2+4khCJ9xKAfgOV8JAUkcQJvsBTcUiXJmMt95664fLli37KWyiKSXoMOXdL9i3gs5pScYXSuShPu/OF5P9gKZiK/I0XV1dX5wzZ86rXAxEATTmQhqPOlyhz+kR4gSuXM3s2bM3kjgHBgaWcVXe8HEvyJU7EpGfOnXqq7yPVn8v0lZqamp2r1q16jlccQK//M06iFTsoYcraDqSXytNYLgfKAQp2ACtsGhpafnu0qVLfw57x9BdpNe8+wzr09eyL3ilcCADQ/Pk2IEGdwMxEbjiDwh8JZLRzs7OLwYROIH1L5JGuBgaxkU+YTaqD7lKsZCGhoZX6MqXTCY/zlV5Q3ohuGgc0yKvlzwLrGKesrKywzxlRuAp7gAND6jkvDGMxuRoJjbx92SY6gfGypg8E++///5Dixcv/g/si5g4na4Qpj15pHfNiiwg8FVIUh0dHV/wavLCeAhttEE6azirFDHz5s17ddWqVf+SSCQWclUuGNeQ8bNGUYgHH3zw4fLy8tbNmzf/HUIQ33E2ljUucqMxOaiDMx/gfOww2A9E0cXkmaBHjo2NjVmHCKAvaCSjsZdk0FbkP+srRQpCmI2cjRwVuYWQ9yK4WPSYFrl2rCzoJYgKL1u8qCeXQSjOAc78Av4ovi3q46wiLwIgdHckFcFVRYWGK0UGC93Yx8BMA/NMPuFyUU9ehEBIIyT28fHxG7jKalTkFgLx+rqiOo5zmsTORWtRkStuCENw0TpU5BYCveYV15LQcRUwPtS10KjILcRvuDIZCGESJPZcPpsuHRW5heTrySdSUVFxlLOxR0WuSEMfISpKrqjIFetRkSvWoyJXrEdFrliPilyxHhW5hYyPj+txnYB2hp3QBD0KY1rkxh/kK7kDTy7668lRo55cBkadQwl/u0fxUJFbCER+kbMKUJEr1qMitxDE5LWcVYA77hidYiomzPpVN2yquqOjY/mRI0duGhsbc58CYB1n+vTp/aOjo5fNEYJl0+Oi3fTixYtOWVnZ6IULF0qHhoaqGhoaOhcvXry9urr6XXepgBjsB6Jg08Tt37//T3t7e2ehr8b6+vrqZs+e3ZVIJKqmTp16nheZyKV9pv13HGdKaWnp6MDAQN0999zzGP/LCNjHrOPcYQLNFWPsnoK2GbnICYPbm4KD+Nn6+vqdXAyESbuAzoV4BWm9ZQKHwLjIbXiEqCGXkhEbBFKIE0uJEeoFFetRkSvWo+GKYj3qyRXrUZEr1qPhimI9pkWe9WG/omTBuIY0XJGBOocQUZEr1qMiV6xHRa5Yj2mR65MORRzqyRXrUZHLQJ+uhIiKXLEe14MYfCOmrqSkZIDz18TkGzh9fX2fqa+vf5OLgTBpF8jlzaDrsewpLgZm69atf4s2r0ObqdLS0gvYLTdFnTsfC1LzP7g4zji9lohtUh+6+eXLl/+N998pUw4ePPidJUuW/BsXrwlsK0Mb9BVpI6At46+/qcg/omAiBw7aM7kvkRGGyDVcsZC4CjwsVOQWgguSHtcJaGfYSWw9eRhXIRW5hcCTT+OsAlTkIWH4JjYnHMcZ5awCVOSK9ajIFesxKvJCXqIV5VqoJ1ekoU9XFCVXjIqcfkLlrKKIQT25Yj2xF/nFixf1hw+7MD9CktPYMmvWrDc4G2f0qVSIWBGu6KNLJRPWxOQkdIKLinIJ6248WesqduUS1ok8jQpdSWOtyAnXpQMuKvHA+PGyWuRpWOvuN0OV4qMoRM7QW+uE+8a6UjwUk8jTnB8eHr6F80oRELnI4UkrOVswKisr95FLT6VSTVylWEzkIi8pKRnhbMGBLSdJ7EDjdYsxKnJSC2fjxoXTp0/fy3mlsNgxdqWtre3rnBVDY2Pjes4qllEQkS9YsOB/4fSrt27demmuPEUJC6NzIaKZGsdxBrnoC9z8NSI2Ps1Fa0BfNKAvPuRiRkz3AdqK7csr6DcaOm1sSg3qC9Oe/AKnvoEQOigZGhq6yauxBv2lNT9k/+KJk6aMszmB9canT5/+HrLOgQMHHvFqFcUMpj35MKd5QWJfunTpv+KSNeell15awdVKEYFjX89ZY5gW+VgymfxVzucNQpiue++999HR0dFPPPnkk2u5WrEYiLsUf+NwdL7mdM8Zatwk69atewo3Uzdw84E5c+bMcm46NmD/57D5WaEbT17NCNxsbGCzQ4HaN/p05Ureeeed799yyy3P4OxMcVVewDyyswJ/gcKhKIHNc3FFOsvFjBTr0xX00VQkY14pHKgvQhV5ms7Ozt+ZN2/e69hczk9frgSCqEc7PVwUi4o8M2FrLg31RSQ/BkHgryI5n0gkFno1+QPh9JLhw8PDv85VSkyArktI3ARXRUIkIk9TXl7eunv37r/APs7gqryprq7+PxI7FxXhsLADha35gM06kYQrk9He3v6VpqamDdBp4G3jcj8T7XRzUQToUg1XAPqBbIlc3GmoLyL15BOBwNchSfX399/m1bgdkteQV4iph3YG6/t+oiGMyJ1MFOB4FMR7X0nBRJ6mtrZ2L3UGvNkN0OlFrs4LiL0LyTR6vu7VKIWAjifBxYJTcJGngcDbN23a9DjEPper8gLtnEfsfwhZfZczYnDsqiSJmyCbChaTZ+LAgQMPLV269N+5GAjsGoVAgR9d5gq2m0tMTl9vpoFqRkBbkcbksH86NnmOi6LAcSgX48knsmTJklV04vX29t7FVXmDzqcQ6LpEIrHAq1FMQsdJqsAPHjz4R3A0o67IYWft22+//QP3P4KYMWPGTupEeIpGrsoLHIRUZWVlG9KS48ePf5OrlQDQcSG4KIqdO3f+CEkZOUuvZgIQ08yVK1c+x/aL4rXXXnuczQwE9tEdDszNhga2k8vYlXm8mhGoTSTG70nQZtopiiWZTH7MNXYCV8VuWK5kZGTkZpq2gatEQc/Xm5ubjbyPSSc1nHsoz9fRj75jcizbgKTTKwWHrlicNQLsm4omzyMV6bmJc+fOfbq2tvZtLl7GVTE5dma8qqrqHWRLcWm/z6uVAz1fp84eGBhYxlV5M+H5eqBwSBrYn1rOBgLtpPUxRn3OeVG0trZ+i47htQTuC3i7+jfffJN+ihcJ7KthUwODE+cObjYwuYQrWLzBWys4nZ2dv8fNBoabFAnF3aRNNtUMaNBo3GiSw4cPf5vNDASaci/z+/fv/zOv5fyJWuQtLS1/zM1N9MB5AdvLvFZlEvr7wGfOnPkt3pY46JEjDhCNOw8M2pnNzeYFrc9NZQWL5y3yjRs3/iMSI+EJ4bUqk66urt9kM8OHzvSjR48+wNsWB870m9nUvEEzrlensTVeq7kRtsiffvrpXySTyV/jJgKB5iq9VmWyd+/e77Op0YMDWcOeRCQjIyPz2dTAUKzLzfoiF5Fj2bm8mi9OnTpVFHH3hg0b/imXfgwVeM7fePbZZ/+TbRPFoUOHHkYSKEadyPbt2x/zWs7KLF4lKziQvu53Pvjgg4dMHXQ0J9p74wp6O5sqB9h13bFjx77mmSgPiteRTMVfYMEnEokb3UYzgGV+hRfPChaf5q01OWvXrl2BZBb+jMy+6zYqlNj8Ig3v+RDbLI60J0Q28A8mOHE+47V6NbmESrCpgle7jCeeeGIdPUlA1siPO16rMtm1a9ej6Ie8JqcqGDB47ssvv/wPvA8SCfwKXpq2trYvcZsT8f2xAVrWW+UjaCQmEnqbPTBop9ZtVC70i298GRgY+NSKFStW886I4ujRo/cjMfJtfrRTumXLlh+7DXv4PnC0rLfK+Pi2bduoDWM/y3utyiSZTNr1csvp06cn83YioBORzQwMhSkbN258HAfw41yVFQqh1q1b9/cwpZzLeV+20YY7MMvdMaG0trZ+A4mdX/fAjpW88sorYh85gmb8GfOiUUO2u3shlJaWlkeQuCey9VC8vmbNmp96uy4P2Gd80smwgdnVnvUyoWPOphYXXV1dd3MfiKO9vf2rSIw9Xw8Tz2KZmAwFYw0NsOI+EUd/f7/Yb36yiSKh70IhiW3oFwrokOto+KTbQzIxNggqKGyPSLZu3frXSIw9nrUSxG7XP//88896XSYP2GdklGM+YNuih8DCvplsquIHxHKf5r4TR2dn5++ymZHBmxbJ0NCQTr6aL+i/0iNHjvyB15XyoDEsbGeda3AIeFuSCf+YFtq+FxXoyBlvvPHG427PysT4DRa3KxaEJtPZVPHE6u4XnnNReXn5MS6Kg16o5WwgSEScFQdMa3Ycp52LsSAWz4HTVFRUtJKQzp49ew9XiYLE+eGHH/42F3OG1ie4KIru7u7l1PdxE3isgRamHTt27Pc9WciDXiRhU7PCq4ikpaXlu0iK46d4qdBjK+HP1685GhH/Ez0EFn0bu+ENk2HNL1I4INK/0T8N9p2nDPRDIwXdvERofnee/toKYhWTZwIC6qSYsaOj48tcJY2xwcHBT5KHRF6kwHE/8SXqQ5sEbi30eIumMSBBKdnZsWPHD7nrrMTqATQUr8MxifpgljSg8dg9EswVa8KVyUhP6Dk8PBx4siHbOHfu3B3UN8XwSNBqkaeprq5+lw6o4Hg9Mk6cOHE/kora2tq3vBrFOnB5nrpv374/d4PRImLPnj10jyJmuHCUWB2TZ4JeOK6oqDjBRdupx4Wsj/NFR1GEK5OR/oZQX1/f57nKOnAvcgvtI7KjXo1StOAyXt7a2nqfe123gCNHjvwhEjunfMiDog1XJgPCoCtboK9CC+DSL6uKR9GGK5MBcaTo8j46Ompk3u8owQnaTLYjG/eT1Dgq8kkoLy9/nwRDw0u5Six8T+Gkn3fD7BSliuKbVCpVcejQoQcp1pXEu++++ydIjEwIajsak/tE0hABiHsOPHcXF5UsqMhzBGJvgthPcjFSIO5aiFvkd+wlozF5jkDgp/BHr+Dl/ZpbrtC2aJtgmKsUJRooJsZfaOzfv/97SPTVs4BouGIACJHmHjH6sznanIXQpIeLSgA0XDHDAMUSyWTSnWwoCH19fZ+jtlTgiljggUt42ueciNNU0XFDw5WQgGDpw1i+bhTJc3NWCQH1HCEB3Y6QeBOJxAKuugqcCO5P8UhV5Er8gZAv0dPTcwdXK4qiKIqiKMXOlCn/D35GLlZEbUJ8AAAAAElFTkSuQmCC\"","export const API = process.env.REACT_APP_API_URL","import { API } from \"../config\"\r\n\r\nexport const signup = user => {\r\n    return fetch(`${API}/signup`, {\r\n        method: 'POST',\r\n        headers: {\r\n            Accept: 'application/json',\r\n            'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify(user)\r\n    })\r\n        .then(response => {\r\n            return response.json();\r\n        })\r\n        .catch(err => {\r\n            console.log(err);\r\n        });\r\n};\r\n\r\nexport const signin = user => {\r\n    return fetch(`${API}/signin`, {\r\n        method: 'POST',\r\n        headers: {\r\n            Accept: 'application/json',\r\n            'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify(user)\r\n    })\r\n        .then(response => {\r\n            return response.json();\r\n        })\r\n        .catch(err => {\r\n            console.log(err);\r\n        });\r\n};\r\n\r\nexport const authenticate = (data, next) => {\r\n    if(typeof window != 'undefined') {\r\n        localStorage.setItem('jwt', JSON.stringify(data))\r\n        next()\r\n    }\r\n}   \r\n\r\nexport const signout = (next) => {\r\n    if(typeof window != 'undefined') {\r\n        localStorage.removeItem('jwt')\r\n        next()\r\n        return fetch(`${API}/signout`, {\r\n            method: 'GET',\r\n        })\r\n        .then(response => {\r\n            console.log('signout', response)\r\n        })\r\n        .catch(err => console.log(err)) \r\n\r\n\r\n    }\r\n}\r\n\r\nexport const isAuthenticated = () => {\r\n    if(typeof window == 'undefined') {\r\n        return false\r\n    }\r\n    if(localStorage.getItem('jwt')) {\r\n        return JSON.parse(localStorage.getItem('jwt'))\r\n    } else {\r\n        return false\r\n    }\r\n}","export const addItem = (item, next) => {\r\n    let cart = []\r\n    if(typeof window !== 'undefined') {\r\n        if(localStorage.getItem('cart')) {\r\n            cart = JSON.parse(localStorage.getItem('cart'))\r\n        }\r\n        cart.push({\r\n            ...item, \r\n            count: 1\r\n        })\r\n\r\n        // remove duplicates\r\n        // build an Array from new Set and turn it back into array using Array.from\r\n        // so that later we can re-map it\r\n        // new set will only allow unique values in it\r\n        // so pass the ids of each object/product\r\n        // If the loop tries to add the same value again, it'll get ignored\r\n        // ...with the array of ids we got on when first map() was used\r\n        // run map() on it again and return the actual product from the cart\r\n\r\n        cart = Array.from(new Set(cart.map(p => (p._id)))).map(id => {\r\n            return cart.find(p => p._id === id)\r\n        })\r\n\r\n        localStorage.setItem('cart', JSON.stringify(cart))\r\n        next() //runs after the item is added to the cart\r\n    }\r\n} \r\n\r\nexport const itemTotal = () => {\r\n    if(typeof window != 'undefined') {\r\n        if(localStorage.getItem('cart')) {\r\n            return JSON.parse(localStorage.getItem('cart')).length\r\n        }\r\n    }\r\n    return 0\r\n}\r\nexport const getCart = () => {\r\n    if (typeof window !== \"undefined\") {\r\n        // Retrieve the cart from localStorage if it's available\r\n        const cart = localStorage.getItem(\"cart\");\r\n        return cart ? JSON.parse(cart) : []; // Return parsed cart or empty array\r\n    }\r\n    return [];\r\n}\r\n\r\nexport const updateItem = (productId, count) => {\r\n    let cart = []\r\n    if(typeof window != 'undefined') {\r\n        if(localStorage.getItem('cart')) {\r\n            cart = JSON.parse(localStorage.getItem('cart'))\r\n        }\r\n\r\n        cart.map((product, i) => {\r\n            if(product._id === productId) {\r\n                cart[i].count = count\r\n            }\r\n        })\r\n\r\n        localStorage.setItem('cart', JSON.stringify(cart))\r\n    }\r\n}\r\n\r\nexport const removeItem = (productId) => {\r\n    let cart = []\r\n    if(typeof window != 'undefined') {\r\n        if(localStorage.getItem('cart')) {\r\n            cart = JSON.parse(localStorage.getItem('cart'))\r\n        }\r\n\r\n        cart.map((product, i) => {\r\n            if(product._id === productId) {\r\n                cart.splice(i, 1)\r\n            }\r\n        })\r\n\r\n        localStorage.setItem('cart', JSON.stringify(cart))\r\n    }\r\n    return cart\r\n}\r\n\r\nexport const emptyCart = (next) => {\r\n    if(typeof window !== 'undefined'){\r\n        localStorage.removeItem('cart')\r\n    }\r\n}","import React, { Fragment } from \"react\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\nimport { signout, isAuthenticated } from \"../auth\";\r\nimport logo from \"../assets/logo.png\"\r\nimport { itemTotal } from \"./CartHelpers\";\r\n\r\nconst isActive = (history, path) => {\r\n    if (history.location.pathname === path) {\r\n        return { color: \"#3b71ca\", backgroundColor: \"#fff\" }\r\n    } else {\r\n        return { color: \"#fff\", backgroundColor: \"transparent\" }\r\n    }\r\n}\r\n\r\nconst Menu = ({ history }) => (\r\n    <div>\r\n        <ul className=\"nav nav-tabs bg-primary\" >\r\n            <Link to=\"/\">\r\n                <img className=\"logo\"src={logo} alt=\"Logo\" />\r\n            </Link> \r\n            <li className=\"nav-item\">\r\n                <Link className=\"nav-link\" to=\"/\" style={isActive(history, '/')}>Home</Link>\r\n            </li>\r\n            <li className=\"nav-item\">\r\n                <Link className=\"nav-link\" to=\"/shop\" style={isActive(history, '/shop')}>Shop</Link>\r\n            </li>\r\n            {isAuthenticated() && isAuthenticated().user.role === 0 && (\r\n                <li className=\"nav-item \" >\r\n                    <Link className=\"nav-link \"  to=\"/user/dashboard\" style={isActive(history, '/user/dashboard')}>Profile</Link>\r\n                </li>\r\n            )}\r\n            {isAuthenticated() && isAuthenticated().user.role === 1 && (\r\n                <li className=\"nav-item\">\r\n                    <Link className=\"nav-link\" to=\"/admin/dashboard\" style={isActive(history, '/admin/dashboard')}>Dashboard</Link>\r\n                </li>\r\n            )}\r\n            {!isAuthenticated() && (\r\n                <Fragment>\r\n                    <li className=\"nav-item\">\r\n                        <Link className=\"nav-link\" to=\"/signin\" style={isActive(history, '/signin')}>Sign In</Link>\r\n                    </li>\r\n                    <li className=\"nav-item\">\r\n                        <Link className=\"nav-link\" to=\"/signup\" style={isActive(history, '/signup')}>Sign Up</Link>\r\n                    </li>\r\n                </Fragment>\r\n            )}\r\n            {isAuthenticated() && (\r\n                <Fragment>\r\n                    <li className=\"nav-item\">\r\n                        <span className=\"nav-link\" onClick={() => signout(() => {\r\n                            history.push('/')\r\n                        })} style={{ cursor: 'pointer', color: '#fff' }}>Sign Out</span>\r\n                    </li>\r\n                </Fragment>\r\n            )}\r\n            {isAuthenticated() && <li className=\"nav-item ml-auto mb-0 navCart\">\r\n                <Link className=\"nav-link d-flex pb-0 navCart\" to=\"/cart\" style={isActive(history, '/cart')}>\r\n                <i className=\"material-symbols-outlined cartSimbol\" >shopping_cart</i>\r\n                <sup className=\"cartNumber\">\r\n                    <small className=\"cart-badge \">{itemTotal()}</small>\r\n                </sup>\r\n                </Link>\r\n            </li>}\r\n        </ul>\r\n    </div>\r\n)\r\n\r\nexport default withRouter(Menu)","import React from \"react\";\r\nimport {API} from \"../config\"\r\n\r\nconst ShowImage = ({item, url, style}) => {\r\n    return(\r\n    <div className=\"product-img\" >\r\n        <img src={`${API}/${url}/photo/${item._id}`} alt={item.name} style={style}/>\r\n    </div>\r\n\r\n    )\r\n}\r\n\r\nexport default ShowImage","import React, { useState, Fragment } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport ShowImage from \"../core/ShowImage\";\r\nimport { Redirect } from \"react-router-dom/cjs/react-router-dom.min.js\";\r\n\r\nconst SidebarCard = ({product }) => {\r\n    const [isHovered, setIsHovered] = useState(false)\r\n\r\n    return (\r\n        <Fragment>\r\n            <Link to={`/product/${product._id}`} style={{ textDecoration: \"none\", color: \"inherit\" }}>\r\n                <div className=\"card cartao col-12\"\r\n                    onMouseEnter={() => setIsHovered(true)}\r\n                    onMouseLeave={() => setIsHovered(false)}>\r\n                    <div className=\"row pl-0\">\r\n\r\n                        {/* Image column */}\r\n                        <div className=\"col-6 pr-0 pl-1\">\r\n                            <ShowImage item={product} url=\"product\" style={{ height: '140px', width: '6.5em', border: \"1px solid black\" }} />\r\n                        </div>\r\n\r\n                        {/* Details column (Name and Price) */}\r\n                        <div className=\"col-6 pl-0 pr-1\">\r\n                            <div className=\"card-body pl-1 d-flex flex-column align-items-start mt-3 pr-0\">\r\n                                <h5 className=\"card-title\" style={{ fontSize: \"1.1rem\", color: \"black\" }}>\r\n                                    {product.name}\r\n                                </h5>\r\n                                <p className=\"mt-2 mb-0\" style={{ fontWeight: \"bold\", fontSize: \"1.2rem\", color: \"black\" }}>\r\n                                    {product.price}€ {/* Use product.price */}\r\n                                </p>\r\n                            </div>\r\n                        </div>\r\n\r\n                    </div>\r\n                </div>\r\n            </Link>\r\n        </Fragment>\r\n    )\r\n}\r\n\r\nexport default SidebarCard;\r\n","import React from \"react\"\r\nimport SidebarCard from \"./SidebarCard\"\r\nimport { getCart } from \"./CartHelpers\"\r\nimport { Link } from \"react-router-dom/cjs/react-router-dom.min\"\r\n\r\nconst CartSidebar = ({ setSidebar }) => {\r\n    const cartItems = getCart()\r\n\r\n    return (\r\n        <div className=\"container-fluid\" style={{ zIndex: \"1000\", position: \"fixed\", height: \"100vh\", overflow: \"hidden\" }}>\r\n            <div className=\"row flex-nowrap h-100\">\r\n                <div className=\"col-9 sidebarLeft\"></div>\r\n                <div className=\"col-auto col-3 px-3 bg-dark scrollable\" style={{ height: \"100vh\", overflowY: \"auto\" }}>\r\n                    <div className=\"d-flex flex-column align-items-start pt-2 text-white\" style={{ minHeight: \"100vh\" }}>\r\n                        <div\r\n                            className=\"bg-dark pb-0\"\r\n                            style={{ position: \"fixed\", zIndex: \"110\", top: \"0\", padding: \"10px\", width: \"305px\" }}>\r\n                            <div className=\"row justify-content-center\">\r\n                                <h5 className=\"mt-0 mb-0 text-center text-white mt-2\">All your products in the cart</h5>\r\n                                <button className=\"btn btn-danger rounded-circle d-flex align-items-center justify-content-center mt-2 ml-2\" \r\n                                style={{ width: \"25px\", height: \"25px\", fontSize: \"16px\", padding: \"0\", paddingBottom: \"2.5px\" }}\r\n                                onClick={() => setSidebar(false)}\r\n                                >\r\n                                    x\r\n                                </button>\r\n\r\n\r\n                            </div>\r\n                            <hr className=\"border border-primary mb-2\" />\r\n                        </div>\r\n\r\n\r\n                        <div style={{ marginTop: \"60px\" }}></div>\r\n                        {cartItems.map((p, i) => (\r\n                            <div className=\"mb-3 col-12\" key={i}>\r\n                                <SidebarCard cardPB=\"45px\" product={p} />\r\n                            </div>\r\n                        ))}\r\n                        <div style={{ marginTop: \"45px\" }}></div>\r\n\r\n                        <div\r\n                            className=\"bg-dark d-flex justify-content-center\"\r\n                            style={{ position: \"fixed\", zIndex: \"110\", bottom: \"0\", padding: \"5px\", width: \"305px\" }}>\r\n                            <Link to=\"/cart\">\r\n                                <button className=\"btn btn-primary\" onClick={() => setSidebar(false)}>View Cart</button>\r\n                            </Link>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CartSidebar\r\n","import React, { Fragment } from \"react\";\r\nimport Menu from \"./Menu\";\r\nimport \"../styles.css\"\r\nimport CartSidebar from \"./CartSidebar\";\r\n\r\nconst Layout = ({ title = \"Title\", description = \"\", children, className, textStyle, layoutStyle }) => (\r\n    <div>\r\n    <Menu/>\r\n        <div className=\"jumbotron d-flex justify-content-start flex-column p-3 pt-4\" style={layoutStyle}>\r\n            <h2 className=\"title\" style={textStyle}>{title}</h2>\r\n            <p className=\"lead description\">{description}</p>\r\n        </div>\r\n        <div className={className}>\r\n            {children}\r\n        </div>\r\n    </div>\r\n)\r\n\r\nexport default Layout","import React, { useState } from \"react\";\r\nimport { Link } from \"react-router-dom\"\r\nimport Layout from \"../core/Layout\";\r\nimport {signup} from \"../auth/index\"\r\n\r\nconst SignUp = () => {\r\n    const [values, setValues] = useState({\r\n        name: '',\r\n        email: '',\r\n        password: '',\r\n        error: '',\r\n        success: false\r\n    })\r\n\r\n    const { name, email, password, success, error } = values\r\n\r\n    const handleChange = name => event => {\r\n        setValues({ ...values, error: false, [name]: event.target.value })\r\n    }\r\n\r\n    const clickSubmit = (event) => {\r\n        event.preventDefault() //o browser não relouda\r\n        setValues({ ...values, error: false })\r\n        signup({ name: name, email: email, password: password })\r\n            .then(data => {\r\n                if (data.error) {\r\n                    setValues({ ...values, error: data.error, success: false })\r\n                } else {\r\n                    setValues({\r\n                        ...values,\r\n                        name: '',\r\n                        email: '',\r\n                        password: '',\r\n                        error: '',\r\n                        success: true\r\n                    })\r\n                }\r\n            })\r\n    }\r\n\r\n    const signUpForm = () => (\r\n        <form>\r\n            <div className=\"mb-4\">Already have an account? <Link to=\"/signIn\">Sign In</Link></div>\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Name</label>\r\n                <input onChange={handleChange('name')} type=\"text\" className=\"form-control\" value={name} />\r\n            </div>\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Email</label>\r\n                <input onChange={handleChange('email')} type=\"email\" className=\"form-control\" value={email} />\r\n            </div>\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Password</label>\r\n                <input onChange={handleChange('password')} type=\"password\" className=\"form-control\" value={password} />\r\n            </div>\r\n            <button className=\"btn btn-primary\" onClick={clickSubmit} disabled={!name || !email || !password}>Submit</button>\r\n        </form>\r\n    )\r\n\r\n    const showError = () => (\r\n        <div className=\"alert alert-danger\" style={{ display: error ? '' : 'none' }}>{error}</div>\r\n    )\r\n    const showSuccess = () => (\r\n        <div className=\"alert alert-info\" style={{ display: success ? '' : 'none' }}>New account has been created. Please <Link to=\"/signin\">signin</Link></div>\r\n    )\r\n    return (\r\n        // {showSuccess()}\r\n        // {showError()}\r\n        <Layout\r\n            title=\"SignUp\"\r\n            description=\"SignUp to Node React e-commerce App\"\r\n            className=\"container col-md-8 offset-md-2\"\r\n            layoutStyle={{padding: \"35px\"}}\r\n        >\r\n            {showSuccess()}\r\n            {showError()}\r\n            {signUpForm()}\r\n        </Layout>\r\n    )\r\n}\r\n\r\nexport default SignUp","import React, { useState } from \"react\";\r\nimport { Redirect } from \"react-router-dom\"\r\nimport Layout from \"../core/Layout\";\r\nimport { signin, authenticate, isAuthenticated } from \"../auth/index\"\r\nimport { Link } from \"react-router-dom/cjs/react-router-dom.min\";\r\n\r\n/*\r\n email: 'joao@gmail.com',\r\n        password: 'jotajota27',\r\n*/\r\n\r\n\r\nconst SignIn = () => {\r\n    const [values, setValues] = useState({\r\n        email: 'usergg@gmail.com',\r\n        password: 'user1234',\r\n        error: '',\r\n        loading: false,\r\n        redirectToReferrer: false\r\n    })\r\n\r\n    const { email, password, loading, error, redirectToReferrer } = values\r\n    const { user } = isAuthenticated()\r\n\r\n    const handleChange = name => event => {\r\n        setValues({ ...values, error: false, [name]: event.target.value })\r\n    }\r\n\r\n    const clickSubmit = event => {\r\n        event.preventDefault() //o browser não relouda\r\n        setValues({ ...values, error: false, loading: true })\r\n        signin({ email: email, password: password })\r\n            .then(data => {\r\n                if (data.error) {\r\n                    setValues({ ...values, error: data.error, loading: false })\r\n                } else {\r\n                    authenticate(\r\n                        data, () => {\r\n                            setValues({\r\n                                ...values,\r\n                                redirectToReferrer: true\r\n                            })\r\n                        }\r\n                    )\r\n                }\r\n            })\r\n    }\r\n\r\n    const signInForm = () => (\r\n        <form>\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Email</label>\r\n                <input onChange={handleChange('email')} type=\"email\" className=\"form-control\" value={email} />\r\n            </div>\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Password</label>\r\n                <input onChange={handleChange('password')} type=\"password\" className=\"form-control\" value={password} />\r\n            </div>\r\n            <button className=\"btn btn-primary\" onClick={clickSubmit}>Submit</button>\r\n        </form>\r\n    )\r\n\r\n    const showError = () => (\r\n        <div className=\"alert alert-danger\" style={{ display: error ? '' : 'none' }}>{error}</div>\r\n    )\r\n    const showLoading = () => (\r\n        loading && (<div className=\"alert alert-info\"><h2>Loading...</h2></div>)\r\n    )\r\n\r\n    const redirectUser = () => {\r\n        if (redirectToReferrer) {\r\n            if (user && user.role === 1) {\r\n                return <Redirect to=\"/admin/dashboard\" />\r\n            } else {\r\n                return <Redirect to=\"/user/dashboard\" />\r\n            }\r\n        }\r\n        if (isAuthenticated()) {\r\n            return <Redirect to=\"/\" />\r\n\r\n        }\r\n    }\r\n    return (\r\n        // {showSuccess()}\r\n        // {showError()}\r\n        <Layout\r\n            title=\"SignIn\"\r\n            description=\"SignIn to Node React e-commerce App\"\r\n            className=\"container col-md-8 offset-md-2\"\r\n            layoutStyle={{padding: \"35px\"}}\r\n        >\r\n            <div className=\"mb-4\">Don't have an account? <Link to=\"/signUp\">Sign Up</Link> for free!</div>\r\n            {showLoading()}\r\n            {showError()}\r\n            {signInForm()}\r\n            {redirectUser()}\r\n        </Layout>\r\n    )\r\n}\r\n\r\nexport default SignIn","import {API} from '../config'\r\nimport queryString from \"query-string\"\r\n\r\nexport const getProducts = (sortBy) => {\r\n    return fetch(`${API}/products?sortBy=${sortBy}&order=desc&limit=6`, {\r\n        method: 'GET',\r\n    })\r\n        .then(response => {\r\n            return response.json()\r\n        })\r\n        .catch(err => console.log(err))\r\n}\r\n\r\nexport const getCategories = () => {\r\n    return fetch(`${API}/categories`, {\r\n        method: 'GET'\r\n    })\r\n    .then(response => {\r\n        return response.json()\r\n    })\r\n    .catch(err => console.log(err))\r\n}\r\n\r\nexport const getFilteredProducts = (skip, limit, filters = {}) => {\r\n    const data = {\r\n        limit, skip, filters\r\n    }\r\n    return fetch(`${API}/products/by/search`, {\r\n        method: \"POST\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify(data),\r\n    })\r\n        .then(async (response) => {\r\n            if (!response.ok) {\r\n                const errorMessage = await response.text(); // Read raw text for non-JSON errors\r\n                throw new Error(errorMessage || \"An error occurred\");\r\n            }\r\n            return response.json(); // Parse JSON on success\r\n        })\r\n        .catch((err) => {\r\n            console.error(\"Error creating category:\", err.message);\r\n            return { error: err.message }; // Pass the error message to the caller\r\n        }) \r\n}\r\n\r\nexport const list = (params) => {\r\n    const query = queryString.stringify(params);\r\n\r\n    return fetch(`${API}/products/search?${query}`, {\r\n        method: \"GET\",\r\n    })\r\n        .then(async (response) => {\r\n            if (!response.ok) {\r\n                const errorMessage = await response.text();\r\n                throw new Error(errorMessage || \"An error occurred\");\r\n            }\r\n            return response.json();\r\n        })\r\n        .catch((err) => {\r\n            console.error(\"Error fetching products:\", err.message);\r\n            return { error: err.message };\r\n        });\r\n};\r\n\r\n\r\nexport const read = (productId) => {\r\n    return fetch(`${API}/product/${productId}`, {\r\n        method: 'GET'\r\n    })\r\n    .then(response => {\r\n        return response.json()\r\n    })\r\n    .catch(err => console.log(err))\r\n}\r\n\r\nexport const listRelated = (productId) => {\r\n    return fetch(`${API}/products/related/${productId}`, {\r\n        method: 'GET'\r\n    })\r\n    .then(response => {\r\n        return response.json()\r\n    })\r\n    .catch(err => console.log(err))\r\n}\r\n\r\nexport const getBraintreeClientToken = (userId, token) => {\r\n    return fetch(`${API}/braintree/getToken/${userId}`, {\r\n        method: 'GET',\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: `Bearer ${token}`\r\n        },\r\n    })\r\n    .then(response => {\r\n        return response.json()\r\n    })\r\n    .catch(err => console.log(err))\r\n}\r\n\r\nexport const processPayment = (userId, token, paymentData) => {\r\n    return fetch(`${API}/braintree/payment/${userId}`, {\r\n        method: 'POST',\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify(paymentData) //paymentData= payment method and total amount\r\n    })\r\n    .then(response => {\r\n        return response.json()\r\n    })\r\n    .catch(err => console.log(err))\r\n}\r\n\r\nexport const createOrder = (userId, token, createOrderData) => {\r\n    return fetch(`${API}/order/create/${userId}`, {\r\n        method: 'POST',\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify({order: createOrderData}) //orderData = product name, product quantity, etc\r\n    })\r\n    .then(response => {\r\n        return response.json()\r\n    })\r\n    .catch(err => console.log(err))\r\n}","import React, { useState, useEffect, Fragment } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport ShowImage from \"../core/ShowImage\"\r\nimport { addItem, updateItem, removeItem } from \"./CartHelpers.js\";\r\nimport { Redirect } from \"react-router-dom/cjs/react-router-dom.min.js\";\r\n\r\nconst Card = ({ product,\r\n    showAddCartButton = true,\r\n    imageStyle,\r\n    showViewProductButton = true,\r\n    cartUpdate = false,\r\n    showRemoveProductButton = false,\r\n    cardPB = \"\",\r\n    setSidebar,\r\n    viewProductButtonSize = {\r\n        paddingLeft: \"75px\",\r\n        paddingRight: \"75px\",\r\n        paddingTop: \"5px\",\r\n        paddingBottom: \"5px\",\r\n        borderRadius: \"15px\",\r\n    },\r\n    setRun = f => f,\r\n    run = undefined }) => {\r\n    const [redirect, setRedirect] = useState(false)\r\n    const [count, setCount] = useState(product.count)\r\n    const [isHovered, setIsHovered] = useState(false)\r\n\r\n\r\n\r\n    const addToCart = () => {\r\n        addItem(product, () => {\r\n            // setRedirect(true)\r\n        })\r\n        setSidebar(true)\r\n    }\r\n\r\n    const shouldRedirect = (redirect) => {\r\n        if (redirect) {\r\n            return <Redirect to=\"/cart\" />\r\n        }\r\n    }\r\n\r\n    const showAddToCartButton = (showAddCartButton) => {\r\n        if (window.innerWidth >= 1024 && isHovered && showAddCartButton) {\r\n            return (\r\n                <button onClick={addToCart} className=\"btn btn-primary mb-1 mt-1 material-symbols-outlined mr-1\"\r\n                    style={viewProductButtonSize}>add_shopping_cart</button>\r\n            )\r\n        }\r\n    }\r\n\r\n\r\n    const showRemoveButton = (showRemoveProductButton) => {\r\n        return (showRemoveProductButton && (\r\n            <button onClick={() => {\r\n                removeItem(product._id)\r\n                setRun(!run); // run useEffect in parent Cart\r\n            }} className=\"btn btn-danger mt-2 mb-2 ml-1 material-symbols-outlined pl-1 pr-1\" >delete</button>\r\n        ))\r\n    }\r\n\r\n    const handleChange = productId => event => {\r\n        setRun(!run); // run useEffect in parent Cart\r\n        setCount(event.target.value < 1 ? 1 : event.target.value)\r\n        if (event.target.value >= 1) {\r\n            updateItem(productId, event.target.value)\r\n        }\r\n    }\r\n\r\n    const addCount = () => {\r\n        setCount(count + 1) //Increment the count\r\n        updateItem(product._id, count + 1) // Update the item in the car\r\n    }\r\n    const removeCount = () => {\r\n        if (count > 1) {\r\n            setCount(count - 1) // Decrement the count\r\n            updateItem(product._id, count - 1) // Update the item in the cart\r\n        }\r\n    }\r\n\r\n    const showCartUpdateOptions = (cartUpdate) => {\r\n        return cartUpdate && <div>\r\n            <div className=\"input-group mb-1 mt-1\">\r\n                <button className=\"bg-danger mr-1 form-control simbolsCart\" onClick={() => {\r\n                    setRun(!run) // run useEffect in parent Cart\r\n                    addCount()\r\n                }}>+</button>\r\n                <input className=\"form-control cardNumber\" style={{ height: \"45px\", width: \"50px\", borderRadius: \"50%\", textAlign: \"center\", fontSize: \"0.9em\" }} value={count} onChange={handleChange(product._id)} />\r\n                <button className=\"bg-primary ml-1 form-control simbolsCart\" onClick={() => {\r\n                    setRun(!run) // run useEffect in parent Cart\r\n                    removeCount()\r\n                }}>-</button>\r\n            </div>\r\n        </div>\r\n    }\r\n\r\n    const ajustSize = () => {\r\n        if (window.innerWidth <= 320) {\r\n            return '13px' \r\n        } \r\n    }\r\n    \r\n    \r\n    return (\r\n        showViewProductButton && (\r\n            <Fragment>\r\n            <div className=\"card cartao\"\r\n                onMouseEnter={() => setIsHovered(true)}\r\n                onMouseLeave={() => setIsHovered(false)}>\r\n                <div className=\"card-header p-2\" style={{\r\n                    textAlign: \"center\",\r\n                    whiteSpace: \"nowrap\", // Garante que o texto não quebra em várias linhas\r\n                    overflow: \"hidden\",   // Impede o overflow\r\n                    fontSize: `${ajustSize()}`\r\n                }}>{product.name}</div>\r\n                <div className=\"card-body pb-0 p-1\">\r\n                    {shouldRedirect(redirect)}\r\n                    <Link to={`/product/${product._id}`} style={{ textDecoration: \"none\", color: \"inherit\" }}>\r\n                        <ShowImage item={product} url=\"product\" style={imageStyle} />\r\n                    </Link>\r\n\r\n                    {/* <p className=\"lead m\">{product.description.substring(0, 35)}</p> */}\r\n                    <p className=\"mt-2 mb-0 ml-1\" style={{ fontWeight: \"bold\", fontSize: \"1.2rem\" }}>{product.price}€</p>\r\n                    <div className=\"row\" style={{ display: \"flex\", justifyContent: \"center\" }}>\r\n                        {/* <Link to=\"/cart\"> */}\r\n                            {showAddToCartButton(showAddCartButton)}\r\n                        {/* </Link> */}\r\n                        {showCartUpdateOptions(cartUpdate)}\r\n                        {showRemoveButton(showRemoveProductButton)}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n                {!isHovered && (\r\n                    <div style={{ marginBottom: cardPB }}></div>\r\n                )}\r\n                </Fragment>\r\n        )\r\n    )\r\n}\r\n\r\nexport default Card","import React, { useState, useEffect } from \"react\";\r\nimport Layout from \"./Layout\";\r\nimport { getProducts } from \"./apiCore\";\r\nimport Card from \"./Card\";\r\nimport CartSidebar from \"./CartSidebar\";\r\nimport { Swiper, SwiperSlide } from \"swiper/react\"; // Import necessary components\r\nimport \"swiper/swiper-bundle.min.css\"; // Import the Swiper styles\r\n\r\n// Import Swiper modules (Optional)\r\nimport { Navigation, Pagination, Scrollbar, A11y } from \"swiper\";\r\n\r\nconst Home = () => {\r\n    const [productsBySell, setProductsBySell] = useState([]);\r\n    const [productsByArrival, setProductsByArrival] = useState([]);\r\n    const [error, setError] = useState(false);\r\n    const [product, setProduct] = useState([]);\r\n    const [sidebar, setSidebar] = useState(false);\r\n    const [isMobile, setIsMobile] = useState(false); // State to track screen size\r\n\r\n    const loadProductsBySell = () => {\r\n        getProducts('sold').then(data => {\r\n            if (data.error) {\r\n                setError(data.error);\r\n            } else {\r\n                setProductsBySell(data);\r\n            }\r\n        });\r\n    };\r\n\r\n    const loadProductsByArrival = () => {\r\n        getProducts('createdAt').then(data => {\r\n            if (data.error) {\r\n                setError(data.error);\r\n            } else {\r\n                setProductsByArrival(data);\r\n            }\r\n        });\r\n    };\r\n\r\n    const loadAllProducts = () => {\r\n        getProducts() // Ensure this API fetches all products without filters\r\n            .then(data => {\r\n                if (data.error) {\r\n                    setError(data.error);\r\n                } else {\r\n                    setProduct(data);\r\n                }\r\n            });\r\n    };\r\n\r\n    const ajustImage = () => {\r\n        if (window.innerWidth <= 320) {\r\n            return '105px' \r\n        } \r\n        if (window.innerWidth > 320 && window.innerWidth <= 375) {\r\n            return '125px'\r\n        }\r\n        if (window.innerWidth > 375 && window.innerWidth <= 425) {\r\n            return '160px'\r\n        }\r\n        if (window.innerWidth > 425 && window.innerWidth <= 768) {\r\n            return '230px'\r\n        }\r\n        if (window.innerWidth > 768 && window.innerWidth <= 1024) {\r\n            return '210px'\r\n        }\r\n        if (window.innerWidth > 1024 && window.innerWidth <= 1440) {\r\n            return '300px'\r\n        }\r\n        if (window.innerWidth > 1440) {\r\n            return '570px'\r\n        }\r\n        else {\r\n            return '270px'\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        loadProductsByArrival();\r\n        loadProductsBySell();\r\n        loadAllProducts();\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (sidebar) {\r\n            document.body.style.overflow = \"hidden\";\r\n        } else {\r\n            document.body.style.overflow = \"auto\";\r\n        }\r\n    }, [sidebar]);\r\n\r\n    // Track screen size on resize\r\n    useEffect(() => {\r\n        const handleResize = () => {\r\n            if (window.innerWidth < 1024) { // If screen is smaller than or equal to 1024px (Tablet and mobile)\r\n                setIsMobile(true);\r\n            } else {\r\n                setIsMobile(false);\r\n            }\r\n        };\r\n\r\n        handleResize(); // Check initial screen size\r\n\r\n        window.addEventListener(\"resize\", handleResize); // Add event listener on window resize\r\n\r\n        return () => {\r\n            window.removeEventListener(\"resize\", handleResize); // Cleanup the event listener\r\n        };\r\n    }, []);\r\n\r\n    return (\r\n        <div>\r\n            {sidebar && <CartSidebar setSidebar={setSidebar} />}\r\n\r\n            <Layout title=\"Home Page\" description=\"Node React e-commerce App\" className=\"container-fluid\" layoutStyle={{ padding: \"35px\" }}>\r\n                {/* New Arrivals */}\r\n                <h2 className=\"mb-4\">New Arrivals</h2>\r\n                <div className=\"row\">\r\n                    {isMobile ? ( // Conditionally render Swiper for mobile and tablet only\r\n                        <Swiper\r\n                        modules={[Navigation, Pagination, Scrollbar, A11y]}\r\n                        spaceBetween={15}\r\n                        slidesPerView={5} // Match the number of products displayed\r\n                        navigation\r\n                        pagination={{ clickable: true }}\r\n                        loop={false} // Disable looping if you don't have enough items\r\n                        loopFillGroupWithBlank={true}\r\n                            breakpoints={{\r\n                                320: {\r\n                                    slidesPerView: 3,  // 1 slide visible on very small screens (mobile)\r\n                                },\r\n                                768: {\r\n                                    slidesPerView: 4,  // 3 slides visible on medium-sized screens (tablets)\r\n                                },\r\n                            }}\r\n                        >\r\n                            {productsByArrival.map((product, i) => (\r\n                                <SwiperSlide key={i}>\r\n                                    <Card\r\n                                        cardPB=\"45px\"\r\n                                        product={product}\r\n                                        imageStyle={{ height: ajustImage(), width: '100%' }}\r\n                                        showAddCartButton={product.quantity === 0 ? false : true}\r\n                                        setSidebar={setSidebar}\r\n                                    />\r\n                                </SwiperSlide>\r\n                            ))}\r\n                        </Swiper>\r\n                    ) : (\r\n                        // Show the products without Swiper on laptops or larger screens\r\n                        productsByArrival.map((product, i) => (\r\n                            <div className=\"col-2 mb-3 pl-2 pr-2\" key={i}>\r\n                                <Card\r\n                                    cardPB=\"45px\"\r\n                                    product={product}\r\n                                    imageStyle={{ height: `${ajustImage()}`, width: '100%' }}\r\n                                    showAddCartButton={product.quantity === 0 ? false : true}\r\n                                    setSidebar={setSidebar}\r\n                                />\r\n                            </div>\r\n                        ))\r\n                    )}\r\n                </div>\r\n\r\n                {/* Best Sellers */}\r\n                <h2 className=\"mb-4 mt-4\">Best Sellers</h2>\r\n                <div className=\"row\">\r\n                {isMobile ? ( // Conditionally render Swiper for mobile and tablet only\r\n                        <Swiper\r\n                        modules={[Navigation, Pagination, Scrollbar, A11y]}\r\n                        spaceBetween={15}\r\n                        slidesPerView={5} // Match the number of products displayed\r\n                        navigation\r\n                        pagination={{ clickable: true }}\r\n                        loop={false} // Disable looping if you don't have enough items\r\n                        loopFillGroupWithBlank={true}\r\n                            breakpoints={{\r\n                                320: {\r\n                                    slidesPerView: 3,  // 1 slide visible on very small screens (mobile)\r\n                                },\r\n                                768: {\r\n                                    slidesPerView: 4,  // 3 slides visible on medium-sized screens (tablets)\r\n                                },\r\n                            }}\r\n                        >\r\n                            {productsBySell.map((product, i) => (\r\n                                <SwiperSlide key={i}>\r\n                                    <Card\r\n                                        cardPB=\"45px\"\r\n                                        product={product}\r\n                                        imageStyle={{ height: `${ajustImage()}`, width: '100%' }}\r\n                                        showAddCartButton={product.quantity === 0 ? false : true}\r\n                                        setSidebar={setSidebar}\r\n                                    />\r\n                                </SwiperSlide>\r\n                            ))}\r\n                        </Swiper>\r\n                    ) : (\r\n                        // Show the products without Swiper on laptops or larger screens\r\n                        productsBySell.map((product, i) => (\r\n                            <div className=\"col-2 mb-3 pl-2 pr-2\" key={i}>\r\n                                <Card\r\n                                    cardPB=\"45px\"\r\n                                    product={product}\r\n                                    imageStyle={{ height: `${ajustImage()}`, width: '100%' }}\r\n                                    showAddCartButton={product.quantity === 0 ? false : true}\r\n                                    setSidebar={setSidebar}\r\n                                />\r\n                            </div>\r\n                        ))\r\n                    )}\r\n                </div>\r\n            </Layout>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Home;\r\n","import React, { useState} from \"react\";\r\n\r\nconst Checkbox = ({categories, handleFilters}) => {\r\n    const [checked, setChecked] = useState([])\r\n\r\n    const handleToggle = c => () => {\r\n        const currentCategoryId = checked.indexOf(c) /*recebemos uma category quando houve ro evento onchange, \r\n        depois procura-se no array \"cheked\" por uma category com esse nome,\r\n         se se encontrar, retoma o index desta, se não, retoma -1*/\r\n        const newCheckedCategoryId = [...checked] //todas as categorias checadas\r\n        //se a que foi clicada ainda não estava checada, adiciona, se já estava, tira\r\n        if(currentCategoryId === -1) { //se não tiver checada\r\n            newCheckedCategoryId.push(c)\r\n        } else {\r\n            newCheckedCategoryId.splice(currentCategoryId, 1)\r\n        }\r\n        // console.log(newCheckedCategoryId)\r\n        setChecked(newCheckedCategoryId)\r\n        handleFilters(newCheckedCategoryId  )\r\n    }   \r\n\r\n    return (\r\n        categories.map((c, i) => (\r\n            <li key={i} className=\"list-unstyled\">\r\n                <input onChange={handleToggle(c._id)} type=\"checkbox\" className=\"form-check-input\" checked={checked.includes(c._id)}/>\r\n                <label className=\"form-check-label\">{c.name}</label>\r\n            </li>\r\n        ))\r\n    )\r\n}\r\nexport default Checkbox","import React, {useState} from \"react\";\r\n\r\nconst RadioBox = ({prices, handleFilters}) => {\r\n    const [value, setValue] = useState(0)\r\n\r\n    const handleChange = (event) => {\r\n        handleFilters(event.target.value)\r\n        setValue(event.target.value)\r\n    }\r\n\r\n    return (\r\n        prices.map((p, i) => (\r\n            <div key={i}>\r\n                <input onChange={handleChange} type=\"radio\" className=\"mr-2 ml-4\" value={`${p._id}`} name=\"p\"/>\r\n                <label className=\"form-check-label\">{p.name}</label>\r\n            </div>\r\n        ))\r\n    )\r\n}\r\n\r\nexport default RadioBox","export const prices = [\r\n    {\r\n        _id: 0,\r\n        name: \"Any\",\r\n        array: []\r\n    },\r\n    {\r\n        _id: 1,\r\n        name: \"0€ to 9€\",\r\n        array: [0, 9]\r\n    },\r\n    {\r\n        _id: 2,\r\n        name: \"10€ to 19\",\r\n        array: [10, 19]\r\n    },\r\n    {\r\n        _id: 3,\r\n        name: \"20€ to 29€\",\r\n        array: [20, 29]\r\n    },\r\n    {\r\n        _id: 4,\r\n        name: \"30€ to 39€\",\r\n        array: [30, 39]\r\n    },\r\n    {\r\n        _id: 5,\r\n        name: \"More than 40€\",\r\n        array: [40, 99]\r\n    },\r\n\r\n] ","import React, { useState, useEffect, Fragment } from \"react\"\r\nimport Layout from \"./Layout\"\r\nimport { getCategories, getFilteredProducts, list } from \"./apiCore\"\r\nimport Checkbox from \"./Checkbox\"\r\nimport Card from \"./Card\"\r\nimport RadioBox from \"./RadioBox\"\r\nimport { prices } from \"./fixedPrices\"\r\nimport Search from \"./Search\"\r\nimport CartSidebar from \"./CartSidebar\"\r\n\r\nconst Shop = () => {\r\n    const [myFilters, setMyFilters] = useState({\r\n        filters: { category: [], price: [] }\r\n    });\r\n    const [categories, setCategories] = useState([])\r\n    const [error, setError] = useState(false)\r\n    const [skip, setSkip] = useState(0)\r\n    const [size, setSize] = useState(0)\r\n    const [filteredResults, setFilteredResults] = useState([])\r\n    const [productMessage, setProductMessage] = useState(\"\")\r\n    const [searchQuery, setSearchQuery] = useState(\"\")\r\n    const [sidebar, setSidebar] = useState(false)\r\n    const limit = 6\r\n    const [data, setData] = useState({\r\n            search: \"\",\r\n            category: \"\",\r\n        })\r\n        const { search, category } = data\r\n    const [query, setQuery] = useState(false)\r\n//-----------------------------------------------------------------------------------\r\n\r\n\r\n    const init = () => {\r\n        getCategories().then(data => {\r\n            if (data.error) {\r\n                setError(data.error)\r\n            } else {\r\n                setCategories(data)\r\n            }\r\n        });\r\n\r\n        // Buscar o número total de produtos logo ao carregar a página\r\n        getFilteredProducts(0, 1000, {}).then(data => {\r\n            if (data.error) {\r\n                setError(data.error)\r\n            } else {\r\n                setSize(data.size) // Atualiza o total de produtos disponíveis\r\n            }\r\n        });\r\n    };\r\n\r\n    const loadFilterResults = (newFilters) => {\r\n        getFilteredProducts(skip, limit, newFilters).then(data => {\r\n            if (data.error) {\r\n                setError(data.error)\r\n            } else {\r\n                setFilteredResults(data.data);\r\n                setSize(data.size)\r\n                setSkip(0)\r\n            }\r\n        })\r\n    }\r\n\r\n    const handleFilters = (filters, filterBy) => {\r\n        const newFilters = { ...myFilters };\r\n        newFilters.filters[filterBy] = filters;\r\n    \r\n        if (filterBy === \"price\") {\r\n            let priceValues = handlePrice(filters);\r\n            newFilters.filters[filterBy] = priceValues;\r\n        }\r\n    \r\n        setMyFilters(newFilters);\r\n        setFilteredResults([]);\r\n        setSize(0);\r\n    \r\n        // ✅ Include searchQuery in the API call\r\n        getFilteredProducts(0, 6, { ...newFilters.filters, search: searchQuery }) \r\n            .then(data => {\r\n                if (data.error) {\r\n                    setError(data.error);\r\n                } else {\r\n                    setFilteredResults(data.data);\r\n                    setSize(data.size);\r\n                }\r\n            });\r\n    };\r\n    \r\n    \r\n    \r\n\r\n    const handlePrice = value => {\r\n        const data = prices\r\n        let array = []\r\n        for (let key in data) {\r\n            if (data[key]._id === parseInt(value)) {\r\n                array = data[key].array\r\n            }\r\n        }\r\n        return array\r\n    }\r\n\r\n    const searchSubmit = (e) => {\r\n        e.preventDefault();\r\n        \r\n        // ✅ Ensure search query is applied along with filters\r\n        list({ \r\n            search: search || undefined, \r\n            category: category || undefined, \r\n            limit: 6, \r\n            skip: 0 \r\n        }).then(response => {\r\n            if (response.error) {\r\n                console.log(response.error);\r\n            } else {\r\n                setFilteredResults(response.data); // response.data contains the actual products\r\n            }\r\n        });\r\n        setQuery(true)\r\n    };\r\n\r\n        const handleChange = name => event => {\r\n            setData({ ...data, [name]: event.target.value })\r\n            if (name === \"search\") {\r\n                setSearchQuery(event.target.value)  // Atualiza o termo de pesquisa\r\n            }\r\n        }\r\n    \r\n    \r\n\r\n\r\n//SEARCH BAR\r\nconst searchForm = () => (\r\n    <form onSubmit={searchSubmit}>\r\n        <span className=\"input-group-text mb-3 pr-0\">\r\n            <div className=\"input-group input-group-sm\">\r\n                <input\r\n                    type=\"search\"\r\n                    className=\"form-control pr-0\"\r\n                    placeholder=\"Search by name\"\r\n                    value={searchQuery}\r\n                    onChange={handleChange(\"search\")}\r\n                />\r\n            </div>\r\n            <div className=\"btn input-group-append\" style={{ border: \"none\" }}>\r\n                <button type=\"submit\" className=\"input-group-text material-symbols-outlined p-1\" style={{ fontSize: \"1.3em\" }}>\r\n                    search\r\n                </button>\r\n            </div>\r\n        </span>\r\n    </form>\r\n);\r\n\r\n\r\n//MESSAGE SHOWING ... PRODUCTS\r\n\r\n    const showMessage = (productsLength, filters) => {\r\n        getFilteredProducts(0, 1000, filters).then(data => {\r\n            if (data.error) {\r\n                setError(data.error);\r\n            } else {\r\n                setSize(data.size);\r\n    \r\n                const validLength = productsLength !== undefined ? productsLength : 0\r\n                \r\n                if (validLength === 0) {\r\n                    setProductMessage(`No products found ${searchQuery ? `for \"${searchQuery}\"` : \"\"}`);\r\n                } else {\r\n                    if (searchQuery) {\r\n                        setProductMessage(`Showing ${validLength} products for \"${searchQuery}\"`);\r\n                    } else {\r\n                        setProductMessage(`Showing ${validLength} of ${data.size} products`);\r\n                    }\r\n                }\r\n            }\r\n        })\r\n    }\r\n    \r\n//LOAD MORE BUTTON\r\n\r\n    const loadMore = () => {\r\n        let toSkip = skip + limit;\r\n        !query && getFilteredProducts(toSkip, limit, { ...myFilters.filters }).then(data => {\r\n            if (data.error) {\r\n                setError(data.error)\r\n            } else {\r\n                setFilteredResults(prevResults => [...prevResults, ...data.data])\r\n                setSkip(toSkip)\r\n            }\r\n        })\r\n        query && list({ search, category, limit, skip: toSkip }).then(response => {\r\n        if (response.error) {\r\n            setError(response.error);\r\n        } else {\r\n            setFilteredResults(prevResults => [...prevResults, ...response.data]); // Append new results\r\n            setSkip(toSkip); // Update skip count\r\n            setSize(response.size); // Update size to check if more products exist\r\n        }\r\n    })\r\n    }\r\n    const loadMoreButton = () => {\r\n        if (filteredResults.length < size) {\r\n            return (\r\n                <div className=\"d-flex justify-content-center\">\r\n                    <button onClick={loadMore} className=\"btn btn-secondary mb-5\">Load More</button>\r\n                </div>\r\n            );\r\n        }\r\n        return null; // Don't render anything if there's nothing more to load\r\n    };\r\n    \r\n    \r\n//useEffect\r\n    \r\n    useEffect(() => {\r\n        showMessage(filteredResults.length, myFilters.filters);\r\n    }, [filteredResults])\r\n    useEffect(() => {\r\n        init()\r\n        loadFilterResults(myFilters.filters)\r\n    }, [])\r\n    useEffect(() => {\r\n        if (sidebar) {\r\n            document.body.style.overflow = \"hidden\";\r\n        } else {\r\n            document.body.style.overflow = \"auto\";\r\n        }\r\n    }, [sidebar])\r\n\r\n    //HTML  \r\n\r\n    return (\r\n        <Fragment>\r\n            {sidebar && <CartSidebar setSidebar={setSidebar} />}\r\n\r\n            <Layout title=\"Shop Page\" description=\"Find books of your beautiful choices\" className=\"container-fluid\" layoutStyle={{ padding: \"35px\" }}>\r\n                {/* Search component */}\r\n                <div className=\"mb-4\">\r\n                    {searchForm()}\r\n                </div>\r\n\r\n                <div className=\"row \">\r\n                    <div className=\"col-2\">\r\n                        <h5>Filter by categories</h5>\r\n                        <ul>\r\n                            <Checkbox categories={categories} handleFilters={filters => handleFilters(filters, 'category')} />\r\n                        </ul>\r\n                        <h5>Filter by price range</h5>\r\n                        <div>\r\n                            <RadioBox prices={prices} handleFilters={filters => handleFilters(filters, 'price')} />\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"col-10\">\r\n                        <h2 className=\"mb-3\">Products</h2>\r\n                        <p style={{ fontSize: \"1.1em\" }} className=\"mb-4\">{productMessage}</p>\r\n                        <div className=\"row\">\r\n                            {filteredResults && Array.isArray(filteredResults) && filteredResults.map((product, i) => (\r\n                                <div className=\"col-2 mb-3\" key={i}>\r\n                                    <Card product={product}\r\n                                        imageStyle={{ height: '200px', width: '100%' }}\r\n                                        showAddCartButton={product.quantity === 0 ? false : true}\r\n                                        cardPB=\"40px\"\r\n                                        viewProductButtonSize={{\r\n                                            paddingLeft: \"55px\",\r\n                                            paddingRight: \"55px\",\r\n                                            paddingTop: \"3px\",\r\n                                            paddingBottom: \"3px\",\r\n                                            borderRadius: \"15px\",\r\n                                        }}\r\n                                        setSidebar={setSidebar}\r\n                                    />\r\n                                </div>\r\n                            ))}\r\n                        </div>\r\n                        <hr />\r\n                        {loadMoreButton()}\r\n                    </div>\r\n                </div>\r\n            </Layout>\r\n        </Fragment>\r\n    )\r\n}\r\n\r\nexport default Shop\r\n","import React, {useState, useEffect} from \"react\";\r\nimport ShowImage from \"../core/ShowImage\"\r\nimport moment from \"moment\"\r\nimport { Fragment } from \"react\";\r\nimport { addItem } from \"./CartHelpers\";\r\nimport { Redirect } from \"react-router-dom/cjs/react-router-dom.min.js\";\r\nimport CartSidebar from \"./CartSidebar\";\r\n\r\n\r\nconst SingleProductCard = ({ product, imageStyle, setSidebar}) => {\r\n    const [redirect, setRedirect] = useState(false)\r\n\r\n    const addToCart = () => {\r\n            addItem(product, () => {\r\n                // setRedirect(true)\r\n            })\r\n            setSidebar(true)\r\n        }\r\n    \r\n        const shouldRedirect = (redirect) => {\r\n            if(redirect) {\r\n                return <Redirect to=\"/cart\"/>\r\n    \r\n            }\r\n        }\r\n        \r\n\r\n    const showAddToCartButton = () => {\r\n        if (product.quantity === 0) {\r\n            return (\r\n                <button onClick={addToCart} className=\"btn d-flex align-items-center gap-2 rounded-pill bg-secondary\" disabled style={{ color: \"white\", padding: \"10px 240px 10px 240px\" }}>\r\n                    <span className=\"material-symbols-outlined \">shopping_cart_off</span>\r\n                    <p className=\"m-0 ml-2\" style={{ fontWeight: \"bold\" }}>ADD TO CART</p>\r\n                </button>\r\n            )\r\n            \r\n        } else {\r\n            return (\r\n                <button onClick={addToCart} className=\"btn d-flex align-items-center gap-2 rounded-pill bg-primary\" style={{ color: \"white\", padding: \"10px 240px 10px 240px\" }}>\r\n                    <span className=\"material-symbols-outlined \">add_shopping_cart</span>\r\n                    <p className=\"m-0 ml-2\" style={{ fontWeight: \"bold\" }}>ADD TO CART</p>\r\n                </button>\r\n            )\r\n\r\n        }\r\n\r\n    }\r\n\r\n    const showStok = (quantity) => {\r\n        return (\r\n            quantity > 0 ? <span className=\"\" style={{ color: \"green\" }}>In Stock</span > : <span style={{ color: \"red\" }}>Out of Stock</span>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <Fragment>\r\n            <div className=\"p-3 col-6\" >\r\n\r\n                <div className=\" card card-body\" style={{ justifyContent: \"center\", alignItems: \"center\" }}>\r\n                {/* {shouldRedirect(redirect)} */}\r\n\r\n                    <ShowImage item={product} url=\"product\" style={imageStyle} />\r\n                </div>\r\n\r\n\r\n            </div>\r\n            <div className=\"col-6 pt-3\">\r\n                <div className=\"card p-3 d-inline-block w-100 shadow\">\r\n                    <p className=\"mb-0\" style={{ fontWeight: \"bold\", fontSize: \"2.3rem\" }}>{product.price}€</p>\r\n                    \r\n                    <p className=\"lead\">{product.description}</p>\r\n                    <p className=\"pt-1\">Category: {product.category && product.category.name}</p>\r\n                    <div className=\"row\" style={{ display: \"flex\", justifyContent: \"center\" }}>\r\n                        {showAddToCartButton()}\r\n                    </div>\r\n                    <p className=\"mt-3\">Added {moment(product.createdAt).fromNow()}</p>\r\n                    {showStok(product.quantity)}\r\n                </div>\r\n            </div>\r\n\r\n        </Fragment>\r\n    )\r\n}\r\n\r\nexport default SingleProductCard","import React, { useState, useEffect } from \"react\"\r\nimport Layout from \"./Layout\"\r\nimport { read, listRelated } from \"./apiCore\"\r\nimport SingleProductCard from \"./SingleProductCard\"\r\nimport Card from \"./Card\"\r\nimport CartSidebar from \"./CartSidebar\"\r\n\r\nconst Product = (props) => {\r\n    const [product, setProduct] = useState({})\r\n    const [relatedProducts, setRelatedProducts] = useState([])\r\n    const [error, setError] = useState(false)\r\n    const [sidebar, setSidebar] = useState(false)\r\n\r\n    const loadSingleProduct = (productId) => {\r\n        read(productId).then(data => {\r\n            if (data.error) {\r\n                setError(data.error)\r\n            } else {\r\n                setProduct(data)\r\n                //fetch related products\r\n\r\n                listRelated(data._id).then(data => {\r\n                    if (data.error) {\r\n                        setError(data.error)\r\n                    } else {\r\n                        setRelatedProducts(data)\r\n                    }\r\n                })\r\n            }\r\n        })\r\n    }\r\n\r\n    \r\n    useEffect(() => {\r\n        const productId = props.match.params.productId\r\n        loadSingleProduct(productId)\r\n        window.scrollTo({\r\n            top: 0,\r\n            left: 0,\r\n            behavior: \"smooth\" // Optional: smooth scrolling\r\n        })\r\n    }, [props])\r\n\r\n        useEffect(() => {\r\n                if (sidebar) {\r\n                    document.body.style.overflow = \"hidden\";\r\n                } else {\r\n                    document.body.style.overflow = \"auto\";\r\n                }\r\n            }, [sidebar])\r\n\r\n    \r\n    return (\r\n        <div>\r\n            {sidebar && <CartSidebar setSidebar={setSidebar}/>}\r\n        <Layout title={product.name} className=\"container-fluid\" textStyle={{ fontSize: \"3em\" }} layoutStyle={{ padding: \"40px\", alignItems: \"center\" }}>\r\n            <div className=\"row\">\r\n                <SingleProductCard product={product}\r\n                    showViewProductButton={false}\r\n                    imageStyle={{ height: '570px', width: '100%' }}\r\n                    setSidebar={setSidebar}\r\n                     />\r\n                </div>\r\n                <hr/>\r\n                <h4 style={{marginTop: \"50px\", fontSize: \"2em\"}}>You may also be interested in</h4>\r\n                <div className=\"row\" style={{marginTop: \"30px\"}}>\r\n                {relatedProducts.map((p, i) => (\r\n                    <div className=\"col-2 mb-3\" key={i}><Card product={p} imageStyle={{ height: '250px', width: '100%' }} setSidebar={setSidebar}/></div>\r\n                ))}\r\n                </div>\r\n        </Layout>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Product","import React, {useState, useEffect} from \"react\";\r\nimport {getBraintreeClientToken, processPayment, createOrder} from \"./apiCore\"\r\nimport {isAuthenticated} from \"../auth\"\r\nimport {Link} from \"react-router-dom\"\r\nimport DropIn from 'braintree-web-drop-in-react'\r\nimport {emptyCart} from \"./CartHelpers\"\r\n\r\nconst CheckOut = ({products, setRun }) => {\r\n\r\n    const [data, setData] = useState({\r\n        success: false,\r\n        clientToken: null,\r\n        error: '',\r\n        instance: {},\r\n        address: ''\r\n    })\r\n\r\n    const userId = isAuthenticated() && isAuthenticated().user._id\r\n    const token = isAuthenticated() && isAuthenticated().token\r\n\r\n    const getToken = (userId, token) => {\r\n        getBraintreeClientToken(userId, token).then(data => {\r\n            if(data.error) {\r\n                setData({...data, error: data.error})\r\n            } else {\r\n                setData({clientToken: data.clientToken})\r\n            }\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        getToken(userId, token)\r\n    }, [])\r\n\r\n    const handleAddress = (event) => {\r\n        setData({...data, address: event.target.value})\r\n    }\r\n\r\n    const getTotalAmount = () => {\r\n        return Math.round(\r\n            products.reduce((currentValue, nextValue) => {\r\n                return currentValue + nextValue.count * nextValue.price;\r\n            }, 0) * 100\r\n        ) / 100\r\n    }\r\n    \r\n    const showCheckout = () => {\r\n        if (isAuthenticated()) {\r\n            return <div>{showDropIn()}</div>\r\n        } else {\r\n            return <Link to=\"/signin\"><button className=\"btn btn-primary mt-3\">Sign in to checkout</button></Link>\r\n        }\r\n    }\r\n\r\n    let deliveryAddress = data.address\r\n\r\n    const buy = () => {\r\n        setData({loading: true})\r\n        window.scrollTo({ top: 0, behavior: \"smooth\" })\r\n        //send the nonce to your server\r\n        //nonce = data.instance.requestPaymentMethod()\r\n\r\n        let nonce;\r\n        let getNonce = data.instance.requestPaymentMethod().then(data => { //credit card, paypal, etc (the option chosen by the user)\r\n            // console.log(data)\r\n            nonce = data.nonce\r\n\r\n            //once you have nonce (card type, card number, etc), send nonce as 'paymentMethodNonce' to the backend\r\n            //and also total (the total amount) to be charged\r\n            // console.log('send nonce and total to process: ', nonce, getTotal(products))\r\n\r\n            const paymentData = {\r\n                paymentMethodNonce: nonce,\r\n                amount: getTotalAmount(products)\r\n            }\r\n\r\n            processPayment(userId, token, paymentData)\r\n            .then(response => {\r\n                // console.log(response)\r\n                setData({...data, success: response.success})\r\n\r\n\r\n                const createOrderData = {\r\n                    products: products,\r\n                    transaction_id: response.transaction.id,\r\n                    amount: response.transaction.amount,\r\n                    address: deliveryAddress\r\n                }\r\n\r\n                //create order\r\n                createOrder(userId, token, createOrderData)\r\n\r\n                //empty card\r\n                emptyCart(() => {\r\n                    // console.log('payment success and empty cart')\r\n                    setRun(prev => !prev)\r\n                    setData({success: true})\r\n                })\r\n\r\n\r\n            })\r\n            .catch(error => {\r\n                console.log(error)\r\n                setData({loading: false})\r\n            })\r\n        })\r\n        .catch(error => {\r\n            // console.log('dropin error: ', error)\r\n            setData({...data, error: error.message})\r\n        })\r\n    }\r\n\r\n    const showError = (error) => (\r\n        //it will only display if there is an error\r\n        <div className=\"alert alert-danger mt-3\" style={{display: error ? '' : 'none'}}>\r\n            {error}\r\n        </div> \r\n    )\r\n\r\n    const showSuccess = (success) => (\r\n        <div className=\"alert alert-info mt-3\" style={{display: success ? '' : 'none'}}>\r\n            Thanks! Your purchase has been completed successfully!\r\n        </div> \r\n    )\r\n\r\n\r\n    const showDropIn = () => (\r\n        <div onBlur={() => setData({...data, error: ''})}> {/* when you click anywhere on the page, onBlur cleen the error*/}\r\n            {data.clientToken !== null && products.length > 0 ? (\r\n                <div>\r\n                    <div className=\"gorm-group mb-3 mt-3\">\r\n                        <label style={{fontWeight: \"500\"}}>Delivery address:</label>\r\n                        <textarea onChange={handleAddress} className=\"form-control\" value={data.address} placeholder=\"Type your delivery address here...\"></textarea>\r\n                    </div>\r\n                    <DropIn options={{\r\n                        authorization: data.clientToken,\r\n                        card: {\r\n                            vault: false, // Ensure vaulting is disabled\r\n                            overrides: {\r\n                                fields: {\r\n                                    cvv: {\r\n                                        placeholder: \"CVV\", // Force CVV field to appear\r\n                                    }\r\n                                }\r\n                            }},\r\n                        paypal: {\r\n                            flow: \"vault\"\r\n                        }\r\n                    }} \r\n                    \r\n                    \r\n                    onInstance={instance => (data.instance = instance)}/>\r\n\r\n                    <button onClick={buy} className=\"btn btn-success btn-block\">CheckOut</button>\r\n                </div>\r\n            ) : null }\r\n        </div>\r\n    )\r\n\r\n    return <div>\r\n        <h2>Total: {getTotalAmount()}€</h2>\r\n        {showSuccess(data.success)}\r\n        {showError(data.error)}\r\n        {showCheckout()}\r\n    </div>\r\n}\r\n\r\n\r\nexport default CheckOut","import \"react-toastify/dist/ReactToastify.css\"\r\nimport { toast } from \"react-toastify\"\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { emptyCart, getCart } from \"./CartHelpers\";\r\nimport Layout from \"./Layout\"\r\nimport Card from \"./Card\";\r\nimport { Link } from \"react-router-dom/cjs/react-router-dom.min\";\r\nimport CheckOut from \"./CheckOut\";\r\nimport { isAuthenticated } from \"../auth\";\r\n\r\ntoast.configure()\r\n\r\nconst Cart = () => {\r\n    const [items, setItems] = useState([])\r\n    const [run, setRun] = useState(false)\r\n    const userId = isAuthenticated().user._id\r\n\r\n    useEffect(() => {\r\n        setItems(getCart())\r\n        document.body.style.overflow = \"auto\"\r\n    }, [run])\r\n\r\n    const showItems = (items) => {\r\n        return (\r\n            <div>\r\n                <h2 className=\"mb-4\">Your cart has {`${items.length}`} items</h2>\r\n                <hr />\r\n                <div className=\"row\">\r\n                    {items.map((p, i) => (\r\n                        <div key={i} className=\"col-4  mb-3\">\r\n                            <Card product={p}\r\n                                showAddCartButton={false}\r\n                                imageStyle={{ height: \"250px\", width: \"100%\" }}\r\n                                cartUpdate={true}\r\n                                showRemoveProductButton={true}\r\n                                setRun={setRun}\r\n                                run={run} />\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    const noItemsMessage = () => {\r\n        return <h2>You cart is empty! <Link to=\"/shop\">Continue shopping.</Link></h2>\r\n    }\r\n\r\n    const emptyCartButton = () => {\r\n        if(getCart().length > 0) {\r\n            return  ( \r\n            <div className=\"d-flex justify-content-end\">\r\n                <button onClick={() => {\r\n                    emptyAllCart();\r\n                    }} className=\"btn btn-danger mt-3 mb-4\" >Empty Cart</button>\r\n            </div>)\r\n        }\r\n    }\r\n\r\n    const emptyAllCart = () => {\r\n        emptyCart();\r\n        setRun(!run)\r\n\r\n        toast.success(`Your cart has been cleared successfully!`, {\r\n            position: \"top-right\",\r\n            autoClose: 3000, // Auto close after 3 seconds\r\n            hideProgressBar: false,\r\n            closeOnClick: true,\r\n            pauseOnHover: true,\r\n            draggable: true,\r\n            progress: undefined,\r\n        })\r\n    }\r\n\r\n\r\n    return (\r\n        <Layout title=\"Shopping Cart\" layoutStyle={{ padding: \"35px\" }} description=\"Manage your cart items\" className=\"container-fluid\">\r\n            <div className=\"row\">\r\n                <div className=\"col-6\">\r\n                    {items.length > 0 ? showItems(items) : noItemsMessage()}\r\n                </div>\r\n                <div className=\"col-6\">\r\n                    <h2 className=\"mb-4\">Your cart summary</h2>\r\n                    <hr />\r\n                    <CheckOut products={items} setRun={setRun} />\r\n                    {emptyCartButton()}\r\n                </div>\r\n            </div>\r\n        </Layout>\r\n    )\r\n}\r\n\r\nexport default Cart","import { API } from \"../config\"\r\n\r\nexport const createCategory = (userId, token, category) => {\r\n    return fetch(`${API}/category/create/${userId}`, {\r\n        method: \"POST\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: `Bearer ${token}`,\r\n        },\r\n        body: JSON.stringify(category),\r\n    })\r\n        .then(async (response) => {\r\n            if (!response.ok) {\r\n                const errorMessage = await response.text(); // Read raw text for non-JSON errors\r\n                throw new Error(errorMessage || \"An error occurred\");\r\n            }\r\n            return response.json(); // Parse JSON on success\r\n        })\r\n        .catch((err) => {\r\n            console.error(\"Error creating category:\", err.message);\r\n            return { error: err.message }; // Pass the error message to the caller\r\n        });\r\n}\r\n\r\nexport const createProduct = (userId, token, product) => {\r\n    return fetch(`${API}/product/create/${userId}`, {\r\n        method: 'POST',\r\n        headers: {\r\n            Accept: 'application/json',\r\n            Authorization: `Bearer ${token}`\r\n        },\r\n        body: product //form data, because of the photo\r\n    })\r\n        .then(response => {\r\n            return response.json();\r\n        })\r\n        .catch(err => {\r\n            console.log(err);\r\n        });\r\n};\r\n\r\nexport const getCategories = () => {\r\n    return fetch(`${API}/categories`, {\r\n        method: 'GET'\r\n    })\r\n    .then(response => {\r\n        return response.json()\r\n    })\r\n    .catch(err => console.log(err))\r\n}\r\n\r\nexport const listOrders = (userId, token) => {\r\n    return fetch(`${API}/order/list/${userId}`, {\r\n        method: 'GET',\r\n        headers: {\r\n            Accept: 'application/json',\r\n            Authorization: `Bearer ${token}`\r\n        }\r\n    })\r\n    .then(response => {\r\n        return response.json()\r\n    })\r\n    .catch(err => console.log(err))\r\n}\r\n\r\nexport const getStatusValues = (userId, token) => {\r\n    return fetch(`${API}/order/status-values/${userId}`, {\r\n        method: 'GET',\r\n        headers: {\r\n            Accept: 'application/json',\r\n            Authorization: `Bearer ${token}`\r\n        }\r\n    })\r\n    .then(response => {\r\n        return response.json()\r\n    })\r\n    .catch(err => console.log(err))\r\n}\r\n\r\nexport const updateOrderStatus = (userId, token, orderId, status) => {\r\n    return fetch(`${API}/order/${orderId}/status/${userId}`, {\r\n        method: 'PUT',\r\n        headers: {\r\n            Accept: 'application/json',\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify({status, orderId})\r\n    })\r\n    .then(response => {\r\n        return response.json()\r\n    })\r\n    .catch(err => console.log(err))\r\n}\r\n\r\n/*to perform crud on products:\r\n    1. Get all the products \r\n    2. Get a single product\r\n    3. Update the single product\r\n    4. Delete the single product \r\n*/\r\n\r\nexport const getProducts = () => {\r\n    return fetch(`${API}/products?limit=undefined`, {\r\n        method: 'GET'\r\n    })\r\n    .then(response => {\r\n        return response.json()\r\n    })\r\n    .catch(err => console.log(err))\r\n}\r\n\r\nexport const getProduct = (productId) => {\r\n    return fetch(`${API}/product/${productId}`, {\r\n        method: 'GET'\r\n    })\r\n    .then(response => {\r\n        return response.json()\r\n    })\r\n    .catch(err => console.log(err))\r\n}\r\n\r\nexport const updateProduct = (productId, token, userId, product) => {\r\n    return fetch(`${API}/product/${productId}/${userId}`, {\r\n        method: 'PUT',\r\n        headers: {\r\n            Accept: 'application/json',\r\n            Authorization: `Bearer ${token}`\r\n        },\r\n        body: product //só quando é put é que se envia o body\r\n    })\r\n    .then(response => {\r\n        return response.json()\r\n    })\r\n    .catch(err => console.log(err))\r\n}\r\n\r\nexport const deleteProduct = (productId, token, userId) => {\r\n    return fetch(`${API}/product/${productId}/${userId}`, {\r\n        method: 'DELETE',\r\n        headers: {\r\n            Accept: 'application/json',\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: `Bearer ${token}`\r\n        },\r\n    })\r\n    .then(response => {\r\n        return response.json()\r\n    })\r\n    .catch(err => console.log(err))\r\n}","import React, { useState, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom/cjs/react-router-dom.min\";\r\nimport { toast } from \"react-toastify\"\r\nimport \"react-toastify/dist/ReactToastify.css\"\r\nimport Layout from \"../core/Layout\"\r\nimport { isAuthenticated } from \"../auth\";\r\nimport { getProducts, deleteProduct } from \"./apiAdmin\";\r\n\r\ntoast.configure()\r\n\r\nconst ManageProducts = () => {\r\n\r\n    const [products, setProducts] = useState([])\r\n    const { user, token } = isAuthenticated()\r\n\r\n    const loadProducts = () => {\r\n        getProducts().then(data => {\r\n            if (data.error) {\r\n                console.log(data.error)\r\n            } else {\r\n                setProducts(data)\r\n            }\r\n        })\r\n    }\r\n\r\n    const destroy = (productId) => {\r\n        deleteProduct(productId, token, user._id).then(data => {\r\n            if (data.error) {\r\n                console.log(data.error)\r\n            } else {\r\n                loadProducts()\r\n                toast.success(\"Product deleted successfully!\", {\r\n                    position: \"top-right\",\r\n                    autoClose: 3000, // Auto close after 3 seconds\r\n                    hideProgressBar: false,\r\n                    closeOnClick: true,\r\n                    pauseOnHover: true,\r\n                    draggable: true,\r\n                    progress: undefined,\r\n                })\r\n            }\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        loadProducts()\r\n    }, [])\r\n\r\n    return (\r\n        <Layout title=\"Manage Products\" description=\"Perfom CRUD on products\" className=\"container-fluid\" layoutStyle={{ padding: \"35px\" }}>\r\n            <div className=\"row\">\r\n                <div className=\"col-12\">\r\n                    <h2 className=\"text-center\">Total products: {products.length}</h2>\r\n                    <hr />\r\n                    <ul className=\"list-group\">\r\n                        {products.map((p, i) => (\r\n                            <li key={i} className=\"list-group-item d-flex justify-content-between align-items-center\">\r\n                                <strong>{p.name}</strong>\r\n                                <div>\r\n                                    <Link to={`/admin/product/update/${p._id}`}>\r\n                                        <button className=\"btn btn-warning rounded-pill material-symbols-outlined mr-2\">edit</button>\r\n                                    </Link>\r\n                                    <button onClick={() => destroy(p._id)} className=\"btn btn-danger rounded-pill material-symbols-outlined\">delete</button>\r\n                                </div>\r\n                            </li>\r\n                        ))}\r\n                    </ul>\r\n                </div>\r\n            </div>\r\n        </Layout>\r\n    )\r\n}\r\n\r\nexport default ManageProducts","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\nimport { isAuthenticated } from \"./index\";\r\n\r\nconst PrivateRoute = ({component: Component, ...rest}) => (\r\n    <Route {...rest} render={props => isAuthenticated() ? (\r\n        <Component {...props} />\r\n    ) : (\r\n        <Redirect to={{pathname: '/signin', state:{from: props.location}}}/>\r\n    )}/>\r\n)\r\n\r\nexport default PrivateRoute","import React, { Fragment, useEffect, useState } from \"react\";\r\nimport Layout from \"../core/Layout\"\r\nimport { isAuthenticated } from \"../auth\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { getPurchaseHistory } from \"./apiUser\"\r\nimport moment from \"moment\"\r\n\r\nconst Dashboard = () => {\r\n    const [history, setHistory] = useState([])\r\n    const { user: { _id, name, email, role } } = isAuthenticated()\r\n    const token = isAuthenticated().token\r\n\r\n    const init = (userId, token) => {\r\n        getPurchaseHistory(userId, token).then(data => {\r\n            if (data.error) {\r\n                console.log(data.error)\r\n            } else {\r\n                setHistory(data)\r\n            }\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        init(_id, token)\r\n    }, [])\r\n\r\n    const userLinks = () => {\r\n        return (\r\n            <div className=\"card\">\r\n                <h4 className=\"card-header\">User Links</h4>\r\n                <ul className=\"list-group\">\r\n                    <li className=\"list-group-item\">\r\n                        <Link className=\"nav-link d-flex justify-content-between align-items-center\" to=\"/cart\">\r\n                            My Cart\r\n                            <span className=\"material-symbols-outlined\">shopping_cart</span>\r\n                        </Link>\r\n                    </li>\r\n        \r\n                    <li className=\"list-group-item\">\r\n                        <Link className=\"nav-link d-flex justify-content-between align-items-center\" to={`/profile/${_id}`}>\r\n                            Update Profile \r\n                            <span className=\"material-symbols-outlined\">manage_accounts</span>\r\n                        </Link>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n        );\r\n        \r\n    }\r\n\r\n    const userInfo = () => {\r\n        return (\r\n            <div className=\"card mb-5\">\r\n                <h3 className=\"card-header\">User Information</h3>\r\n                <ul className=\"list-group\">\r\n                    <li className=\"list-group-item\"><strong>Name:&nbsp;&nbsp;&nbsp;</strong>{name}</li>\r\n                    <li className=\"list-group-item\"><strong>E-mail:&nbsp;&nbsp;&nbsp;</strong>{email}</li>\r\n                    {role === 1 && (\r\n                        <li className=\"list-group-item\"><strong>Role:&nbsp;&nbsp;&nbsp;</strong>Admin</li>\r\n                    )}\r\n                </ul>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    const purchaseHistory = (history) => {\r\n        return (\r\n            <div className=\"card mb-5\" >\r\n                <h3 className=\"card-header\">Purchase History</h3>\r\n                <ul className=\"list-group\">\r\n                    <li className=\"list-group-item\">\r\n                        {history.map((h, i) => (\r\n                            <div key={i}>\r\n                                {h.products.map((p, j) => (\r\n                                    <div key={j}>\r\n                                        <h6>Product name: <span style={{ fontWeight: 400 }}>{p.name}</span></h6>\r\n                                        <h6>Product price: <span style={{ fontWeight: 400 }}>{p.price}€</span></h6>\r\n                                        <h6>Purchased date: <span style={{ fontWeight: 400 }}>{moment(h.createdAt).fromNow()}</span></h6>\r\n                                    </div>\r\n                                ))}\r\n                                <hr />\r\n                            </div>\r\n                        ))}\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <Layout layoutStyle={{ padding: \"35px\" }} title=\"Dashboard\" description={<span>Good day, <strong>{name}</strong>!</span>} className=\"container\">\r\n            <div className=\"row\">\r\n\r\n                        <div className=\"col-12 mb-5\">{userLinks()}</div>\r\n                        <div className=\"col-12\">{userInfo()}\r\n                            {purchaseHistory(history)}</div>\r\n\r\n            </div>\r\n        </Layout>\r\n    )\r\n}\r\n\r\nexport default Dashboard","import {API} from '../config'\r\n\r\nexport const read = (userId, token) => {\r\n    return fetch(`${API}/user/${userId}`, {\r\n        method: 'GET',\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: `Bearer ${token}`\r\n        }\r\n    })\r\n        .then(response => {\r\n            return response.json()\r\n        })\r\n        .catch(err => console.log(err))\r\n}\r\n\r\nexport const update = (userId, token, user) => {\r\n    return fetch(`${API}/user/${userId}`, {\r\n        method: 'PUT',\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify(user)\r\n    })\r\n    .then(response => {\r\n        return response.json()\r\n    })\r\n    .catch(err => console.log(err))\r\n}\r\n\r\nexport const updateUser = (user, next) => {\r\n    if(typeof window != \"undefined\") {\r\n        if (localStorage.getItem('jwt')) {\r\n            let auth = JSON.parse(localStorage.getItem('jwt'))\r\n            auth.user = user\r\n            localStorage.setItem('jwt', JSON.stringify(auth))\r\n            next()\r\n        }\r\n    }\r\n}\r\n\r\nexport const getPurchaseHistory = (userId, token) => {\r\n    return fetch(`${API}/orders/by/user/${userId}`, {\r\n        method: 'GET',\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: `Bearer ${token}`\r\n        }\r\n    })\r\n        .then(response => {\r\n            return response.json()\r\n        })\r\n        .catch(err => console.log(err))\r\n}","import React, {useState, useEffect} from \"react\";\r\nimport { read, update, updateUser } from \"./apiUser\";\r\nimport Layout from \"../core/Layout\"\r\nimport { isAuthenticated } from \"../auth\";\r\n\r\nconst Profile = ({match}) => { //Can add address or about, etc\r\n    const [values, setValues] = useState({\r\n        name: '',\r\n        email: '',\r\n        password: '',\r\n        error: '',\r\n        success: false\r\n    })\r\n\r\n    const {token} = isAuthenticated()\r\n\r\n    const {name, email, password, error, success} = values\r\n\r\n    const init = (userId) => {\r\n        // console.log(userId) -----> userId\r\n\r\n        read(userId, token).then(data => {\r\n            if(data.error) {\r\n                setValues({...values, error: true})\r\n            } else {\r\n                setValues({...values, name: data.name, email: data.email})\r\n            }\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        init(match.params.userId) //vai buscar o userId ao link do site (route)\r\n    }, [])\r\n\r\n    const handleChange = name => e => {\r\n        setValues({...values, error: false, [name]: e.target.value})\r\n    }\r\n\r\n    const clickSubmit = (e) => {\r\n        e.preventDefault() //the browser doesen't reload\r\n        update(match.params.userId, token, {name, email, password}).then(data=> {\r\n            if(data.error) {\r\n                console.log(data.error)\r\n            } else {\r\n                updateUser(data, () => {\r\n                    setValues({...values, name: data.name, email: data.email, success: true})\r\n                })\r\n            }\r\n        })\r\n    } \r\n\r\n    const redirectUser = (success) => {\r\n        if (success) {\r\n            window.location.reload()\r\n        }\r\n    }\r\n\r\n    const profileUpdate = (name, email, password) => (\r\n        <form >\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Name</label>\r\n                <input type=\"text\" onChange={handleChange('name')} className=\"form-control\" value={name}/>\r\n            </div>\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Email</label>\r\n                <input type=\"email\" onChange={handleChange('email')} className=\"form-control\" value={email}/>\r\n            </div>\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Password</label>\r\n                <input type=\"password\" onChange={handleChange('password')} className=\"form-control\" value={password}/>\r\n            </div>\r\n\r\n            <button className=\"btn btn-primary\" onClick={clickSubmit}>Submit</button>\r\n        </form>\r\n    )\r\n\r\n    return (\r\n        <Layout title=\"Profile\" description=\"Update your profile\" className=\"container-fluid\" layoutStyle={{padding: \"35px\"}}>\r\n            <h2 className=\"mb-4\">Profile update</h2>\r\n            {profileUpdate(name, email, password)}\r\n            {redirectUser(success)}\r\n        </Layout>\r\n    )\r\n}\r\n\r\nexport default Profile","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\nimport { isAuthenticated } from \"./index\";\r\n\r\nconst AdminRoute = ({component: Component, ...rest}) => (\r\n    <Route {...rest} render={props => isAuthenticated() && isAuthenticated().user.role === 1 ? (\r\n        <Component {...props} />\r\n    ) : (\r\n        <Redirect to={{pathname: '/signin', state:{from: props.location}}}/>\r\n    )}/>\r\n)\r\n\r\nexport default AdminRoute","import React from \"react\";\r\nimport Layout from \"../core/Layout\"\r\nimport { isAuthenticated } from \"../auth\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst AdminDashboard = () => {\r\n\r\n    const { user: {name, email, role } } = isAuthenticated()\r\n\r\n    const adminLinks = () => {\r\n        return (\r\n            <div className=\"card\">\r\n                <h4 className=\"card-header\">Admin Links</h4>\r\n                <ul className=\"list-group\">\r\n                    <li className=\"list-group-item\"><Link className=\"nav-link\" to=\"/create/category\">Create Category</Link></li>\r\n                    <li className=\"list-group-item\"><Link className=\"nav-link\" to=\"/create/product\">Create Product</Link></li>\r\n                    <li className=\"list-group-item\"><Link className=\"nav-link\" to=\"/admin/orders\">View orders</Link></li>\r\n                    <li className=\"list-group-item\"><Link className=\"nav-link\" to=\"/admin/products\">Manage Products</Link></li>\r\n                </ul>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    const adminInfo = () => {\r\n        return (\r\n            <div className=\"card mb-5\">\r\n                <h3 className=\"card-header\">User Information</h3>\r\n                <ul className=\"list-group\">\r\n                    <li className=\"list-group-item\"><strong>Name:&nbsp;&nbsp;&nbsp;</strong>{name}</li>\r\n                    <li className=\"list-group-item\"><strong>E-mail:&nbsp;&nbsp;&nbsp;</strong>{email}</li>\r\n                    {role === 1 && (\r\n                        <li className=\"list-group-item\"><strong>Role:&nbsp;&nbsp;&nbsp;</strong>Admin</li>\r\n                    )}\r\n                </ul>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <Layout layoutStyle={{padding: \"35px\"}} title=\"Dashboard\"  description={<span>Good day, <strong>{name}</strong>!</span>} className=\"container-fluid\">\r\n            <div className=\"row\">\r\n                <div className=\"col-3\">{adminLinks()}</div>\r\n                <div className=\"col-9\">{adminInfo()}</div>\r\n            </div>\r\n        </Layout>\r\n    )\r\n}\r\n\r\nexport default AdminDashboard","import React, {useState} from \"react\";\r\nimport Layout from \"../core/Layout\"\r\nimport { isAuthenticated } from \"../auth\";\r\nimport { createCategory } from \"./apiAdmin\";\r\n\r\nconst AddCategory = () => {\r\n    const [name, setName] = useState('')\r\n    const [error, setError] = useState(false)\r\n    const [success, setSuccess] = useState(false)\r\n\r\n    //destructure user and info from localstorage\r\n    const {user, token} = isAuthenticated()\r\n\r\n    const handleChange = e => {\r\n        setSuccess(false)\r\n        setError(\"\")\r\n        setName(e.target.value)\r\n    }\r\n\r\n    const clickSubmit = e => {\r\n        e.preventDefault()\r\n        setError(\"\")\r\n        setSuccess(false)\r\n        //make request to api to create category\r\n        createCategory(user._id, token, {name})\r\n            .then(data => {\r\n                if(data.error) {\r\n                    setError(data.error)\r\n                    setSuccess(false)\r\n                } else {\r\n                    setError('')\r\n                    setSuccess(true)\r\n                }\r\n            })\r\n\r\n    }\r\n\r\n    const newCategoryFrom = () => (\r\n        <form onSubmit={clickSubmit}>\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Name</label>\r\n                <input type=\"text\" className=\"form-control\" onChange={handleChange} value={name} autoFocus required/>\r\n            </div>\r\n            <button className=\"btn btn-outline-primary mr-2\">Create Category</button>\r\n            <button type=\"button\" className=\"btn btn-outline-secondary\" onClick={handleCancel}>Cancel</button>\r\n        </form>\r\n    )\r\n    const showSuccess = () => {\r\n        if (success) {\r\n            return <h3 className=\"text-success\">'{name}' was successfully created!</h3>;\r\n        }\r\n    }\r\n\r\n    const showError = () => {\r\n        if (error) {\r\n            return <h3 className=\"text-danger\">There's already a category named '{name}'</h3>;\r\n        }\r\n    }\r\n\r\n    const handleCancel = () => {\r\n    window.location.href = \"/admin/dashboard\";\r\n    }\r\n    \r\n\r\n\r\n    return (\r\n        <Layout layoutStyle={{padding: \"35px\"}} title=\"Add a new category!\"  description={<span>Ready to add a new category, <strong>{user.name}</strong>?</span>}>\r\n            <div className=\"row\">\r\n                <div className=\"col-md-8 offset-md-2\">\r\n                    {showSuccess()}\r\n                    {showError()}\r\n                    {newCategoryFrom()}\r\n                </div>\r\n            </div>\r\n        </Layout>\r\n    )\r\n}\r\n\r\nexport default AddCategory","import React, { useState, useEffect } from \"react\";\r\nimport Layout from \"../core/Layout\"\r\nimport { isAuthenticated } from \"../auth\";\r\nimport { createProduct, getCategories } from \"./apiAdmin\";\r\n\r\nconst AddProduct = () => {\r\n\r\n    const { user, token } = isAuthenticated()\r\n\r\n    const [values, setValues] = useState({\r\n        name: '',\r\n        description: '',\r\n        price: '',\r\n        categories: [],\r\n        category: '',\r\n        shipping: '',\r\n        quantity: '',\r\n        photo: '',\r\n        loading: false,\r\n        error: '',\r\n        createProduct: '',\r\n        redirectToProfile: false,\r\n        formData: ''\r\n    })\r\n\r\n    const {\r\n        name,\r\n        description,\r\n        price,\r\n        categories,\r\n        quantity,\r\n        loading,\r\n        error,\r\n        createdProduct,\r\n        formData\r\n    } = values\r\n\r\n    //load categories and set formData\r\n\r\n    const init = () => {\r\n        getCategories()\r\n            .then(data => {\r\n                if (data.error) {\r\n                    setValues({ ...values, error: data.error })\r\n                } else {\r\n                    setValues({ ...values, categories: data, formData: new FormData() })\r\n                }\r\n            })\r\n    }\r\n\r\n\r\n    useEffect(() => {\r\n        init()\r\n    }, [])\r\n\r\n    const scrollToTop = () => {\r\n        window.scrollTo({\r\n            top: 0,\r\n            behavior: 'smooth',\r\n        })\r\n    }\r\n\r\n    const handleChange = name => event => { //name = name, descriptin, price, shipping, ...\r\n        const value = name === 'photo' ? event.target.files[0] : event.target.value\r\n        formData.set(name, value)\r\n        setValues({ ...values, [name]: value, createdProduct: '', error: '' })\r\n    }\r\n\r\n    const handleCancel = () => {\r\n        window.location.href = \"/admin/dashboard\";\r\n    };\r\n\r\n    const clickSubmit = (event) => {\r\n        event.preventDefault()\r\n        setValues({ ...values, error: '', loading: true })\r\n\r\n        createProduct(user._id, token, formData)\r\n            .then(data => {\r\n                if (data.error) {\r\n                    setValues({ ...values, error: data.error })\r\n                } else {\r\n                    setValues({\r\n                        ...values,\r\n                        name: '',\r\n                        description: '',\r\n                        photo: '',\r\n                        price: '',\r\n                        quantity: '',\r\n                        loading: false,\r\n                        createdProduct: data.name\r\n                    })\r\n                }\r\n                scrollToTop()\r\n            })\r\n    }\r\n\r\n    const showSuccess = () => {\r\n        if (createdProduct) {\r\n            return <h3 className=\"text-success mt-2 mb-4\">'{createdProduct}' was successfully created!</h3>;\r\n        }\r\n    };\r\n\r\n    const showError = () => {\r\n        if (error) {\r\n            return <h3 className=\"text-danger mt-2 mb-4\">{error}!</h3>;\r\n        }\r\n    }\r\n\r\n    const showLoading = () => (\r\n        loading && (<div className=\"alert alert-success\"><h2>Loading...</h2></div>)\r\n    )\r\n\r\n    const newPostForm = () => (\r\n        <form className=\"mb-3\" onSubmit={clickSubmit}>\r\n            <h4>Post Photo</h4>\r\n            <div className=\"form-group\">\r\n                <label className=\"btn btn-secondary\">\r\n                    <input onChange={handleChange('photo')} type=\"file\" name=\"photo\" accept=\"image/*\" />\r\n                </label>\r\n            </div>\r\n\r\n            <div className=\"form-froup\">\r\n                <label className=\"text-muted\">Name</label>\r\n                <input onChange={handleChange('name')} type=\"text\" className=\"form-control\" value={name} />\r\n            </div>\r\n\r\n            <div className=\"form-froup\">\r\n                <label className=\"text-muted\">Description</label>\r\n                <textarea onChange={handleChange('description')} className=\"form-control\" value={description} />\r\n            </div>\r\n\r\n            <div className=\"form-froup style={{ position: 'relative' }}\">\r\n                <label className=\"text-muted\">Price</label>\r\n                <div style={{ display: 'flex', alignItems: 'center' }}>\r\n                    <input onChange={handleChange('price')} type=\"number\" className=\"form-control\" value={price} style={{ paddingRight: '40px' }} />\r\n                    <div\r\n                        style={{\r\n                            width: '30px',\r\n                            height: '30px',\r\n                            backgroundColor: '#ddd',\r\n                            display: 'flex',\r\n                            alignItems: 'center',\r\n                            justifyContent: 'center',\r\n                            marginLeft: '-35px', // Position it over the right side\r\n                            borderRadius: '4px',\r\n                        }}\r\n                    >\r\n                        €\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"form-froup\">\r\n                <label className=\"text-muted\">Category</label>\r\n                <select onChange={handleChange('category')} className=\"form-control\">\r\n                    <option>-- Select an option --</option>\r\n                    {categories && categories.map((c, i) => (<option key={i} value={c._id}>{c.name}</option>))}\r\n                </select>\r\n            </div>\r\n\r\n            <div className=\"form-froup\">\r\n                <label className=\"text-muted\">Shipping</label>\r\n                <select onChange={handleChange('shipping')} className=\"form-control\">\r\n                    <option>-- Select an option --</option>\r\n                    <option value=\"0\">No</option>\r\n                    <option value=\"1\">Yes</option>\r\n                </select>\r\n            </div>\r\n\r\n            <div className=\"form-froup\">\r\n                <label className=\"text-muted\">Quantity</label>\r\n                <input onChange={handleChange('quantity')} type=\"number\" className=\"form-control\" value={quantity} />\r\n            </div>\r\n\r\n            <button className=\"btn btn-outline-primary mt-3 mr-2\">Create Product</button>\r\n            <button className=\"btn btn-outline-secondary mt-3\" onClick={handleCancel}>Cancel</button>\r\n        </form>\r\n    )\r\n\r\n    return (\r\n        <Layout layoutStyle={{padding: \"35px\"}} title=\"Add a new product!\" description={<span>Ready to add a new product, <strong>{user.name}</strong>?</span>}>\r\n            <div className=\"row\">\r\n                <div className=\"col-md-8 offset-md-2\">\r\n                    {showSuccess()}\r\n                    {showLoading()}\r\n                    {showError()}\r\n                    {newPostForm()}\r\n                </div>\r\n            </div>\r\n        </Layout>\r\n    )\r\n}\r\n\r\nexport default AddProduct","import React, { useState, useEffect } from \"react\";\r\nimport Layout from \"../core/Layout\"\r\nimport { toast } from \"react-toastify\"\r\nimport \"react-toastify/dist/ReactToastify.css\"\r\nimport { isAuthenticated } from \"../auth\";\r\nimport { getProduct, getCategories, updateProduct } from \"./apiAdmin\";\r\nimport { Redirect } from \"react-router-dom/cjs/react-router-dom.min\";\r\n\r\ntoast.configure()\r\n\r\nconst UpdateProduct = ({match}) => {\r\n\r\n    \r\n    const [values, setValues] = useState({\r\n        name: '',\r\n        description: '',\r\n        price: '',\r\n        categories: [],\r\n        category: '',\r\n        shipping: '',\r\n        quantity: '',\r\n        photo: '',\r\n        loading: false,\r\n        error: '',\r\n        createProduct: '',\r\n        redirectToProfile: false,\r\n        formData: ''\r\n    })\r\n    const { user, token } = isAuthenticated()\r\n    \r\n    const {\r\n        name,\r\n        description,\r\n        price,\r\n        categories,\r\n        quantity,\r\n        loading,\r\n        error,\r\n        createdProduct,\r\n        redirectToProfile,\r\n        formData\r\n    } = values\r\n\r\n    //load categories and set formData\r\n\r\n    const init = (productId) => {\r\n        getProduct(productId).then(data => {\r\n            if(data.error) {\r\n                setValues({...values, error: data.error})\r\n            } else {\r\n                //populate the state\r\n                setValues({...values,\r\n                           name: data.name,\r\n                           description: data.description,\r\n                           price: data.price,\r\n                           category: data.category._id,\r\n                           shipping:data.shipping,\r\n                           quantity: data.quantity,\r\n                           formData: new FormData()\r\n                })\r\n                //load categories\r\n                initCategories()\r\n            }\r\n        })\r\n    }\r\n\r\n\r\n    const initCategories = () => {\r\n        getCategories()\r\n            .then(data => {\r\n                if (data.error) {\r\n                    setValues({ ...values, error: data.error })\r\n                } else {\r\n                    setValues({ categories: data, formData: new FormData() })\r\n                }\r\n            })\r\n    }\r\n\r\n\r\n    useEffect(() => {\r\n        init(match.params.productId)\r\n\r\n    }, [])\r\n\r\n    const scrollToTop = () => {\r\n        window.scrollTo({\r\n            top: 0,\r\n            behavior: 'smooth',\r\n        })\r\n    }\r\n\r\n    \r\n    const handleChange = name => event => { //name = name, descriptin, price, shipping, ...\r\n        const value = name === 'photo' ? event.target.files[0] : event.target.value\r\n        formData.set(name, value)\r\n        setValues({ ...values, [name]: value, createdProduct: '', error: '' })\r\n    }\r\n\r\n    const handleCancel = () => {\r\n        window.location.href = \"/admin/dashboard\";\r\n    };\r\n\r\n    const clickSubmit = (event) => {\r\n        event.preventDefault()\r\n        setValues({ ...values, error: '', loading: true })\r\n\r\n        updateProduct(match.params.productId, token, user._id, formData)\r\n            .then(data => {\r\n                if (data.error) {\r\n                    setValues({ ...values, error: data.error })\r\n                } else {\r\n                    setValues({\r\n                        ...values,\r\n                        name: '',\r\n                        description: '',\r\n                        photo: '',\r\n                        price: '',\r\n                        quantity: '',\r\n                        loading: false,\r\n                        error: false,\r\n                        redirectToProfile: true,\r\n                        createdProduct: data.name\r\n\r\n                    })\r\n                }\r\n                scrollToTop()\r\n            })\r\n    }\r\n\r\n    const showSuccess = () => {\r\n        if (createdProduct) {\r\n            toast.success(`${createdProduct} was successfully updated!`, {\r\n                position: \"top-right\",\r\n                autoClose: 4000, // Auto close after 3 seconds\r\n                hideProgressBar: false,\r\n                closeOnClick: true,\r\n                pauseOnHover: true,\r\n                draggable: true,\r\n                progress: undefined,\r\n            })\r\n        }\r\n    };\r\n\r\n    const showError = () => {\r\n        if (error) {\r\n            toast.error(error, {\r\n                position: \"top-right\",\r\n                autoClose: 3000, // Auto close after 3 seconds\r\n                hideProgressBar: false,\r\n                closeOnClick: true,\r\n                pauseOnHover: true,\r\n                draggable: true,\r\n                progress: undefined,\r\n            })\r\n        }\r\n    }\r\n\r\n    const showLoading = () => loading && (<div className=\"alert alert-success\"><h2>Loading...</h2></div>)\r\n    \r\n    const redirectUser = () => {\r\n        if(redirectToProfile) {\r\n            if(!error) {\r\n                return <Redirect to=\"/admin/products\"/>\r\n            }\r\n        }\r\n    }\r\n    \r\n\r\n    const newPostForm = () => (\r\n        <form className=\"mb-3\" onSubmit={clickSubmit}>\r\n            <h4>Post Photo</h4>\r\n            <div className=\"form-group\">\r\n                <label className=\"btn btn-secondary\">\r\n                    <input onChange={handleChange('photo')} type=\"file\" name=\"photo\" accept=\"image/*\" />\r\n                </label>\r\n            </div>\r\n\r\n            <div className=\"form-froup\">\r\n                <label className=\"text-muted\">Name</label>\r\n                <input onChange={handleChange('name')} type=\"text\" className=\"form-control\" value={name} />\r\n            </div>\r\n\r\n            <div className=\"form-froup\">\r\n                <label className=\"text-muted\">Description</label>\r\n                <textarea onChange={handleChange('description')} className=\"form-control\" value={description} />\r\n            </div>\r\n\r\n            <div className=\"form-froup style={{ position: 'relative' }}\">\r\n                <label className=\"text-muted\">Price</label>\r\n                <div style={{ display: 'flex', alignItems: 'center' }}>\r\n                    <input onChange={handleChange('price')} type=\"number\" className=\"form-control\" value={price} style={{ paddingRight: '40px' }} />\r\n                    <div\r\n                        style={{\r\n                            width: '30px',\r\n                            height: '30px',\r\n                            backgroundColor: '#ddd',\r\n                            display: 'flex',\r\n                            alignItems: 'center',\r\n                            justifyContent: 'center',\r\n                            marginLeft: '-35px', // Position it over the right side\r\n                            borderRadius: '4px',\r\n                        }}\r\n                    >\r\n                        €\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"form-froup\">\r\n                <label className=\"text-muted\">Category</label>\r\n                <select onChange={handleChange('category')} className=\"form-control\">\r\n                    <option>-- Select an option --</option>\r\n                    {categories && categories.map((c, i) => (<option key={i} value={c._id}>{c.name}</option>))}\r\n                </select>\r\n            </div>\r\n\r\n            <div className=\"form-froup\">\r\n                <label className=\"text-muted\">Shipping</label>\r\n                <select onChange={handleChange('shipping')} className=\"form-control\">\r\n                    <option>-- Select an option --</option>\r\n                    <option value=\"0\">No</option>\r\n                    <option value=\"1\">Yes</option>\r\n                </select>\r\n            </div>\r\n\r\n            <div className=\"form-froup\">\r\n                <label className=\"text-muted\">Quantity</label>\r\n                <input onChange={handleChange('quantity')} type=\"number\" className=\"form-control\" value={quantity} />\r\n            </div>\r\n\r\n            <button className=\"btn btn-outline-primary mt-3 mr-2\">Update Product</button>\r\n            <button className=\"btn btn-outline-secondary mt-3\" onClick={handleCancel}>Cancel</button>\r\n        </form>\r\n    )\r\n\r\n    return (\r\n        <Layout layoutStyle={{padding: \"35px\"}} title=\"Add a new product!\" description={<span>Ready to add a new product, <strong>{user.name}</strong>?</span>}>\r\n            <div className=\"row\">\r\n                <div className=\"col-md-8 offset-md-2\">\r\n                    {showSuccess()}\r\n                    {showLoading()}\r\n                    {showError()}\r\n                    {newPostForm()}\r\n                    {redirectUser()}\r\n                </div>\r\n            </div>\r\n        </Layout>\r\n    )\r\n}\r\n\r\n\r\nexport default UpdateProduct","import React, { Fragment, useEffect, useState } from \"react\"\r\nimport Layout from \"../core/Layout\"\r\nimport { isAuthenticated } from \"../auth\"\r\nimport { listOrders, getStatusValues, updateOrderStatus } from \"./apiAdmin\"\r\nimport moment from \"moment\"\r\n\r\nconst Orders = () => {\r\n    const [orders, setOrders] = useState([])\r\n    const [statusValues, setStatusValues] = useState([])\r\n\r\n    const { user, token } = isAuthenticated()\r\n\r\n    const loadOrders = () => {\r\n        listOrders(user._id, token).then(data => {\r\n            if (data.error) {\r\n                console.log(data.error)\r\n            } else {\r\n                setOrders(data)\r\n            }\r\n        })\r\n    }\r\n\r\n    const loadStatusValues = () => {\r\n        getStatusValues(user._id, token).then(data => {\r\n            if (data.error) {\r\n                console.log(data.error)\r\n            } else {\r\n                setStatusValues(data)\r\n            }\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        loadOrders()\r\n        loadStatusValues()\r\n    }, [])\r\n\r\n    const showOrdersLength = () => {\r\n        if (orders.length > 0) {\r\n            return <h4 className=\"text-danger\">Total Orders: {orders.length}</h4>\r\n        } else {\r\n            return <h4 className=\"text-danger\">No orders</h4>\r\n        }\r\n    }\r\n\r\n    const showInput = (key, value) => [\r\n        <div className=\"input-group mb-2 mr-sm-2\">\r\n            <div className=\"input-group-prepend\">\r\n                <div className=\"input-group-text\">{key}</div>\r\n            </div>\r\n            <input type=\"text\" value={value} className=\"form-control\" readOnly />\r\n        </div>\r\n    ]\r\n\r\n    const handleStatusChange = (e, orderId) => {\r\n        // console.log('Update order status!')\r\n        updateOrderStatus(user._id, token, orderId, e.target.value).then(data => {\r\n            if (data.error) {\r\n                console.log('Status Update Faild')\r\n            } else {\r\n                loadOrders()\r\n            }\r\n        })\r\n    }\r\n\r\n    const showStatus = (order) => {\r\n        return (\r\n            <div className=\"form-group\">\r\n                <h3 className=\"mt-2 mb-3 text-center\">Status: {order.status}</h3>\r\n                <select className=\"form-control\" onChange={(e) => (handleStatusChange(e, order._id))}>\r\n                    <option>----</option>\r\n                    {statusValues.map((status, index) => (<option key={index} value={status}>{status}</option>))}\r\n                </select>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <Layout layoutStyle={{ padding: \"35px\" }} title=\"Orders\" description={<span>You can manage all the orders here!</span>}>\r\n            <div className=\"row\">\r\n                <div className=\"col-md-8 offset-md-2\">\r\n                    {showOrdersLength()}\r\n                    {/* {JSON.stringify(orders)} */}\r\n                    {orders.map((o, oIndex) => {\r\n                        return <div className=\"mt-5 card shadow-lg p-5\" key={oIndex}>\r\n                            <h2 className=\"mb-5 text-center\">\r\n                                <span className=\"bg-primary p-2\" style={{ fontSize: \"22px\" }}>ORDER ID: {o._id}</span>\r\n                            </h2>\r\n                            <div className=\"row\">\r\n                                <ul className=\"list-group mb-2 col-5\">\r\n                                    <li className=\"list-group-item pb-0\">{showStatus(o)}</li>\r\n                                    <li className=\"list-group-item\">Transaction Id: {o.transaction_id}</li>\r\n                                    <li className=\"list-group-item\">Amount: {o.amount}€</li>\r\n                                    <li className=\"list-group-item\">Ordered by: {o.user.name}</li>\r\n                                    <li className=\"list-group-item\">Ordered at: {moment(o.createdAt).fromNow()}</li>\r\n                                    <li className=\"list-group-item\">Delivery Address: {o.address}</li>\r\n                                </ul>\r\n                                <div className=\"col-7\">\r\n                                    <h3 className=\"mt-4 mb-4 font-italic\">\r\n                                        Total products in the order: {o.products.length}\r\n                                    </h3>\r\n                                    {o.products.map((p, pIndex) => (\r\n                                        <Fragment>\r\n                                            <div className=\"mb-4\" key={pIndex} style={{ padding: \"20px\" }}>\r\n                                                {showInput('Product name', p.name)}\r\n                                                {showInput('Product price', p.price)}\r\n                                                {showInput('Product count', p.count)}\r\n                                                {showInput('Product id', p._id)}\r\n                                            </div>\r\n                                            <hr />\r\n                                        </Fragment>\r\n                                    ))}\r\n                                </div>\r\n\r\n                            </div>\r\n                        </div>\r\n                    })}\r\n                </div>\r\n            </div>\r\n        </Layout>\r\n    )\r\n}\r\n\r\nexport default Orders","import React from \"react\";\r\nimport {BrowserRouter, Switch, Route} from \"react-router-dom\"\r\nimport SignUp from \"./user/Signup\";\r\nimport SignIn from \"./user/Signin\";\r\nimport Home from \"./core/Home\";\r\nimport Shop from \"./core/Shop\";\r\nimport Product from \"./core/Product\";\r\nimport Cart from \"./core/Cart\";\r\nimport ManageProducts from \"./admin/ManageProducts\"\r\n\r\nimport PrivateRoute from './auth/PrivateRoute'\r\nimport Dashboard from \"./user/UserDashboard\";\r\nimport Profile from \"./user/Profile\";\r\n\r\nimport AdminRoute from './auth/AdminRoute'\r\nimport AdminDashboard from \"./user/AdminDashboard\";\r\nimport AddCategory from \"./admin/AddCategory\";\r\nimport AddProduct from \"./admin/AddProduct\";\r\nimport UpdateProduct from \"./admin/UpdateProduct\";\r\nimport Orders from \"./admin/Orders\";\r\n\r\nconst Routes = () => {\r\n    return (\r\n    <BrowserRouter>\r\n        <Switch>\r\n            <Route path=\"/\" exact component={Home}/>\r\n            <Route path=\"/shop\" exact component={Shop}/>\r\n            <Route path=\"/signin\" exact component={SignIn}/>\r\n            <Route path=\"/signup\" exact component={SignUp}/>\r\n            <Route path=\"/product/:productId\" exact component={Product}/>\r\n            <Route path=\"/cart\" exact component={Cart}/>\r\n\r\n            <PrivateRoute path=\"/user/dashboard\" exact component={Dashboard}/>\r\n            <AdminRoute path=\"/admin/dashboard\" exact component={AdminDashboard}/>\r\n            <AdminRoute path=\"/create/category\" exact component={AddCategory}/>\r\n            <AdminRoute path=\"/create/product\" exact component={AddProduct}/>\r\n            <AdminRoute path=\"/admin/product/update/:productId\" exact component={UpdateProduct}/>\r\n            <AdminRoute path=\"/admin/orders\" exact component={Orders}/>\r\n            <PrivateRoute path=\"/profile/:userId\" exact component={Profile}/>\r\n            <AdminRoute path=\"/admin/products\" exact component={ManageProducts}/>\r\n        </Switch>\r\n    </BrowserRouter>\r\n    )\r\n}\r\n\r\nexport default Routes","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from \"react-router-dom\";\n// import App from './App';\nimport Routes from \"./Routes\"\nimport './size.css'\n\nReactDOM.render(\n  <BrowserRouter basename=\"/ecommerce-front\">\n    <Routes />\n  </BrowserRouter>,\n    document.getElementById('root')\n);\n"],"sourceRoot":""}