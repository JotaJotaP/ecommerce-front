(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{25:function(e,t){e.exports="data:image/png;base64,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"},29:function(e,t,a){e.exports=a(57)},38:function(e,t,a){},57:function(e,t,a){"use strict";a.r(t);var r=a(0),c=a.n(r),n=a(10),o=a.n(n),l=a(2),s=a(3),m=a(1);const i="http://localhost:8000/api",d=()=>"undefined"!=typeof window&&(!!localStorage.getItem("jwt")&&JSON.parse(localStorage.getItem("jwt")));var u=a(25),p=a.n(u);const g=(e,t)=>{let a=[];"undefined"!==typeof window&&(localStorage.getItem("cart")&&(a=JSON.parse(localStorage.getItem("cart"))),a.push(Object(m.a)(Object(m.a)({},e),{},{count:1})),a=Array.from(new Set(a.map(e=>e._id))).map(e=>a.find(t=>t._id===e)),localStorage.setItem("cart",JSON.stringify(a)),t())},E=(e,t)=>{let a=[];"undefined"!=typeof window&&(localStorage.getItem("cart")&&(a=JSON.parse(localStorage.getItem("cart"))),a.map((r,c)=>{r._id===e&&(a[c].count=t)}),localStorage.setItem("cart",JSON.stringify(a)))},h=(e,t)=>e.location.pathname===t?{color:"#3b71ca",backgroundColor:"#fff"}:{color:"#fff",backgroundColor:"transparent"};var b=Object(s.withRouter)(e=>{let{history:t}=e;return c.a.createElement("div",null,c.a.createElement("ul",{className:"nav nav-tabs bg-primary"},c.a.createElement(l.b,{to:"/"},c.a.createElement("img",{className:"logo",src:p.a,alt:"Logo"})),c.a.createElement("li",{className:"nav-item"},c.a.createElement(l.b,{className:"nav-link",to:"/",style:h(t,"/")},"Home")),c.a.createElement("li",{className:"nav-item"},c.a.createElement(l.b,{className:"nav-link",to:"/shop",style:h(t,"/shop")},"Shop")),d()&&0===d().user.role&&c.a.createElement("li",{className:"nav-item ",style:{display:"flex"}},c.a.createElement(l.b,{className:"nav-link ",to:"/user/dashboard",style:h(t,"/user/dashboard")},"Dashboard")),d()&&1===d().user.role&&c.a.createElement("li",{className:"nav-item"},c.a.createElement(l.b,{className:"nav-link",to:"/admin/dashboard",style:h(t,"/admin/dashboard")},"Dashboard")),!d()&&c.a.createElement(r.Fragment,null,c.a.createElement("li",{className:"nav-item"},c.a.createElement(l.b,{className:"nav-link",to:"/signin",style:h(t,"/signin")},"Sign In")),c.a.createElement("li",{className:"nav-item"},c.a.createElement(l.b,{className:"nav-link",to:"/signup",style:h(t,"/signup")},"Sign Up"))),d()&&c.a.createElement(r.Fragment,null,c.a.createElement("li",{className:"nav-item"},c.a.createElement("span",{className:"nav-link",onClick:()=>(e=>{if("undefined"!=typeof window)return localStorage.removeItem("jwt"),e(),fetch("".concat(i,"/signout"),{method:"GET"}).then(e=>{console.log("signout",e)}).catch(e=>console.log(e))})(()=>{t.push("/")}),style:{cursor:"pointer",color:"#fff"}},"Sign Out"))),d()&&c.a.createElement("li",{className:"nav-item ml-auto mb-0"},c.a.createElement(l.b,{className:"nav-link d-flex pb-0",to:"/cart",style:h(t,"/cart")},c.a.createElement("i",{className:"material-symbols-outlined m-0 pb-0"},"shopping_cart"),c.a.createElement("sup",{className:"cartNumber"},c.a.createElement("small",{className:"cart-badge "},"undefined"!=typeof window&&localStorage.getItem("cart")?JSON.parse(localStorage.getItem("cart")).length:0))))))});a(38);var f=e=>{let{title:t="Title",description:a="",children:r,className:n,textStyle:o,layoutStyle:l}=e;return c.a.createElement("div",null,c.a.createElement(b,null),c.a.createElement("div",{className:"jumbotron d-flex justify-content-start flex-column",style:l},c.a.createElement("h2",{className:"",style:o},t),c.a.createElement("p",{className:"lead"},a)),c.a.createElement("div",{className:n},r))};var y=()=>{const[e,t]=Object(r.useState)({name:"",email:"",password:"",error:"",success:!1}),{name:a,email:n,password:o,success:s,error:d}=e,u=a=>r=>{t(Object(m.a)(Object(m.a)({},e),{},{error:!1,[a]:r.target.value}))},p=r=>{r.preventDefault(),t(Object(m.a)(Object(m.a)({},e),{},{error:!1})),(e=>fetch("".concat(i,"/signup"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then(e=>e.json()).catch(e=>{console.log(e)}))({name:a,email:n,password:o}).then(a=>{a.error?t(Object(m.a)(Object(m.a)({},e),{},{error:a.error,success:!1})):t(Object(m.a)(Object(m.a)({},e),{},{name:"",email:"",password:"",error:"",success:!0}))})};return c.a.createElement(f,{title:"SignUp",description:"SignUp to Node React e-commerce App",className:"container col-md-8 offset-md-2",layoutStyle:{padding:"35px"}},c.a.createElement("div",{className:"alert alert-info",style:{display:s?"":"none"}},"New account has been created. Please ",c.a.createElement(l.b,{to:"/signin"},"signin")),c.a.createElement("div",{className:"alert alert-danger",style:{display:d?"":"none"}},d),c.a.createElement("form",null,c.a.createElement("div",{className:"mb-4"},"Already have an account? ",c.a.createElement(l.b,{to:"/signIn"},"Sign In")),c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{className:"text-muted"},"Name"),c.a.createElement("input",{onChange:u("name"),type:"text",className:"form-control",value:a})),c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{className:"text-muted"},"Email"),c.a.createElement("input",{onChange:u("email"),type:"email",className:"form-control",value:n})),c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{className:"text-muted"},"Password"),c.a.createElement("input",{onChange:u("password"),type:"password",className:"form-control",value:o})),c.a.createElement("button",{className:"btn btn-primary",onClick:p,disabled:!a||!n||!o},"Submit")))},N=a(8);var v=()=>{const[e,t]=Object(r.useState)({email:"joao@gmail.com",password:"jotajota27",error:"",loading:!1,redirectToReferrer:!1}),{email:a,password:n,loading:o,error:l,redirectToReferrer:u}=e,{user:p}=d(),g=a=>r=>{t(Object(m.a)(Object(m.a)({},e),{},{error:!1,[a]:r.target.value}))},E=r=>{r.preventDefault(),t(Object(m.a)(Object(m.a)({},e),{},{error:!1,loading:!0})),(e=>fetch("".concat(i,"/signin"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then(e=>e.json()).catch(e=>{console.log(e)}))({email:a,password:n}).then(a=>{a.error?t(Object(m.a)(Object(m.a)({},e),{},{error:a.error,loading:!1})):((e,t)=>{"undefined"!=typeof window&&(localStorage.setItem("jwt",JSON.stringify(e)),t())})(a,()=>{t(Object(m.a)(Object(m.a)({},e),{},{redirectToReferrer:!0}))})})};return c.a.createElement(f,{title:"SignIn",description:"SignIn to Node React e-commerce App",className:"container col-md-8 offset-md-2",layoutStyle:{padding:"35px"}},c.a.createElement("div",{className:"mb-4"},"Don't have an account? ",c.a.createElement(N.Link,{to:"/signUp"},"Sign Up")," for free!"),o&&c.a.createElement("div",{className:"alert alert-info"},c.a.createElement("h2",null,"Loading...")),c.a.createElement("div",{className:"alert alert-danger",style:{display:l?"":"none"}},l),c.a.createElement("form",null,c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{className:"text-muted"},"Email"),c.a.createElement("input",{onChange:g("email"),type:"email",className:"form-control",value:a})),c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{className:"text-muted"},"Password"),c.a.createElement("input",{onChange:g("password"),type:"password",className:"form-control",value:n})),c.a.createElement("button",{className:"btn btn-primary",onClick:E},"Submit")),u?p&&1===p.role?c.a.createElement(s.Redirect,{to:"/admin/dashboard"}):c.a.createElement(s.Redirect,{to:"/user/dashboard"}):d()?c.a.createElement(s.Redirect,{to:"/"}):void 0)},j=a(27),S=a.n(j);const O=e=>fetch("".concat(i,"/products?sortBy=").concat(e,"&order=desc&limit=6"),{method:"GET"}).then(e=>e.json()).catch(e=>console.log(e)),w=function(e,t){const a={limit:t,skip:e,filters:arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}};return fetch("".concat(i,"/products/by/search"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a)}).then(async e=>{if(!e.ok){const t=await e.text();throw new Error(t||"An error occurred")}return e.json()}).catch(e=>(console.error("Error creating category:",e.message),{error:e.message}))};var x=e=>{let{item:t,url:a,style:r}=e;return c.a.createElement("div",{className:"product-img"},c.a.createElement("img",{src:"".concat(i,"/").concat(a,"/photo/").concat(t._id),alt:t.name,className:"",style:r}))};var k=e=>{let{product:t,showAddCartButton:a=!0,imageStyle:n,showViewProductButton:o=!0,cartUpdate:s=!1,showRemoveProductButton:m=!1,viewProductButtonSize:i={paddingLeft:"75px",paddingRight:"75px",paddingTop:"5px",paddingBottom:"5px",borderRadius:"15px"},setRun:d=(e=>e),run:u}=e;const[p,h]=Object(r.useState)(!1),[b,f]=Object(r.useState)(t.count),[y,v]=Object(r.useState)(!1),j=()=>{g(t,()=>{h(!0)})},S=e=>t=>{d(!u),f(t.target.value<1?1:t.target.value),t.target.value>=1&&E(e,t.target.value)};return o&&c.a.createElement(l.b,{to:"/product/".concat(t._id),style:{textDecoration:"none",color:"inherit"}},c.a.createElement("div",{className:"card cartao",onMouseEnter:()=>v(!0),onMouseLeave:()=>v(!1)},c.a.createElement("div",{className:"card-header p-2",style:{textAlign:"center",whiteSpace:"nowrap",overflow:"hidden"}},t.name),c.a.createElement("div",{className:"card-body pb-0 p-1"},(e=>{if(e)return c.a.createElement(N.Redirect,{to:"/cart"})})(p),c.a.createElement(x,{item:t,url:"product",style:n}),c.a.createElement("p",{className:"mt-2 mb-0 ml-1",style:{fontWeight:"bold",fontSize:"1.2rem"}},t.price,"\u20ac"),c.a.createElement("div",{className:"row",style:{display:"flex",justifyContent:"center"}},(e=>{if(y&&e)return c.a.createElement("button",{onClick:j,className:"btn btn-primary mb-1 mt-1 material-symbols-outlined mr-1",style:i},"add_shopping_cart")})(a),(e=>e&&c.a.createElement("div",null,c.a.createElement("div",{className:"input-group mb-1 mt-1"},c.a.createElement("button",{className:"bg-danger mr-1 form-control simbolsCart",onClick:()=>{d(!u),f(b+1),E(t._id,b+1)}},"+"),c.a.createElement("input",{className:"form-control cardNumber",style:{height:"45px",width:"50px",borderRadius:"50%",textAlign:"center",fontSize:"0.9em"},value:b,onChange:S(t._id)}),c.a.createElement("button",{className:"bg-primary ml-1 form-control simbolsCart",onClick:()=>{d(!u),b>1&&(f(b-1),E(t._id,b-1))}},"-"))))(s),(e=>e&&c.a.createElement("button",{onClick:()=>{(e=>{let t=[];"undefined"!=typeof window&&(localStorage.getItem("cart")&&(t=JSON.parse(localStorage.getItem("cart"))),t.map((a,r)=>{a._id===e&&t.splice(r,1)}),localStorage.setItem("cart",JSON.stringify(t)))})(t._id),d(!u)},className:"btn btn-danger mt-2 mb-2 ml-1 material-symbols-outlined pl-1 pr-1"},"delete"))(m)))),!y&&c.a.createElement("div",{style:{marginBottom:"50px"}}))};var C=()=>{const[e,t]=Object(r.useState)([]),[a,n]=Object(r.useState)([]),[o,l]=Object(r.useState)(!1),[s,m]=Object(r.useState)([]);return Object(r.useEffect)(()=>{O("createdAt").then(e=>{e.error?l(e.error):n(e)}),O("sold").then(e=>{e.error?l(e.error):t(e)}),O().then(e=>{e.error?l(e.error):m(e)})},[]),c.a.createElement(f,{title:"Home Page",description:"Node React e-commerce App",className:"container-fluid",layoutStyle:{padding:"35px"}},c.a.createElement("h2",{className:"mb-4"},"New Arrivals"),c.a.createElement("div",{className:"row"},a.map((e,t)=>c.a.createElement("div",{className:"col-2 mb-3",key:t},c.a.createElement(k,{product:e,imageStyle:{height:"250px",width:"100%"},showAddCartButton:0!==e.quantity})))),c.a.createElement("h2",{className:"mb-4 mt-4"},"Best Sellers"),c.a.createElement("div",{className:"row"},e.map((e,t)=>c.a.createElement("div",{className:"col-2 mb-3",key:t},c.a.createElement(k,{product:e,imageStyle:{height:"250px",width:"100%"},showAddCartButton:0!==e.quantity})))))};var T=e=>{let{categories:t,handleFilters:a}=e;const[n,o]=Object(r.useState)([]),l=e=>()=>{const t=n.indexOf(e),r=[...n];-1===t?r.push(e):r.splice(t,1),o(r),a(r)};return t.map((e,t)=>c.a.createElement("li",{key:t,className:"list-unstyled"},c.a.createElement("input",{onChange:l(e._id),type:"checkbox",className:"form-check-input",checked:n.includes(e._id)}),c.a.createElement("label",{className:"form-check-label"},e.name)))};var A=e=>{let{prices:t,handleFilters:a}=e;const[n,o]=Object(r.useState)(0),l=e=>{a(e.target.value),o(e.target.value)};return t.map((e,t)=>c.a.createElement("div",{key:t},c.a.createElement("input",{onChange:l,type:"radio",className:"mr-2 ml-4",value:"".concat(e._id),name:"p"}),c.a.createElement("label",{className:"form-check-label"},e.name)))};const P=[{_id:0,name:"Any",array:[]},{_id:1,name:"0\u20ac to 9\u20ac",array:[0,9]},{_id:2,name:"10\u20ac to 19",array:[10,19]},{_id:3,name:"20\u20ac to 29\u20ac",array:[20,29]},{_id:4,name:"30\u20ac to 39\u20ac",array:[30,39]},{_id:5,name:"More than 40\u20ac",array:[40,99]}];var R=e=>{let{setFilteredResults:t,setSearchQuery:a}=e;const[n,o]=Object(r.useState)({search:"",category:""}),{search:l,category:s}=n,d=()=>{(e=>{const t=S.a.stringify(e);return fetch("".concat(i,"/products/search?").concat(t),{method:"GET"}).then(e=>e.json()).catch(e=>console.log(e))})({search:l||void 0,category:s||void 0}).then(e=>{e.error?console.log(e.error):t(e)})},u=e=>{e.preventDefault(),d()},p=e=>t=>{o(Object(m.a)(Object(m.a)({},n),{},{[e]:t.target.value})),"search"===e&&a(t.target.value)};return c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"container mb-3"},c.a.createElement("form",{onSubmit:u},c.a.createElement("span",{className:"input-group-text mb-3 pr-0"},c.a.createElement("div",{className:"input-group input-group-sm"},c.a.createElement("input",{type:"search",className:"form-control pr-0",onChange:p("search"),placeholder:"Search by name"})),c.a.createElement("div",{className:"btn input-group-append",style:{border:"none"}},c.a.createElement("button",{className:"input-group-text material-symbols-outlined p-1",style:{fontSize:"1.3em"}},"search"))))))};var I=()=>{const[e,t]=Object(r.useState)({filters:{category:[],price:[]}}),[a,n]=Object(r.useState)([]),[o,l]=Object(r.useState)(!1),[s,d]=Object(r.useState)(0),[u,p]=Object(r.useState)(0),[g,E]=Object(r.useState)([]),[h,b]=Object(r.useState)(""),[y,N]=Object(r.useState)(""),v=()=>{fetch("".concat(i,"/categories"),{method:"GET"}).then(e=>e.json()).catch(e=>console.log(e)).then(e=>{e.error?l(e.error):n(e)}),w(0,1e3,{}).then(e=>{e.error?l(e.error):p(e.size)})},j=e=>{w(s,6,e).then(e=>{e.error?l(e.error):(E(e.data),p(e.size),d(0))})},S=()=>{let t=s+6;w(t,6,Object(m.a)({},e.filters)).then(e=>{e.error?l(e.error):(E(t=>[...t,...e.data]),d(t))})};Object(r.useEffect)(()=>{v(),j(e.filters)},[]),Object(r.useEffect)(()=>{C(g.length,e.filters)},[g]);const O=(a,r)=>{const c=Object(m.a)({},e);if(c.filters[r]=a,"price"===r){let e=x(a);c.filters[r]=e}t(c),E([]),d(0),j(c.filters)},x=e=>{const t=P;let a=[];for(let r in t)t[r]._id===parseInt(e)&&(a=t[r].array);return a},C=(e,t)=>{w(0,1e3,t).then(t=>{t.error?l(t.error):(p(t.size),b(0===e?"No products found ".concat(y?'for "'.concat(y,'"'):""):"Showing ".concat(e," of ").concat(t.size," products").concat(y?' for "'.concat(y,'"'):"")))})};return c.a.createElement(f,{title:"Shop Page",description:"Find books of your beautiful choices",className:"container-fluid",layoutStyle:{padding:"35px"}},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-2"},c.a.createElement(R,{setFilteredResults:E,setSearchQuery:N}),c.a.createElement("h5",null,"Filter by categories"),c.a.createElement("ul",null,c.a.createElement(T,{categories:a,handleFilters:e=>O(e,"category")})),c.a.createElement("h5",null,"Filter by price range"),c.a.createElement("div",null,c.a.createElement(A,{prices:P,handleFilters:e=>O(e,"price")}))),c.a.createElement("div",{className:"col-10"},c.a.createElement("h2",{className:"mb-3"},"Products"),c.a.createElement("p",{style:{fontSize:"1.1em"},className:"mb-4"},h),c.a.createElement("div",{className:"row"},g.map((e,t)=>c.a.createElement("div",{className:"col-2 mb-3",key:t},c.a.createElement(k,{product:e,imageStyle:{height:"200px",width:"100%"},showAddCartButton:0!==e.quantity,viewProductButtonSize:{paddingLeft:"55px",paddingRight:"55px",paddingTop:"3px",paddingBottom:"3px",borderRadius:"15px"}})))),c.a.createElement("hr",null),(()=>{if(g.length>=6&&u>0&&g.length<u)return c.a.createElement("div",{className:"d-flex justify-content-center"},c.a.createElement("button",{onClick:S,className:"btn btn-secondary mb-5"},"Load More"))})())))},B=a(13),q=a.n(B);var F=e=>{let{product:t,imageStyle:a,showViewProductButton:n=!0,stock:o=!0}=e;const[s,m]=Object(r.useState)(!1),i=()=>{g(t,()=>{m(!0)})};return c.a.createElement(r.Fragment,null,c.a.createElement("div",{className:"p-3 col-6"},c.a.createElement("div",{className:" card card-body",style:{justifyContent:"center",alignItems:"center"}},(e=>{if(e)return c.a.createElement(N.Redirect,{to:"/cart"})})(s),c.a.createElement(x,{item:t,url:"product",style:a}))),c.a.createElement("div",{className:"col-6 pt-3"},c.a.createElement("div",{className:"card p-3 d-inline-block w-100 shadow"},c.a.createElement("p",{className:"mb-0",style:{fontWeight:"bold",fontSize:"2.3rem"}},t.price,"\u20ac"),c.a.createElement("p",{className:"lead"},t.description),c.a.createElement("p",{className:"pt-1"},"Category: ",t.category&&t.category.name),c.a.createElement("div",{className:"row",style:{display:"flex",justifyContent:"center"}},0===t.quantity?c.a.createElement("button",{onClick:i,className:"btn d-flex align-items-center gap-2 rounded-pill bg-secondary",disabled:!0,style:{color:"white",padding:"10px 240px 10px 240px"}},c.a.createElement("span",{className:"material-symbols-outlined "},"shopping_cart_off"),c.a.createElement("p",{className:"m-0 ml-2",style:{fontWeight:"bold"}},"ADD TO CART")):c.a.createElement("button",{onClick:i,className:"btn d-flex align-items-center gap-2 rounded-pill bg-primary",style:{color:"white",padding:"10px 240px 10px 240px"}},c.a.createElement("span",{className:"material-symbols-outlined "},"add_shopping_cart"),c.a.createElement("p",{className:"m-0 ml-2",style:{fontWeight:"bold"}},"ADD TO CART")),c.a.createElement(l.b,{to:"/product/".concat(t._id)},(e=>e&&c.a.createElement("button",{className:"btn btn-outline-primary mt-2 mb-2"},"View Product"))(n))),c.a.createElement("p",{className:"mt-3"},"Added ",q()(t.createdAt).fromNow()),(e=>e>0?c.a.createElement("span",{className:"",style:{color:"green"}},"In Stock"):c.a.createElement("span",{style:{color:"red"}},"Out of Stock"))(t.quantity))))};var D=e=>{const[t,a]=Object(r.useState)({}),[n,o]=Object(r.useState)([]),[l,s]=Object(r.useState)(!1),m=e=>{(e=>fetch("".concat(i,"/product/").concat(e),{method:"GET"}).then(e=>e.json()).catch(e=>console.log(e)))(e).then(e=>{e.error?s(e.error):(a(e),(e=>fetch("".concat(i,"/products/related/").concat(e),{method:"GET"}).then(e=>e.json()).catch(e=>console.log(e)))(e._id).then(e=>{e.error?s(e.error):o(e)}))})};return Object(r.useEffect)(()=>{const t=e.match.params.productId;m(t),window.scrollTo({top:0,left:0,behavior:"smooth"})},[e]),c.a.createElement(f,{title:t.name,className:"container-fluid",textStyle:{fontSize:"3em"},layoutStyle:{padding:"40px",alignItems:"center"}},c.a.createElement("div",{className:"row"},c.a.createElement(F,{product:t,showViewProductButton:!1,imageStyle:{height:"570px",width:"100%"}})),c.a.createElement("hr",null),c.a.createElement("h4",{style:{marginTop:"50px",fontSize:"2em"}},"You may also be interested in"),c.a.createElement("div",{className:"row",style:{marginTop:"30px"}},n.map((e,t)=>c.a.createElement("div",{className:"col-2 mb-3",key:t},c.a.createElement(k,{product:e,imageStyle:{height:"250px",width:"100%"}})))))},G=a(28),M=a.n(G);var V=e=>{let{products:t,setRun:a}=e;const[n,o]=Object(r.useState)({success:!1,clientToken:null,error:"",instance:{},address:""}),s=d()&&d().user._id,u=d()&&d().token,p=(e,t)=>{((e,t)=>fetch("".concat(i,"/braintree/getToken/").concat(e),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)}}).then(e=>e.json()).catch(e=>console.log(e)))(e,t).then(e=>{e.error?o(Object(m.a)(Object(m.a)({},e),{},{error:e.error})):o({clientToken:e.clientToken})})};Object(r.useEffect)(()=>{p(s,u)},[]);const g=e=>{o(Object(m.a)(Object(m.a)({},n),{},{address:e.target.value}))},E=()=>Math.round(100*t.reduce((e,t)=>e+t.count*t.price,0))/100;let h=n.address;const b=()=>{let e;o({loading:!0}),window.scrollTo({top:0,behavior:"smooth"}),n.instance.requestPaymentMethod().then(r=>{const c={paymentMethodNonce:e=r.nonce,amount:E()};((e,t,a)=>fetch("".concat(i,"/braintree/payment/").concat(e),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify(a)}).then(e=>e.json()).catch(e=>console.log(e)))(s,u,c).then(e=>{o(Object(m.a)(Object(m.a)({},r),{},{success:e.success}));const c={products:t,transaction_id:e.transaction.id,amount:e.transaction.amount,address:h};((e,t,a)=>fetch("".concat(i,"/order/create/").concat(e),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify({order:a})}).then(e=>e.json()).catch(e=>console.log(e)))(s,u,c),(e=>{"undefined"!==typeof window&&(localStorage.removeItem("cart"),e())})(()=>{a(e=>!e),o({success:!0})})}).catch(e=>{console.log(e),o({loading:!1})})}).catch(e=>{o(Object(m.a)(Object(m.a)({},n),{},{error:e.message}))})},f=()=>c.a.createElement("div",{onBlur:()=>o(Object(m.a)(Object(m.a)({},n),{},{error:""}))}," ",null!==n.clientToken&&t.length>0?c.a.createElement("div",null,c.a.createElement("div",{className:"gorm-group mb-3 mt-3"},c.a.createElement("label",{style:{fontWeight:"500"}},"Delivery address:"),c.a.createElement("textarea",{onChange:g,className:"form-control",value:n.address,placeholder:"Type your delivery address here..."})),c.a.createElement(M.a,{options:{authorization:n.clientToken,card:{vault:!1,overrides:{fields:{cvv:{placeholder:"CVV"}}}},paypal:{flow:"vault"}},onInstance:e=>n.instance=e}),c.a.createElement("button",{onClick:b,className:"btn btn-success btn-block"},"CheckOut")):null);return c.a.createElement("div",null,c.a.createElement("h2",null,"Total: ",E(),"\u20ac"),(e=>c.a.createElement("div",{className:"alert alert-info mt-3",style:{display:e?"":"none"}},"Thanks! Your purchase has been completed successfully!"))(n.success),(e=>c.a.createElement("div",{className:"alert alert-danger mt-3",style:{display:e?"":"none"}},e))(n.error),d()?c.a.createElement("div",null,f()):c.a.createElement(l.b,{to:"/signin"},c.a.createElement("button",{className:"btn btn-primary mt-3"},"Sign in to checkout")))};var X=()=>{const[e,t]=Object(r.useState)([]),[a,n]=Object(r.useState)(!1);d().user._id;Object(r.useEffect)(()=>{t("undefined"!=typeof window&&localStorage.getItem("cart")?JSON.parse(localStorage.getItem("cart")):[])},[a]);return c.a.createElement(f,{title:"Shopping Cart",layoutStyle:{padding:"35px"},description:"Manage your cart items. Add, remove, checkout or continue shopping",className:"container-fluid"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-6"},e.length>0?(e=>c.a.createElement("div",null,c.a.createElement("h2",{className:"mb-4"},"Your cart has ","".concat(e.length)," items"),c.a.createElement("hr",null),c.a.createElement("div",{className:"row"},e.map((e,t)=>c.a.createElement("div",{key:t,className:"col-4  mb-3"},c.a.createElement(k,{product:e,showAddCartButton:!1,imageStyle:{height:"250px",width:"100%"},cartUpdate:!0,showRemoveProductButton:!0,setRun:n,run:a}))))))(e):c.a.createElement("h2",null,"You cart is empty! ",c.a.createElement(N.Link,{to:"/shop"},"Continue shopping."))),c.a.createElement("div",{className:"col-6"},c.a.createElement("h2",{className:"mb-4"},"Your cart summary"),c.a.createElement("hr",null),c.a.createElement(V,{products:e,setRun:n}))))},K=a(12);a(24);const L=()=>fetch("".concat(i,"/categories"),{method:"GET"}).then(e=>e.json()).catch(e=>console.log(e));K.a.configure();var J=()=>{const[e,t]=Object(r.useState)([]),{user:a,token:n}=d(),o=()=>{fetch("".concat(i,"/products?limit=undefined"),{method:"GET"}).then(e=>e.json()).catch(e=>console.log(e)).then(e=>{e.error?console.log(e.error):t(e)})},l=e=>{((e,t,a)=>fetch("".concat(i,"/product/").concat(e,"/").concat(a),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)}}).then(e=>e.json()).catch(e=>console.log(e)))(e,n,a._id).then(e=>{e.error?console.log(e.error):(o(),K.a.success("Product deleted successfully!",{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}))})};return Object(r.useEffect)(()=>{o()},[]),c.a.createElement(f,{title:"Manage Products",description:"Perfom CRUD on products",className:"container-fluid",layoutStyle:{padding:"35px"}},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-12"},c.a.createElement("h2",{className:"text-center"},"Total products: ",e.length),c.a.createElement("hr",null),c.a.createElement("ul",{className:"list-group"},e.map((e,t)=>c.a.createElement("li",{key:t,className:"list-group-item d-flex justify-content-between align-items-center"},c.a.createElement("strong",null,e.name),c.a.createElement("div",null,c.a.createElement(N.Link,{to:"/admin/product/update/".concat(e._id)},c.a.createElement("button",{className:"btn btn-warning rounded-pill material-symbols-outlined mr-2"},"edit")),c.a.createElement("button",{onClick:()=>l(e._id),className:"btn btn-danger rounded-pill material-symbols-outlined"},"delete"))))))))},U=a(17);const H=["component"];var z=e=>{let{component:t}=e,a=Object(U.a)(e,H);return c.a.createElement(s.Route,Object.assign({},a,{render:e=>d()?c.a.createElement(t,e):c.a.createElement(s.Redirect,{to:{pathname:"/signin",state:{from:e.location}}})}))};var Q=()=>{const[e,t]=Object(r.useState)([]),{user:{_id:a,name:n,email:o,role:s}}=d(),m=d().token,u=(e,a)=>{((e,t)=>fetch("".concat(i,"/orders/by/user/").concat(e),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)}}).then(e=>e.json()).catch(e=>console.log(e)))(e,a).then(e=>{e.error?console.log(e.error):t(e)})};Object(r.useEffect)(()=>{u(a,m)},[]);return c.a.createElement(f,{layoutStyle:{padding:"35px"},title:"Dashboard",description:c.a.createElement("span",null,"Good day, ",c.a.createElement("strong",null,n),"!"),className:"container"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-3"},c.a.createElement("div",{className:"card"},c.a.createElement("h4",{className:"card-header"},"User Links"),c.a.createElement("ul",{className:"list-group"},c.a.createElement("li",{className:"list-group-item"},c.a.createElement(l.b,{className:"nav-link",to:"/cart"},"My cart")),c.a.createElement("li",{className:"list-group-item"},c.a.createElement(l.b,{className:"nav-link",to:"/profile/".concat(a)},"Update Profile"))))),c.a.createElement("div",{className:"col-9"},c.a.createElement("div",{className:"card mb-5"},c.a.createElement("h3",{className:"card-header"},"User Information"),c.a.createElement("ul",{className:"list-group"},c.a.createElement("li",{className:"list-group-item"},c.a.createElement("strong",null,"Name:\xa0\xa0\xa0"),n),c.a.createElement("li",{className:"list-group-item"},c.a.createElement("strong",null,"E-mail:\xa0\xa0\xa0"),o),1===s&&c.a.createElement("li",{className:"list-group-item"},c.a.createElement("strong",null,"Role:\xa0\xa0\xa0"),"Admin"))),(e=>c.a.createElement("div",{className:"card mb-5"},c.a.createElement("h3",{className:"card-header"},"Purchase History"),c.a.createElement("ul",{className:"list-group"},c.a.createElement("li",{className:"list-group-item"},e.map((e,t)=>c.a.createElement("div",{key:t},e.products.map((t,a)=>c.a.createElement("div",{key:a},c.a.createElement("h6",null,"Product name: ",c.a.createElement("span",{style:{fontWeight:400}},t.name)),c.a.createElement("h6",null,"Product price: ",c.a.createElement("span",{style:{fontWeight:400}},t.price,"\u20ac")),c.a.createElement("h6",null,"Purchased date: ",c.a.createElement("span",{style:{fontWeight:400}},q()(e.createdAt).fromNow())))),c.a.createElement("hr",null)))))))(e))))};var Y=e=>{let{match:t}=e;const[a,n]=Object(r.useState)({name:"",email:"",password:"",error:"",success:!1}),{token:o}=d(),{name:l,email:s,password:u,error:p,success:g}=a,E=e=>{((e,t)=>fetch("".concat(i,"/user/").concat(e),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)}}).then(e=>e.json()).catch(e=>console.log(e)))(e,o).then(e=>{e.error?n(Object(m.a)(Object(m.a)({},a),{},{error:!0})):n(Object(m.a)(Object(m.a)({},a),{},{name:e.name,email:e.email}))})};Object(r.useEffect)(()=>{E(t.params.userId)},[]);const h=e=>t=>{n(Object(m.a)(Object(m.a)({},a),{},{error:!1,[e]:t.target.value}))},b=e=>{e.preventDefault(),((e,t,a)=>fetch("".concat(i,"/user/").concat(e),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify(a)}).then(e=>e.json()).catch(e=>console.log(e)))(t.params.userId,o,{name:l,email:s,password:u}).then(e=>{e.error?console.log(e.error):((e,t)=>{if("undefined"!=typeof window&&localStorage.getItem("jwt")){let a=JSON.parse(localStorage.getItem("jwt"));a.user=e,localStorage.setItem("jwt",JSON.stringify(a)),t()}})(e,()=>{n(Object(m.a)(Object(m.a)({},a),{},{name:e.name,email:e.email,success:!0}))})})};return c.a.createElement(f,{title:"Profile",description:"Update your profile",className:"container-fluid",layoutStyle:{padding:"35px"}},c.a.createElement("h2",{className:"mb-4"},"Profile update"),((e,t,a)=>c.a.createElement("form",null,c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{className:"text-muted"},"Name"),c.a.createElement("input",{type:"text",onChange:h("name"),className:"form-control",value:e})),c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{className:"text-muted"},"Email"),c.a.createElement("input",{type:"email",onChange:h("email"),className:"form-control",value:t})),c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{className:"text-muted"},"Password"),c.a.createElement("input",{type:"password",onChange:h("password"),className:"form-control",value:a})),c.a.createElement("button",{className:"btn btn-primary",onClick:b},"Submit")))(l,s,u),(e=>{e&&window.location.reload()})(g))};const W=["component"];var Z=e=>{let{component:t}=e,a=Object(U.a)(e,W);return c.a.createElement(s.Route,Object.assign({},a,{render:e=>d()&&1===d().user.role?c.a.createElement(t,e):c.a.createElement(s.Redirect,{to:{pathname:"/signin",state:{from:e.location}}})}))};var _=()=>{const{user:{name:e,email:t,role:a}}=d();return c.a.createElement(f,{layoutStyle:{padding:"35px"},title:"Dashboard",description:c.a.createElement("span",null,"Good day, ",c.a.createElement("strong",null,e),"!"),className:"container-fluid"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-3"},c.a.createElement("div",{className:"card"},c.a.createElement("h4",{className:"card-header"},"Admin Links"),c.a.createElement("ul",{className:"list-group"},c.a.createElement("li",{className:"list-group-item"},c.a.createElement(l.b,{className:"nav-link",to:"/create/category"},"Create Category")),c.a.createElement("li",{className:"list-group-item"},c.a.createElement(l.b,{className:"nav-link",to:"/create/product"},"Create Product")),c.a.createElement("li",{className:"list-group-item"},c.a.createElement(l.b,{className:"nav-link",to:"/admin/orders"},"View orders")),c.a.createElement("li",{className:"list-group-item"},c.a.createElement(l.b,{className:"nav-link",to:"/admin/products"},"Manage Products"))))),c.a.createElement("div",{className:"col-9"},c.a.createElement("div",{className:"card mb-5"},c.a.createElement("h3",{className:"card-header"},"User Information"),c.a.createElement("ul",{className:"list-group"},c.a.createElement("li",{className:"list-group-item"},c.a.createElement("strong",null,"Name:\xa0\xa0\xa0"),e),c.a.createElement("li",{className:"list-group-item"},c.a.createElement("strong",null,"E-mail:\xa0\xa0\xa0"),t),1===a&&c.a.createElement("li",{className:"list-group-item"},c.a.createElement("strong",null,"Role:\xa0\xa0\xa0"),"Admin"))))))};var $=()=>{const[e,t]=Object(r.useState)(""),[a,n]=Object(r.useState)(!1),[o,l]=Object(r.useState)(!1),{user:s,token:m}=d(),u=e=>{l(!1),n(""),t(e.target.value)},p=t=>{t.preventDefault(),n(""),l(!1),((e,t,a)=>fetch("".concat(i,"/category/create/").concat(e),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify(a)}).then(async e=>{if(!e.ok){const t=await e.text();throw new Error(t||"An error occurred")}return e.json()}).catch(e=>(console.error("Error creating category:",e.message),{error:e.message})))(s._id,m,{name:e}).then(e=>{e.error?(n(e.error),l(!1)):(n(""),l(!0))})},g=()=>{window.location.href="/admin/dashboard"};return c.a.createElement(f,{layoutStyle:{padding:"35px"},title:"Add a new category!",description:c.a.createElement("span",null,"Ready to add a new category, ",c.a.createElement("strong",null,s.name),"?")},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-md-8 offset-md-2"},(()=>{if(o)return c.a.createElement("h3",{className:"text-success"},"'",e,"' was successfully created!")})(),(()=>{if(a)return c.a.createElement("h3",{className:"text-danger"},"There's already a category named '",e,"'")})(),c.a.createElement("form",{onSubmit:p},c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{className:"text-muted"},"Name"),c.a.createElement("input",{type:"text",className:"form-control",onChange:u,value:e,autoFocus:!0,required:!0})),c.a.createElement("button",{className:"btn btn-outline-primary mr-2"},"Create Category"),c.a.createElement("button",{type:"button",className:"btn btn-outline-secondary",onClick:g},"Cancel")))))};var ee=()=>{const{user:e,token:t}=d(),[a,n]=Object(r.useState)({name:"",description:"",price:"",categories:[],category:"",shipping:"",quantity:"",photo:"",loading:!1,error:"",createProduct:"",redirectToProfile:!1,formData:""}),{name:o,description:l,price:s,categories:u,quantity:p,loading:g,error:E,createdProduct:h,formData:b}=a;Object(r.useEffect)(()=>{L().then(e=>{e.error?n(Object(m.a)(Object(m.a)({},a),{},{error:e.error})):n(Object(m.a)(Object(m.a)({},a),{},{categories:e,formData:new FormData}))})},[]);const y=e=>t=>{const r="photo"===e?t.target.files[0]:t.target.value;b.set(e,r),n(Object(m.a)(Object(m.a)({},a),{},{[e]:r,createdProduct:"",error:""}))},N=()=>{window.location.href="/admin/dashboard"},v=r=>{r.preventDefault(),n(Object(m.a)(Object(m.a)({},a),{},{error:"",loading:!0})),((e,t,a)=>fetch("".concat(i,"/product/create/").concat(e),{method:"POST",headers:{Accept:"application/json",Authorization:"Bearer ".concat(t)},body:a}).then(e=>e.json()).catch(e=>{console.log(e)}))(e._id,t,b).then(e=>{e.error?n(Object(m.a)(Object(m.a)({},a),{},{error:e.error})):n(Object(m.a)(Object(m.a)({},a),{},{name:"",description:"",photo:"",price:"",quantity:"",loading:!1,createdProduct:e.name})),window.scrollTo({top:0,behavior:"smooth"})})};return c.a.createElement(f,{layoutStyle:{padding:"35px"},title:"Add a new product!",description:c.a.createElement("span",null,"Ready to add a new product, ",c.a.createElement("strong",null,e.name),"?")},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-md-8 offset-md-2"},(()=>{if(h)return c.a.createElement("h3",{className:"text-success mt-2 mb-4"},"'",h,"' was successfully created!")})(),g&&c.a.createElement("div",{className:"alert alert-success"},c.a.createElement("h2",null,"Loading...")),(()=>{if(E)return c.a.createElement("h3",{className:"text-danger mt-2 mb-4"},E,"!")})(),c.a.createElement("form",{className:"mb-3",onSubmit:v},c.a.createElement("h4",null,"Post Photo"),c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{className:"btn btn-secondary"},c.a.createElement("input",{onChange:y("photo"),type:"file",name:"photo",accept:"image/*"}))),c.a.createElement("div",{className:"form-froup"},c.a.createElement("label",{className:"text-muted"},"Name"),c.a.createElement("input",{onChange:y("name"),type:"text",className:"form-control",value:o})),c.a.createElement("div",{className:"form-froup"},c.a.createElement("label",{className:"text-muted"},"Description"),c.a.createElement("textarea",{onChange:y("description"),className:"form-control",value:l})),c.a.createElement("div",{className:"form-froup style={{ position: 'relative' }}"},c.a.createElement("label",{className:"text-muted"},"Price"),c.a.createElement("div",{style:{display:"flex",alignItems:"center"}},c.a.createElement("input",{onChange:y("price"),type:"number",className:"form-control",value:s,style:{paddingRight:"40px"}}),c.a.createElement("div",{style:{width:"30px",height:"30px",backgroundColor:"#ddd",display:"flex",alignItems:"center",justifyContent:"center",marginLeft:"-35px",borderRadius:"4px"}},"\u20ac"))),c.a.createElement("div",{className:"form-froup"},c.a.createElement("label",{className:"text-muted"},"Category"),c.a.createElement("select",{onChange:y("category"),className:"form-control"},c.a.createElement("option",null,"-- Select an option --"),u&&u.map((e,t)=>c.a.createElement("option",{key:t,value:e._id},e.name)))),c.a.createElement("div",{className:"form-froup"},c.a.createElement("label",{className:"text-muted"},"Shipping"),c.a.createElement("select",{onChange:y("shipping"),className:"form-control"},c.a.createElement("option",null,"-- Select an option --"),c.a.createElement("option",{value:"0"},"No"),c.a.createElement("option",{value:"1"},"Yes"))),c.a.createElement("div",{className:"form-froup"},c.a.createElement("label",{className:"text-muted"},"Quantity"),c.a.createElement("input",{onChange:y("quantity"),type:"number",className:"form-control",value:p})),c.a.createElement("button",{className:"btn btn-outline-primary mt-3 mr-2"},"Create Product"),c.a.createElement("button",{className:"btn btn-outline-secondary mt-3",onClick:N},"Cancel")))))};K.a.configure();var te=e=>{let{match:t}=e;const[a,n]=Object(r.useState)({name:"",description:"",price:"",categories:[],category:"",shipping:"",quantity:"",photo:"",loading:!1,error:"",createProduct:"",redirectToProfile:!1,formData:""}),{user:o,token:l}=d(),{name:s,description:u,price:p,categories:g,quantity:E,loading:h,error:b,createdProduct:y,redirectToProfile:v,formData:j}=a,S=e=>{(e=>fetch("".concat(i,"/product/").concat(e),{method:"GET"}).then(e=>e.json()).catch(e=>console.log(e)))(e).then(e=>{e.error?n(Object(m.a)(Object(m.a)({},a),{},{error:e.error})):(n(Object(m.a)(Object(m.a)({},a),{},{name:e.name,description:e.description,price:e.price,category:e.category._id,shipping:e.shipping,quantity:e.quantity,formData:new FormData})),O())})},O=()=>{L().then(e=>{e.error?n(Object(m.a)(Object(m.a)({},a),{},{error:e.error})):n({categories:e,formData:new FormData})})};Object(r.useEffect)(()=>{S(t.params.productId)},[]);const w=e=>t=>{const r="photo"===e?t.target.files[0]:t.target.value;j.set(e,r),n(Object(m.a)(Object(m.a)({},a),{},{[e]:r,createdProduct:"",error:""}))},x=()=>{window.location.href="/admin/dashboard"},k=e=>{e.preventDefault(),n(Object(m.a)(Object(m.a)({},a),{},{error:"",loading:!0})),((e,t,a,r)=>fetch("".concat(i,"/product/").concat(e,"/").concat(a),{method:"PUT",headers:{Accept:"application/json",Authorization:"Bearer ".concat(t)},body:r}).then(e=>e.json()).catch(e=>console.log(e)))(t.params.productId,l,o._id,j).then(e=>{e.error?n(Object(m.a)(Object(m.a)({},a),{},{error:e.error})):n(Object(m.a)(Object(m.a)({},a),{},{name:"",description:"",photo:"",price:"",quantity:"",loading:!1,error:!1,redirectToProfile:!0,createdProduct:e.name})),window.scrollTo({top:0,behavior:"smooth"})})};return c.a.createElement(f,{layoutStyle:{padding:"35px"},title:"Add a new product!",description:c.a.createElement("span",null,"Ready to add a new product, ",c.a.createElement("strong",null,o.name),"?")},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-md-8 offset-md-2"},void(y&&K.a.success("".concat(y," was successfully updated!"),{position:"top-right",autoClose:4e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})),h&&c.a.createElement("div",{className:"alert alert-success"},c.a.createElement("h2",null,"Loading...")),void(b&&K.a.error(b,{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})),c.a.createElement("form",{className:"mb-3",onSubmit:k},c.a.createElement("h4",null,"Post Photo"),c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{className:"btn btn-secondary"},c.a.createElement("input",{onChange:w("photo"),type:"file",name:"photo",accept:"image/*"}))),c.a.createElement("div",{className:"form-froup"},c.a.createElement("label",{className:"text-muted"},"Name"),c.a.createElement("input",{onChange:w("name"),type:"text",className:"form-control",value:s})),c.a.createElement("div",{className:"form-froup"},c.a.createElement("label",{className:"text-muted"},"Description"),c.a.createElement("textarea",{onChange:w("description"),className:"form-control",value:u})),c.a.createElement("div",{className:"form-froup style={{ position: 'relative' }}"},c.a.createElement("label",{className:"text-muted"},"Price"),c.a.createElement("div",{style:{display:"flex",alignItems:"center"}},c.a.createElement("input",{onChange:w("price"),type:"number",className:"form-control",value:p,style:{paddingRight:"40px"}}),c.a.createElement("div",{style:{width:"30px",height:"30px",backgroundColor:"#ddd",display:"flex",alignItems:"center",justifyContent:"center",marginLeft:"-35px",borderRadius:"4px"}},"\u20ac"))),c.a.createElement("div",{className:"form-froup"},c.a.createElement("label",{className:"text-muted"},"Category"),c.a.createElement("select",{onChange:w("category"),className:"form-control"},c.a.createElement("option",null,"-- Select an option --"),g&&g.map((e,t)=>c.a.createElement("option",{key:t,value:e._id},e.name)))),c.a.createElement("div",{className:"form-froup"},c.a.createElement("label",{className:"text-muted"},"Shipping"),c.a.createElement("select",{onChange:w("shipping"),className:"form-control"},c.a.createElement("option",null,"-- Select an option --"),c.a.createElement("option",{value:"0"},"No"),c.a.createElement("option",{value:"1"},"Yes"))),c.a.createElement("div",{className:"form-froup"},c.a.createElement("label",{className:"text-muted"},"Quantity"),c.a.createElement("input",{onChange:w("quantity"),type:"number",className:"form-control",value:E})),c.a.createElement("button",{className:"btn btn-outline-primary mt-3 mr-2"},"Update Product"),c.a.createElement("button",{className:"btn btn-outline-secondary mt-3",onClick:x},"Cancel")),(()=>{if(v&&!b)return c.a.createElement(N.Redirect,{to:"/admin/products"})})())))};var ae=()=>{const[e,t]=Object(r.useState)([]),[a,n]=Object(r.useState)([]),{user:o,token:l}=d(),s=()=>{((e,t)=>fetch("".concat(i,"/order/list/").concat(e),{method:"GET",headers:{Accept:"application/json",Authorization:"Bearer ".concat(t)}}).then(e=>e.json()).catch(e=>console.log(e)))(o._id,l).then(e=>{e.error?console.log(e.error):t(e)})},m=()=>{((e,t)=>fetch("".concat(i,"/order/status-values/").concat(e),{method:"GET",headers:{Accept:"application/json",Authorization:"Bearer ".concat(t)}}).then(e=>e.json()).catch(e=>console.log(e)))(o._id,l).then(e=>{e.error?console.log(e.error):n(e)})};Object(r.useEffect)(()=>{s(),m()},[]);const u=(e,t)=>[c.a.createElement("div",{className:"input-group mb-2 mr-sm-2"},c.a.createElement("div",{className:"input-group-prepend"},c.a.createElement("div",{className:"input-group-text"},e)),c.a.createElement("input",{type:"text",value:t,className:"form-control",readOnly:!0}))],p=(e,t)=>{((e,t,a,r)=>fetch("".concat(i,"/order/").concat(a,"/status/").concat(e),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify({status:r,orderId:a})}).then(e=>e.json()).catch(e=>console.log(e)))(o._id,l,t,e.target.value).then(e=>{e.error?console.log("Status Update Faild"):s()})};return c.a.createElement(f,{layoutStyle:{padding:"35px"},title:"Orders",description:c.a.createElement("span",null,"You can manage all the orders here!")},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-md-8 offset-md-2"},e.length>0?c.a.createElement("h4",{className:"text-danger"},"Total Orders: ",e.length):c.a.createElement("h4",{className:"text-danger"},"No orders"),e.map((e,t)=>c.a.createElement("div",{className:"mt-5 card shadow-lg p-5",key:t},c.a.createElement("h2",{className:"mb-5 text-center"},c.a.createElement("span",{className:"bg-primary p-2",style:{fontSize:"22px"}},"ORDER ID: ",e._id)),c.a.createElement("div",{className:"row"},c.a.createElement("ul",{className:"list-group mb-2 col-5"},c.a.createElement("li",{className:"list-group-item pb-0"},(e=>c.a.createElement("div",{className:"form-group"},c.a.createElement("h3",{className:"mt-2 mb-3 text-center"},"Status: ",e.status),c.a.createElement("select",{className:"form-control",onChange:t=>p(t,e._id)},c.a.createElement("option",null,"----"),a.map((e,t)=>c.a.createElement("option",{key:t,value:e},e)))))(e)),c.a.createElement("li",{className:"list-group-item"},"Transaction Id: ",e.transaction_id),c.a.createElement("li",{className:"list-group-item"},"Amount: ",e.amount,"\u20ac"),c.a.createElement("li",{className:"list-group-item"},"Ordered by: ",e.user.name),c.a.createElement("li",{className:"list-group-item"},"Ordered at: ",q()(e.createdAt).fromNow()),c.a.createElement("li",{className:"list-group-item"},"Delivery Address: ",e.address)),c.a.createElement("div",{className:"col-7"},c.a.createElement("h3",{className:"mt-4 mb-4 font-italic"},"Total products in the order: ",e.products.length),e.products.map((e,t)=>c.a.createElement(r.Fragment,null,c.a.createElement("div",{className:"mb-4",key:t,style:{padding:"20px"}},u("Product name",e.name),u("Product price",e.price),u("Product count",e.count),u("Product id",e._id)),c.a.createElement("hr",null))))))))))};var re=()=>c.a.createElement(l.a,null,c.a.createElement(s.Switch,null,c.a.createElement(s.Route,{path:"/",exact:!0,component:C}),c.a.createElement(s.Route,{path:"/shop",exact:!0,component:I}),c.a.createElement(s.Route,{path:"/signin",exact:!0,component:v}),c.a.createElement(s.Route,{path:"/signup",exact:!0,component:y}),c.a.createElement(s.Route,{path:"/product/:productId",exact:!0,component:D}),c.a.createElement(s.Route,{path:"/cart/",exact:!0,component:X}),c.a.createElement(z,{path:"/user/dashboard",exact:!0,component:Q}),c.a.createElement(Z,{path:"/admin/dashboard",exact:!0,component:_}),c.a.createElement(Z,{path:"/create/category",exact:!0,component:$}),c.a.createElement(Z,{path:"/create/product",exact:!0,component:ee}),c.a.createElement(Z,{path:"/admin/product/update/:productId",exact:!0,component:te}),c.a.createElement(Z,{path:"/admin/orders",exact:!0,component:ae}),c.a.createElement(z,{path:"/profile/:userId",exact:!0,component:Y}),c.a.createElement(Z,{path:"/admin/products",exact:!0,component:J})));o.a.render(c.a.createElement(re,null),document.getElementById("root"))}},[[29,1,2]]]);
//# sourceMappingURL=main.0924aa80.chunk.js.map