{"version":3,"sources":["assets/logo.png","config.js","auth/index.js","core/CartHelpers.js","core/Menu.js","core/Layout.js","user/Signup.js","user/Signin.js","core/apiCore.js","core/ShowImage.js","core/Card.js","core/Home.js","core/Checkbox.js","core/RadioBox.js","core/fixedPrices.js","core/Search.js","core/Shop.js","core/SingleProductCard.js","core/Product.js","core/CheckOut.js","core/Cart.js","admin/apiAdmin.js","admin/ManageProducts.js","auth/PrivateRoute.js","user/UserDashboard.js","user/apiUser.js","user/Profile.js","auth/AdminRoute.js","user/AdminDashboard.js","admin/AddCategory.js","admin/AddProduct.js","admin/UpdateProduct.js","admin/Orders.js","Routes.js","index.js"],"names":["module","exports","API","process","isAuthenticated","window","localStorage","getItem","JSON","parse","addItem","item","next","cart","push","_objectSpread","count","Array","from","Set","map","p","_id","id","find","setItem","stringify","updateItem","productId","product","i","isActive","history","path","location","pathname","color","backgroundColor","withRouter","_ref","React","createElement","className","Link","to","src","logo","alt","style","user","role","display","Fragment","onClick","removeItem","fetch","concat","method","then","response","console","log","catch","err","signout","cursor","length","Layout","title","description","children","textStyle","layoutStyle","Menu","SignUp","values","setValues","useState","name","email","password","error","success","handleChange","event","[object Object]","target","value","clickSubmit","preventDefault","headers","Accept","Content-Type","body","json","signup","data","padding","onChange","type","disabled","SignIn","loading","redirectToReferrer","signin","authenticate","Redirect","getProducts","sortBy","getFilteredProducts","skip","limit","filters","arguments","undefined","async","ok","errorMessage","text","Error","message","ShowImage","url","Card","showAddCartButton","imageStyle","showViewProductButton","cartUpdate","showRemoveProductButton","viewProductButtonSize","paddingLeft","paddingRight","paddingTop","paddingBottom","borderRadius","setRun","f","run","redirect","setRedirect","setCount","isHovered","setIsHovered","addToCart","textDecoration","onMouseEnter","onMouseLeave","textAlign","whiteSpace","overflow","shouldRedirect","fontWeight","fontSize","price","justifyContent","showAddToCartButton","height","width","showCartUpdateOptions","splice","showRemoveButton","marginBottom","Home","productsBySell","setProductsBySell","productsByArrival","setProductsByArrival","setError","setProduct","useEffect","key","quantity","Checkbox","categories","handleFilters","checked","setChecked","handleToggle","c","currentCategoryId","indexOf","newCheckedCategoryId","includes","RadioBox","prices","setValue","array","Search","setFilteredResults","setSearchQuery","setData","search","category","searchData","params","query","queryString","list","searchSubmit","e","onSubmit","placeholder","border","Shop","myFilters","setMyFilters","setCategories","setSkip","size","setSize","filteredResults","productMessage","setProductMessage","searchQuery","init","loadFilterResults","newFilters","loadMore","toSkip","prevResults","showMessage","filterBy","priceValues","handlePrice","parseInt","productsLength","loadMoreButton","stock","alignItems","showViewButton","moment","createdAt","fromNow","showStok","Product","props","relatedProducts","setRelatedProducts","loadSingleProduct","read","listRelated","match","scrollTo","top","left","behavior","SingleProductCard","marginTop","CheckOut","products","clientToken","instance","address","userId","token","getToken","getBraintreeClientToken","Authorization","handleAddress","getTotalAmount","Math","round","reduce","currentValue","nextValue","deliveryAddress","buy","nonce","requestPaymentMethod","paymentData","paymentMethodNonce","amount","processPayment","createOrderData","transaction_id","transaction","createOrder","order","emptyCart","prev","showDropIn","onBlur","DropIn","options","authorization","card","vault","overrides","fields","cvv","paypal","flow","onInstance","showSuccess","showError","Cart","items","setItems","showItems","getCategories","toast","configure","ManageProducts","setProducts","loadProducts","destroy","deleteProduct","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","PrivateRoute","component","Component","rest","_objectWithoutProperties","_excluded","Route","Object","assign","render","state","Dashboard","setHistory","getPurchaseHistory","h","j","purchaseHistory","Profile","update","updateUser","auth","profileUpdate","reload","redirectUser","AdminRoute","AdminDashboard","AddCategory","setName","setSuccess","createCategory","handleCancel","href","autoFocus","required","AddProduct","shipping","photo","createProduct","redirectToProfile","formData","createdProduct","FormData","files","set","accept","marginLeft","UpdateProduct","getProduct","initCategories","updateProduct","Orders","orders","setOrders","statusValues","setStatusValues","loadOrders","listOrders","loadStatusValues","getStatusValues","showInput","readOnly","handleStatusChange","orderId","updateOrderStatus","status","o","oIndex","index","showStatus","pIndex","Routes","BrowserRouter","Switch","exact","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.0924aa80.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","export const API = process.env.REACT_APP_API_URL","import { API } from \"../config\"\r\n\r\nexport const signup = user => {\r\n    return fetch(`${API}/signup`, {\r\n        method: 'POST',\r\n        headers: {\r\n            Accept: 'application/json',\r\n            'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify(user)\r\n    })\r\n        .then(response => {\r\n            return response.json();\r\n        })\r\n        .catch(err => {\r\n            console.log(err);\r\n        });\r\n};\r\n\r\nexport const signin = user => {\r\n    return fetch(`${API}/signin`, {\r\n        method: 'POST',\r\n        headers: {\r\n            Accept: 'application/json',\r\n            'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify(user)\r\n    })\r\n        .then(response => {\r\n            return response.json();\r\n        })\r\n        .catch(err => {\r\n            console.log(err);\r\n        });\r\n};\r\n\r\nexport const authenticate = (data, next) => {\r\n    if(typeof window != 'undefined') {\r\n        localStorage.setItem('jwt', JSON.stringify(data))\r\n        next()\r\n    }\r\n}   \r\n\r\nexport const signout = (next) => {\r\n    if(typeof window != 'undefined') {\r\n        localStorage.removeItem('jwt')\r\n        next()\r\n        return fetch(`${API}/signout`, {\r\n            method: 'GET',\r\n        })\r\n        .then(response => {\r\n            console.log('signout', response)\r\n        })\r\n        .catch(err => console.log(err)) \r\n\r\n\r\n    }\r\n}\r\n\r\nexport const isAuthenticated = () => {\r\n    if(typeof window == 'undefined') {\r\n        return false\r\n    }\r\n    if(localStorage.getItem('jwt')) {\r\n        return JSON.parse(localStorage.getItem('jwt'))\r\n    } else {\r\n        return false\r\n    }\r\n}","export const addItem = (item, next) => {\r\n    let cart = []\r\n    if(typeof window !== 'undefined') {\r\n        if(localStorage.getItem('cart')) {\r\n            cart = JSON.parse(localStorage.getItem('cart'))\r\n        }\r\n        cart.push({\r\n            ...item, \r\n            count: 1\r\n        })\r\n\r\n        // remove duplicates\r\n        // build an Array from new Set and turn it back into array using Array.from\r\n        // so that later we can re-map it\r\n        // new set will only allow unique values in it\r\n        // so pass the ids of each object/product\r\n        // If the loop tries to add the same value again, it'll get ignored\r\n        // ...with the array of ids we got on when first map() was used\r\n        // run map() on it again and return the actual product from the cart\r\n\r\n        cart = Array.from(new Set(cart.map(p => (p._id)))).map(id => {\r\n            return cart.find(p => p._id === id)\r\n        })\r\n\r\n        localStorage.setItem('cart', JSON.stringify(cart))\r\n        next() //runs after the item is added to the cart\r\n    }\r\n} \r\n\r\nexport const itemTotal = () => {\r\n    if(typeof window != 'undefined') {\r\n        if(localStorage.getItem('cart')) {\r\n            return JSON.parse(localStorage.getItem('cart')).length\r\n        }\r\n    }\r\n    return 0\r\n}\r\nexport const getCart = () => {\r\n    if(typeof window != 'undefined') {\r\n        if(localStorage.getItem('cart')) {\r\n            return JSON.parse(localStorage.getItem('cart'))\r\n        }\r\n    }\r\n    return []\r\n}\r\n\r\nexport const updateItem = (productId, count) => {\r\n    let cart = []\r\n    if(typeof window != 'undefined') {\r\n        if(localStorage.getItem('cart')) {\r\n            cart = JSON.parse(localStorage.getItem('cart'))\r\n        }\r\n\r\n        cart.map((product, i) => {\r\n            if(product._id === productId) {\r\n                cart[i].count = count\r\n            }\r\n        })\r\n\r\n        localStorage.setItem('cart', JSON.stringify(cart))\r\n    }\r\n}\r\n\r\nexport const removeItem = (productId) => {\r\n    let cart = []\r\n    if(typeof window != 'undefined') {\r\n        if(localStorage.getItem('cart')) {\r\n            cart = JSON.parse(localStorage.getItem('cart'))\r\n        }\r\n\r\n        cart.map((product, i) => {\r\n            if(product._id === productId) {\r\n                cart.splice(i, 1)\r\n            }\r\n        })\r\n\r\n        localStorage.setItem('cart', JSON.stringify(cart))\r\n    }\r\n    return cart\r\n}\r\n\r\nexport const emptyCart = (next) => {\r\n    if(typeof window !== 'undefined'){\r\n        localStorage.removeItem('cart')\r\n        next()\r\n    }\r\n}","import React, { Fragment } from \"react\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\nimport { signout, isAuthenticated } from \"../auth\";\r\nimport logo from \"../assets/logo.png\"\r\nimport { itemTotal } from \"./CartHelpers\";\r\n\r\nconst isActive = (history, path) => {\r\n    if (history.location.pathname === path) {\r\n        return { color: \"#3b71ca\", backgroundColor: \"#fff\" }\r\n    } else {\r\n        return { color: \"#fff\", backgroundColor: \"transparent\" }\r\n    }\r\n}\r\n\r\nconst Menu = ({ history }) => (\r\n    <div>\r\n        <ul className=\"nav nav-tabs bg-primary\" >\r\n            <Link to=\"/\">\r\n                <img className=\"logo\"src={logo} alt=\"Logo\" />\r\n            </Link> \r\n            <li className=\"nav-item\">\r\n                <Link className=\"nav-link\" to=\"/\" style={isActive(history, '/')}>Home</Link>\r\n            </li>\r\n            <li className=\"nav-item\">\r\n                <Link className=\"nav-link\" to=\"/shop\" style={isActive(history, '/shop')}>Shop</Link>\r\n            </li>\r\n            {isAuthenticated() && isAuthenticated().user.role === 0 && (\r\n                <li className=\"nav-item \"  style={{display: \"flex\"}}>\r\n                    <Link className=\"nav-link \"  to=\"/user/dashboard\" style={isActive(history, '/user/dashboard')}>Dashboard</Link>\r\n                </li>\r\n            )}\r\n            {isAuthenticated() && isAuthenticated().user.role === 1 && (\r\n                <li className=\"nav-item\">\r\n                    <Link className=\"nav-link\" to=\"/admin/dashboard\" style={isActive(history, '/admin/dashboard')}>Dashboard</Link>\r\n                </li>\r\n            )}\r\n            {!isAuthenticated() && (\r\n                <Fragment>\r\n                    <li className=\"nav-item\">\r\n                        <Link className=\"nav-link\" to=\"/signin\" style={isActive(history, '/signin')}>Sign In</Link>\r\n                    </li>\r\n                    <li className=\"nav-item\">\r\n                        <Link className=\"nav-link\" to=\"/signup\" style={isActive(history, '/signup')}>Sign Up</Link>\r\n                    </li>\r\n                </Fragment>\r\n            )}\r\n            {isAuthenticated() && (\r\n                <Fragment>\r\n                    <li className=\"nav-item\">\r\n                        <span className=\"nav-link\" onClick={() => signout(() => {\r\n                            history.push('/')\r\n                        })} style={{ cursor: 'pointer', color: '#fff' }}>Sign Out</span>\r\n                    </li>\r\n                </Fragment>\r\n            )}\r\n            {isAuthenticated() && <li className=\"nav-item ml-auto mb-0\">\r\n                <Link className=\"nav-link d-flex pb-0\" to=\"/cart\" style={isActive(history, '/cart')}>\r\n                <i className=\"material-symbols-outlined m-0 pb-0\" >shopping_cart</i>\r\n                <sup className=\"cartNumber\">\r\n                    <small className=\"cart-badge \">{itemTotal()}</small>\r\n                </sup>\r\n                </Link>\r\n            </li>}\r\n        </ul>\r\n    </div>\r\n)\r\n\r\nexport default withRouter(Menu)","import React from \"react\";\r\nimport Menu from \"./Menu\";\r\nimport \"../styles.css\"\r\n\r\nconst Layout = ({ title = \"Title\", description = \"\", children, className, textStyle, layoutStyle }) => (\r\n    <div>\r\n    <Menu></Menu>\r\n        <div className=\"jumbotron d-flex justify-content-start flex-column\" style={layoutStyle}>\r\n            <h2 className=\"\" style={textStyle}>{title}</h2>\r\n            <p className=\"lead\">{description}</p>\r\n        </div>\r\n        <div className={className}>\r\n            {children}\r\n        </div>\r\n    </div>\r\n)\r\n\r\nexport default Layout","import React, { useState } from \"react\";\r\nimport { Link } from \"react-router-dom\"\r\nimport Layout from \"../core/Layout\";\r\nimport {signup} from \"../auth/index\"\r\n\r\nconst SignUp = () => {\r\n    const [values, setValues] = useState({\r\n        name: '',\r\n        email: '',\r\n        password: '',\r\n        error: '',\r\n        success: false\r\n    })\r\n\r\n    const { name, email, password, success, error } = values\r\n\r\n    const handleChange = name => event => {\r\n        setValues({ ...values, error: false, [name]: event.target.value })\r\n    }\r\n\r\n    const clickSubmit = (event) => {\r\n        event.preventDefault() //o browser não relouda\r\n        setValues({ ...values, error: false })\r\n        signup({ name: name, email: email, password: password })\r\n            .then(data => {\r\n                if (data.error) {\r\n                    setValues({ ...values, error: data.error, success: false })\r\n                } else {\r\n                    setValues({\r\n                        ...values,\r\n                        name: '',\r\n                        email: '',\r\n                        password: '',\r\n                        error: '',\r\n                        success: true\r\n                    })\r\n                }\r\n            })\r\n    }\r\n\r\n    const signUpForm = () => (\r\n        <form>\r\n            <div className=\"mb-4\">Already have an account? <Link to=\"/signIn\">Sign In</Link></div>\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Name</label>\r\n                <input onChange={handleChange('name')} type=\"text\" className=\"form-control\" value={name} />\r\n            </div>\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Email</label>\r\n                <input onChange={handleChange('email')} type=\"email\" className=\"form-control\" value={email} />\r\n            </div>\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Password</label>\r\n                <input onChange={handleChange('password')} type=\"password\" className=\"form-control\" value={password} />\r\n            </div>\r\n            <button className=\"btn btn-primary\" onClick={clickSubmit} disabled={!name || !email || !password}>Submit</button>\r\n        </form>\r\n    )\r\n\r\n    const showError = () => (\r\n        <div className=\"alert alert-danger\" style={{ display: error ? '' : 'none' }}>{error}</div>\r\n    )\r\n    const showSuccess = () => (\r\n        <div className=\"alert alert-info\" style={{ display: success ? '' : 'none' }}>New account has been created. Please <Link to=\"/signin\">signin</Link></div>\r\n    )\r\n    return (\r\n        // {showSuccess()}\r\n        // {showError()}\r\n        <Layout\r\n            title=\"SignUp\"\r\n            description=\"SignUp to Node React e-commerce App\"\r\n            className=\"container col-md-8 offset-md-2\"\r\n            layoutStyle={{padding: \"35px\"}}\r\n        >\r\n            {showSuccess()}\r\n            {showError()}\r\n            {signUpForm()}\r\n        </Layout>\r\n    )\r\n}\r\n\r\nexport default SignUp","import React, { useState } from \"react\";\r\nimport { Redirect } from \"react-router-dom\"\r\nimport Layout from \"../core/Layout\";\r\nimport { signin, authenticate, isAuthenticated } from \"../auth/index\"\r\nimport { Link } from \"react-router-dom/cjs/react-router-dom.min\";\r\n\r\nconst SignIn = () => {\r\n    const [values, setValues] = useState({\r\n        email: 'joao@gmail.com',\r\n        password: 'jotajota27',\r\n        error: '',\r\n        loading: false,\r\n        redirectToReferrer: false\r\n    })\r\n\r\n    const { email, password, loading, error, redirectToReferrer } = values\r\n    const { user } = isAuthenticated()\r\n\r\n    const handleChange = name => event => {\r\n        setValues({ ...values, error: false, [name]: event.target.value })\r\n    }\r\n\r\n    const clickSubmit = event => {\r\n        event.preventDefault() //o browser não relouda\r\n        setValues({ ...values, error: false, loading: true })\r\n        signin({ email: email, password: password })\r\n            .then(data => {\r\n                if (data.error) {\r\n                    setValues({ ...values, error: data.error, loading: false })\r\n                } else {\r\n                    authenticate(\r\n                        data, () => {\r\n                            setValues({\r\n                                ...values,\r\n                                redirectToReferrer: true\r\n                            })\r\n                        }\r\n                    )\r\n                }\r\n            })\r\n    }\r\n\r\n    const signInForm = () => (\r\n        <form>\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Email</label>\r\n                <input onChange={handleChange('email')} type=\"email\" className=\"form-control\" value={email} />\r\n            </div>\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Password</label>\r\n                <input onChange={handleChange('password')} type=\"password\" className=\"form-control\" value={password} />\r\n            </div>\r\n            <button className=\"btn btn-primary\" onClick={clickSubmit}>Submit</button>\r\n        </form>\r\n    )\r\n\r\n    const showError = () => (\r\n        <div className=\"alert alert-danger\" style={{ display: error ? '' : 'none' }}>{error}</div>\r\n    )\r\n    const showLoading = () => (\r\n        loading && (<div className=\"alert alert-info\"><h2>Loading...</h2></div>)\r\n    )\r\n\r\n    const redirectUser = () => {\r\n        if (redirectToReferrer) {\r\n            if (user && user.role === 1) {\r\n                return <Redirect to=\"/admin/dashboard\" />\r\n            } else {\r\n                return <Redirect to=\"/user/dashboard\" />\r\n            }\r\n        }\r\n        if (isAuthenticated()) {\r\n            return <Redirect to=\"/\" />\r\n\r\n        }\r\n    }\r\n    return (\r\n        // {showSuccess()}\r\n        // {showError()}\r\n        <Layout\r\n            title=\"SignIn\"\r\n            description=\"SignIn to Node React e-commerce App\"\r\n            className=\"container col-md-8 offset-md-2\"\r\n            layoutStyle={{padding: \"35px\"}}\r\n        >\r\n            <div className=\"mb-4\">Don't have an account? <Link to=\"/signUp\">Sign Up</Link> for free!</div>\r\n            {showLoading()}\r\n            {showError()}\r\n            {signInForm()}\r\n            {redirectUser()}\r\n        </Layout>\r\n    )\r\n}\r\n\r\nexport default SignIn","import {API} from '../config'\r\nimport queryString from \"query-string\"\r\n\r\nexport const getProducts = (sortBy) => {\r\n    return fetch(`${API}/products?sortBy=${sortBy}&order=desc&limit=6`, {\r\n        method: 'GET',\r\n    })\r\n        .then(response => {\r\n            return response.json()\r\n        })\r\n        .catch(err => console.log(err))\r\n}\r\n\r\nexport const getCategories = () => {\r\n    return fetch(`${API}/categories`, {\r\n        method: 'GET'\r\n    })\r\n    .then(response => {\r\n        return response.json()\r\n    })\r\n    .catch(err => console.log(err))\r\n}\r\n\r\nexport const getFilteredProducts = (skip, limit, filters = {}) => {\r\n    const data = {\r\n        limit, skip, filters\r\n    }\r\n    return fetch(`${API}/products/by/search`, {\r\n        method: \"POST\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify(data),\r\n    })\r\n        .then(async (response) => {\r\n            if (!response.ok) {\r\n                const errorMessage = await response.text(); // Read raw text for non-JSON errors\r\n                throw new Error(errorMessage || \"An error occurred\");\r\n            }\r\n            return response.json(); // Parse JSON on success\r\n        })\r\n        .catch((err) => {\r\n            console.error(\"Error creating category:\", err.message);\r\n            return { error: err.message }; // Pass the error message to the caller\r\n        }) \r\n}\r\n\r\nexport const list = params => {\r\n    const query = queryString.stringify(params)\r\n    return fetch(`${API}/products/search?${query}`, {\r\n        method: 'GET',\r\n    })\r\n        .then(response => {\r\n            return response.json()\r\n        })\r\n        .catch(err => console.log(err))\r\n}\r\n\r\nexport const read = (productId) => {\r\n    return fetch(`${API}/product/${productId}`, {\r\n        method: 'GET'\r\n    })\r\n    .then(response => {\r\n        return response.json()\r\n    })\r\n    .catch(err => console.log(err))\r\n}\r\n\r\nexport const listRelated = (productId) => {\r\n    return fetch(`${API}/products/related/${productId}`, {\r\n        method: 'GET'\r\n    })\r\n    .then(response => {\r\n        return response.json()\r\n    })\r\n    .catch(err => console.log(err))\r\n}\r\n\r\nexport const getBraintreeClientToken = (userId, token) => {\r\n    return fetch(`${API}/braintree/getToken/${userId}`, {\r\n        method: 'GET',\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: `Bearer ${token}`\r\n        },\r\n    })\r\n    .then(response => {\r\n        return response.json()\r\n    })\r\n    .catch(err => console.log(err))\r\n}\r\n\r\nexport const processPayment = (userId, token, paymentData) => {\r\n    return fetch(`${API}/braintree/payment/${userId}`, {\r\n        method: 'POST',\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify(paymentData) //paymentData= payment method and total amount\r\n    })\r\n    .then(response => {\r\n        return response.json()\r\n    })\r\n    .catch(err => console.log(err))\r\n}\r\n\r\nexport const createOrder = (userId, token, createOrderData) => {\r\n    return fetch(`${API}/order/create/${userId}`, {\r\n        method: 'POST',\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify({order: createOrderData}) //orderData = product name, product quantity, etc\r\n    })\r\n    .then(response => {\r\n        return response.json()\r\n    })\r\n    .catch(err => console.log(err))\r\n}","import React from \"react\";\r\nimport {API} from \"../config\"\r\n\r\nconst ShowImage = ({item, url, style}) => {\r\n    return(\r\n    <div className=\"product-img\" >\r\n        <img src={`${API}/${url}/photo/${item._id}`} alt={item.name} className=\"\" style={style}/>\r\n    </div>\r\n\r\n    )\r\n}\r\n\r\nexport default ShowImage","import React, { useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport ShowImage from \"../core/ShowImage\"\r\nimport { addItem, updateItem, removeItem } from \"./CartHelpers.js\";\r\nimport { Redirect } from \"react-router-dom/cjs/react-router-dom.min.js\";\r\n\r\nconst Card = ({ product,\r\n    showAddCartButton = true,\r\n    imageStyle,\r\n    showViewProductButton = true,\r\n    cartUpdate = false,\r\n    showRemoveProductButton = false,\r\n    viewProductButtonSize = {\r\n        paddingLeft: \"75px\",\r\n        paddingRight: \"75px\",\r\n        paddingTop: \"5px\",\r\n        paddingBottom: \"5px\",\r\n        borderRadius: \"15px\",\r\n    },\r\n    setRun = f => f,\r\n    run = undefined }) => {\r\n    const [redirect, setRedirect] = useState(false)\r\n    const [count, setCount] = useState(product.count)\r\n    const [isHovered, setIsHovered] = useState(false)\r\n\r\n    // const showViewButton = (showViewProductButton) => {\r\n    //     return (\r\n    //         showViewProductButton && ( //só faz o que está dentro dos parentizes se showViewProductButton for true\r\n    //             <Link to={`/product/${product._id}`}>\r\n    //                 <button className=\"btn btn-outline-primary mt-2 mb-2\" >View Product</button>\r\n    //             </Link>\r\n    //         )\r\n    //     )\r\n    // }\r\n\r\n    const addToCart = () => {\r\n        addItem(product, () => {\r\n            setRedirect(true)\r\n        })\r\n    }\r\n\r\n    const shouldRedirect = (redirect) => {\r\n        if (redirect) {\r\n            return <Redirect to=\"/cart\" />\r\n\r\n        }\r\n    }\r\n\r\n    const showAddToCartButton = (showAddCartButton) => {\r\n        if(isHovered && showAddCartButton) {\r\n            return (\r\n            <button onClick={addToCart} className=\"btn btn-primary mb-1 mt-1 material-symbols-outlined mr-1\"\r\n            style={viewProductButtonSize}>add_shopping_cart</button>\r\n        )}\r\n    }\r\n    \r\n    \r\n    const showRemoveButton = (showRemoveProductButton) => {\r\n        return (showRemoveProductButton && (\r\n            <button onClick={() => {\r\n                removeItem(product._id);\r\n                setRun(!run); // run useEffect in parent Cart\r\n            }} className=\"btn btn-danger mt-2 mb-2 ml-1 material-symbols-outlined pl-1 pr-1\" >delete</button>\r\n        ))\r\n    }\r\n\r\n    const handleChange = productId => event => {\r\n        setRun(!run); // run useEffect in parent Cart\r\n        setCount(event.target.value < 1 ? 1 : event.target.value);\r\n        if (event.target.value >= 1) {\r\n            updateItem(productId, event.target.value);\r\n        }\r\n    }\r\n\r\n    const addCount = () => {\r\n        setCount(count + 1); // Increment the count\r\n        updateItem(product._id, count + 1); // Update the item in the car\r\n    }\r\n    const removeCount = () => {\r\n        if (count > 1) {\r\n            setCount(count - 1); // Decrement the count\r\n            updateItem(product._id, count - 1); // Update the item in the cart\r\n        }\r\n    }\r\n\r\n    const showCartUpdateOptions = (cartUpdate) => {\r\n        return cartUpdate && <div>\r\n            <div className=\"input-group mb-1 mt-1\">\r\n                <button className=\"bg-danger mr-1 form-control simbolsCart\" onClick={() => {\r\n                    setRun(!run); // run useEffect in parent Cart\r\n                    addCount()\r\n                }}>+</button>\r\n                <input className=\"form-control cardNumber\" style={{ height: \"45px\", width: \"50px\", borderRadius: \"50%\", textAlign: \"center\", fontSize: \"0.9em\" }} value={count} onChange={handleChange(product._id)} />\r\n                <button className=\"bg-primary ml-1 form-control simbolsCart\" onClick={() => {\r\n                    setRun(!run); // run useEffect in parent Cart\r\n                    removeCount()\r\n                }}>-</button>\r\n            </div>\r\n        </div>\r\n    }\r\n\r\n\r\n    return (\r\n        showViewProductButton && (\r\n            <Link to={`/product/${product._id}`} style={{ textDecoration: \"none\", color: \"inherit\" }}>\r\n                <div className=\"card cartao\"\r\n                    onMouseEnter={() => setIsHovered(true)}\r\n                    onMouseLeave={() => setIsHovered(false)}>\r\n                    <div className=\"card-header p-2\" style={{\r\n                        textAlign: \"center\",\r\n                        whiteSpace: \"nowrap\", // Garante que o texto não quebra em várias linhas\r\n                        overflow: \"hidden\",   // Impede o overflow\r\n                    }}>{product.name}</div>\r\n                    <div className=\"card-body pb-0 p-1\">\r\n                        {shouldRedirect(redirect)}\r\n                        <ShowImage item={product} url=\"product\" style={imageStyle} />\r\n\r\n                        {/* <p className=\"lead m\">{product.description.substring(0, 35)}</p> */}\r\n                        <p className=\"mt-2 mb-0 ml-1\" style={{ fontWeight: \"bold\", fontSize: \"1.2rem\" }}>{product.price}€</p>\r\n                        <div className=\"row\" style={{ display: \"flex\", justifyContent: \"center\" }}>\r\n                            {showAddToCartButton(showAddCartButton)}\r\n                            {showCartUpdateOptions(cartUpdate)}\r\n                            {/* {showViewButton(showViewProductButton)} */}\r\n                            {showRemoveButton(showRemoveProductButton)}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                {!isHovered && (\r\n                    <div style={{marginBottom: \"50px\"}}></div>\r\n                )}\r\n            </Link>)\r\n    )\r\n}\r\n\r\nexport default Card","import React, { useState, useEffect } from \"react\";\r\nimport Layout from \"./Layout\";\r\nimport { getProducts } from \"./apiCore\";\r\nimport Card from \"./Card\";\r\nconst Home = () => {\r\n\r\n    const [productsBySell, setProductsBySell] = useState([])\r\n    const [productsByArrival, setProductsByArrival] = useState([])\r\n    const [error, setError] = useState(false)\r\n    const [product, setProduct] = useState([])\r\n\r\n    const loadProductsBySell = () => {\r\n        getProducts('sold').then(data => {\r\n            if (data.error) {\r\n                setError(data.error)\r\n            } else {\r\n                setProductsBySell(data)\r\n            }\r\n        })\r\n    }\r\n\r\n    const loadProductsByArrival = () => {\r\n        getProducts('createdAt').then(data => {\r\n            if (data.error) {\r\n                setError(data.error)\r\n            } else {\r\n                setProductsByArrival(data)\r\n            }\r\n        })\r\n    }\r\n\r\n    const loadAllProducts = () => {\r\n        getProducts() // Ensure this API fetches all products without filters\r\n            .then(data => {\r\n                if (data.error) {\r\n                    setError(data.error)\r\n                } else {\r\n                    setProduct(data)\r\n                }\r\n            })\r\n    }\r\n\r\n    useEffect(() => {\r\n        loadProductsByArrival()\r\n        loadProductsBySell()\r\n        loadAllProducts()\r\n    }, [])\r\n\r\n\r\n    return (\r\n        <Layout title=\"Home Page\" description=\"Node React e-commerce App\" className=\"container-fluid\" layoutStyle={{padding: \"35px\"}}>\r\n            <h2 className=\"mb-4\">New Arrivals</h2>\r\n            <div className=\"row\">\r\n                {productsByArrival.map((product, i) => (\r\n                    <div className=\"col-2 mb-3\" key={i}><Card product={product} imageStyle={{ height: '250px', width: '100%' }} showAddCartButton={product.quantity === 0 ? false : true} /></div>\r\n                ))}\r\n            </div>\r\n            <h2 className=\"mb-4 mt-4\">Best Sellers</h2>\r\n            <div className=\"row\">\r\n                {productsBySell.map((product, i) => (\r\n                    <div className=\"col-2 mb-3\" key={i}><Card product={product} imageStyle={{ height: '250px', width: '100%' }} showAddCartButton={product.quantity === 0 ? false : true} /></div>\r\n                ))}\r\n            </div>\r\n        </Layout>\r\n    )\r\n}\r\n\r\nexport default Home","import React, { useState} from \"react\";\r\n\r\nconst Checkbox = ({categories, handleFilters}) => {\r\n    const [checked, setChecked] = useState([])\r\n\r\n    const handleToggle = c => () => {\r\n        const currentCategoryId = checked.indexOf(c) /*recebemos uma category quando houve ro evento onchange, \r\n        depois procura-se no array \"cheked\" por uma category com esse nome,\r\n         se se encontrar, retoma o index desta, se não, retoma -1*/\r\n        const newCheckedCategoryId = [...checked] //todas as categorias checadas\r\n        //se a que foi clicada ainda não estava checada, adiciona, se já estava, tira\r\n        if(currentCategoryId === -1) { //se não tiver checada\r\n            newCheckedCategoryId.push(c)\r\n        } else {\r\n            newCheckedCategoryId.splice(currentCategoryId, 1)\r\n        }\r\n        // console.log(newCheckedCategoryId)\r\n        setChecked(newCheckedCategoryId)\r\n        handleFilters(newCheckedCategoryId  )\r\n    }   \r\n\r\n    return (\r\n        categories.map((c, i) => (\r\n            <li key={i} className=\"list-unstyled\">\r\n                <input onChange={handleToggle(c._id)} type=\"checkbox\" className=\"form-check-input\" checked={checked.includes(c._id)}/>\r\n                <label className=\"form-check-label\">{c.name}</label>\r\n            </li>\r\n        ))\r\n    )\r\n}\r\nexport default Checkbox","import React, {useState} from \"react\";\r\n\r\nconst RadioBox = ({prices, handleFilters}) => {\r\n    const [value, setValue] = useState(0)\r\n\r\n    const handleChange = (event) => {\r\n        handleFilters(event.target.value)\r\n        setValue(event.target.value)\r\n    }\r\n\r\n    return (\r\n        prices.map((p, i) => (\r\n            <div key={i}>\r\n                <input onChange={handleChange} type=\"radio\" className=\"mr-2 ml-4\" value={`${p._id}`} name=\"p\"/>\r\n                <label className=\"form-check-label\">{p.name}</label>\r\n            </div>\r\n        ))\r\n    )\r\n}\r\n\r\nexport default RadioBox","export const prices = [\r\n    {\r\n        _id: 0,\r\n        name: \"Any\",\r\n        array: []\r\n    },\r\n    {\r\n        _id: 1,\r\n        name: \"0€ to 9€\",\r\n        array: [0, 9]\r\n    },\r\n    {\r\n        _id: 2,\r\n        name: \"10€ to 19\",\r\n        array: [10, 19]\r\n    },\r\n    {\r\n        _id: 3,\r\n        name: \"20€ to 29€\",\r\n        array: [20, 29]\r\n    },\r\n    {\r\n        _id: 4,\r\n        name: \"30€ to 39€\",\r\n        array: [30, 39]\r\n    },\r\n    {\r\n        _id: 5,\r\n        name: \"More than 40€\",\r\n        array: [40, 99]\r\n    },\r\n\r\n] ","import React, { useState } from \"react\"\r\nimport { list } from \"./apiCore\"\r\n\r\nconst Search = ({ setFilteredResults, setSearchQuery  }) => {\r\n    const [data, setData] = useState({\r\n        search: \"\",\r\n        category: \"\",\r\n    })\r\n    const { search, category } = data\r\n\r\n    const searchData = () => {\r\n            list({ search: search || undefined, category: category || undefined }).then(response => {\r\n                if (response.error) {\r\n                    console.log(response.error)\r\n                } else {\r\n                    setFilteredResults(response) // Update filtered results in Shop\r\n                    // console.log(response.length)\r\n                }\r\n            })\r\n    }\r\n    \r\n    const searchSubmit = (e) => {\r\n        e.preventDefault()\r\n        searchData()\r\n    }\r\n    \r\n\r\n    const handleChange = name => event => {\r\n        setData({ ...data, [name]: event.target.value })\r\n        if (name === \"search\") {\r\n            setSearchQuery(event.target.value)  // Atualiza o termo de pesquisa\r\n        }\r\n    }\r\n\r\n    const searchForm = () => (\r\n        <form onSubmit={searchSubmit}>\r\n            <span className=\"input-group-text mb-3 pr-0\">\r\n                <div className=\"input-group input-group-sm\">\r\n                    <input\r\n                        type=\"search\"\r\n                        className=\"form-control pr-0\"\r\n                        onChange={handleChange(\"search\")}\r\n                        placeholder=\"Search by name\"\r\n                    />\r\n                </div>\r\n                <div className=\"btn input-group-append\" style={{ border: \"none\" }}>\r\n                    <button className=\"input-group-text material-symbols-outlined p-1\" style={{ fontSize: \"1.3em\" }}>\r\n                        search\r\n                    </button>\r\n                </div>\r\n            </span>\r\n        </form>\r\n    )\r\n    \r\n\r\n    return (\r\n        <div className=\"row\">\r\n            <div className=\"container mb-3\">\r\n                {searchForm()}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Search\r\n","import React, { useState, useEffect } from \"react\"\r\nimport Layout from \"./Layout\"\r\nimport { getCategories, getFilteredProducts } from \"./apiCore\"\r\nimport Checkbox from \"./Checkbox\"\r\nimport Card from \"./Card\"\r\nimport RadioBox from \"./RadioBox\"\r\nimport { prices } from \"./fixedPrices\"\r\nimport Search from \"./Search\"\r\n\r\nconst Shop = () => {\r\n    const [myFilters, setMyFilters] = useState({\r\n        filters: { category: [], price: [] }\r\n    });\r\n    const [categories, setCategories] = useState([])\r\n    const [error, setError] = useState(false)\r\n    const [skip, setSkip] = useState(0)\r\n    const [size, setSize] = useState(0)\r\n    const [filteredResults, setFilteredResults] = useState([])\r\n    const [productMessage, setProductMessage] = useState(\"\")\r\n    const [searchQuery, setSearchQuery] = useState(\"\")\r\n    const limit = 6\r\n\r\n    const init = () => {\r\n    getCategories().then(data => {\r\n        if (data.error) {\r\n            setError(data.error);\r\n        } else {\r\n            setCategories(data);\r\n        }\r\n    });\r\n\r\n    // Buscar o número total de produtos logo ao carregar a página\r\n    getFilteredProducts(0, 1000, {}).then(data => {\r\n        if (data.error) {\r\n            setError(data.error);\r\n        } else {\r\n            setSize(data.size); // Atualiza o total de produtos disponíveis\r\n        }\r\n    });\r\n};\r\n    \r\n\r\n    const loadFilterResults = (newFilters) => {\r\n        getFilteredProducts(skip, limit, newFilters).then(data => {\r\n            if (data.error) {\r\n                setError(data.error)\r\n            } else {\r\n                setFilteredResults(data.data);\r\n                setSize(data.size)\r\n                setSkip(0)\r\n            }\r\n        })\r\n    }\r\n\r\n    const loadMore = () => {\r\n        let toSkip = skip + limit;\r\n        getFilteredProducts(toSkip, limit, { ...myFilters.filters }).then(data => {\r\n            if (data.error) {\r\n                setError(data.error)\r\n            } else {\r\n                setFilteredResults(prevResults => [...prevResults, ...data.data])\r\n                setSkip(toSkip)\r\n            }\r\n        })\r\n    }\r\n    const loadMoreButton = () => {\r\n            if( filteredResults.length >= limit && size > 0 && filteredResults.length < size) {\r\n                return (\r\n                        <div className=\"d-flex justify-content-center\">\r\n                            <button onClick={loadMore} className=\"btn btn-secondary mb-5\">Load More</button>\r\n                        </div>\r\n                    )\r\n    \r\n            } \r\n    }\r\n\r\n    useEffect(() => {\r\n        init()\r\n        loadFilterResults(myFilters.filters)\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        showMessage(filteredResults.length, myFilters.filters);\r\n    }, [filteredResults]);\r\n    \r\n\r\n    const handleFilters = (filters, filterBy) => {\r\n        const newFilters = { ...myFilters }\r\n        newFilters.filters[filterBy] = filters\r\n\r\n        if (filterBy === \"price\") {\r\n            let priceValues = handlePrice(filters)\r\n            newFilters.filters[filterBy] = priceValues\r\n        }\r\n        setMyFilters(newFilters)\r\n        setFilteredResults([]) // Limpa os produtos antes de buscar os novos\r\n        setSkip(0)\r\n        loadFilterResults(newFilters.filters)\r\n    }\r\n\r\n    const handlePrice = value => {\r\n        const data = prices\r\n        let array = []\r\n        for (let key in data) {\r\n            if (data[key]._id === parseInt(value)) {\r\n                array = data[key].array\r\n            }\r\n        }\r\n        return array\r\n    }\r\n\r\n\r\n    const showMessage = (productsLength, filters) => {\r\n        getFilteredProducts(0, 1000, filters).then(data => {\r\n            if (data.error) {\r\n                setError(data.error);\r\n            } else {\r\n                setSize(data.size);\r\n                if (productsLength === 0) {\r\n                    setProductMessage(`No products found ${searchQuery ? `for \"${searchQuery}\"` : \"\"}`);\r\n                } else {\r\n                    setProductMessage(`Showing ${productsLength} of ${data.size} products${searchQuery ? ` for \"${searchQuery}\"` : \"\"}`);\r\n                }\r\n            }\r\n        })\r\n    }\r\n    \r\n    \r\n    return (\r\n        <Layout title=\"Shop Page\" description=\"Find books of your beautiful choices\" className=\"container-fluid\" layoutStyle={{padding: \"35px\"}}>\r\n            <div className=\"row\">\r\n                <div className=\"col-2\">\r\n                    <Search setFilteredResults={setFilteredResults} setSearchQuery={setSearchQuery}/>\r\n                    <h5>Filter by categories</h5>\r\n                    <ul>\r\n                        <Checkbox categories={categories} handleFilters={filters => handleFilters(filters, 'category')} />\r\n                    </ul>\r\n                    <h5>Filter by price range</h5>\r\n                    <div>\r\n                        <RadioBox prices={prices} handleFilters={filters => handleFilters(filters, 'price')} />\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"col-10\">\r\n                    <h2 className=\"mb-3\">Products</h2>\r\n                    {/* {filteredResults.length > 0 ? (\r\n                        <h5 className=\"text-muted mb-4\">Showing {filteredResults.length} products</h5>\r\n                    ) : (\r\n                        <h5 className=\"text-muted mb-4\">No products found</h5>\r\n                    )} */}\r\n                    <p style={{fontSize:\"1.1em\"}} className=\"mb-4\">{productMessage}</p>\r\n                    <div className=\"row\">\r\n                        {filteredResults.map((product, i) => (\r\n                            <div className=\"col-2 mb-3\" key={i}><Card product={product} \r\n                            imageStyle={{height: '200px', width: '100%' }} \r\n                            showAddCartButton={product.quantity === 0 ? false : true}\r\n                            viewProductButtonSize = {{                                \r\n                                paddingLeft: \"55px\",\r\n                                paddingRight: \"55px\",\r\n                                paddingTop: \"3px\",\r\n                                paddingBottom: \"3px\",\r\n                                borderRadius: \"15px\",\r\n                            }}\r\n                            />\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n                    <hr />\r\n                    {loadMoreButton()}\r\n                </div>\r\n            </div>\r\n        </Layout>\r\n    );\r\n};\r\n\r\nexport default Shop\r\n","import React, {useState} from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport ShowImage from \"../core/ShowImage\"\r\nimport moment from \"moment\"\r\nimport { Fragment } from \"react\";\r\nimport { addItem } from \"./CartHelpers\";\r\nimport { Redirect } from \"react-router-dom/cjs/react-router-dom.min.js\";\r\n\r\n\r\nconst Card = ({ product, imageStyle, showViewProductButton = true, stock = true }) => {\r\n    const [redirect, setRedirect] = useState(false)\r\n\r\n    const showViewButton = (showViewProductButton) => {\r\n        return (\r\n            showViewProductButton && ( //só faz o que está dentro dos parentizes se showViewProductButton for true\r\n                <button className=\"btn btn-outline-primary mt-2 mb-2\">View Product</button>\r\n            )\r\n        )\r\n    }\r\n\r\n    const addToCart = () => {\r\n            addItem(product, () => {\r\n                setRedirect(true)\r\n            })\r\n        }\r\n    \r\n        const shouldRedirect = (redirect) => {\r\n            if(redirect) {\r\n                return <Redirect to=\"/cart\"/>\r\n    \r\n            }\r\n        }\r\n        \r\n\r\n    const showAddToCartButton = () => {\r\n        if (product.quantity === 0) {\r\n            return (\r\n                <button onClick={addToCart} className=\"btn d-flex align-items-center gap-2 rounded-pill bg-secondary\" disabled style={{ color: \"white\", padding: \"10px 240px 10px 240px\" }}>\r\n                    <span className=\"material-symbols-outlined \">shopping_cart_off</span>\r\n                    <p className=\"m-0 ml-2\" style={{ fontWeight: \"bold\" }}>ADD TO CART</p>\r\n                </button>\r\n            )\r\n            \r\n        } else {\r\n            return (\r\n                <button onClick={addToCart} className=\"btn d-flex align-items-center gap-2 rounded-pill bg-primary\" style={{ color: \"white\", padding: \"10px 240px 10px 240px\" }}>\r\n                    <span className=\"material-symbols-outlined \">add_shopping_cart</span>\r\n                    <p className=\"m-0 ml-2\" style={{ fontWeight: \"bold\" }}>ADD TO CART</p>\r\n                </button>\r\n            )\r\n\r\n        }\r\n\r\n    }\r\n\r\n    const showStok = (quantity) => {\r\n        return (\r\n            quantity > 0 ? <span className=\"\" style={{ color: \"green\" }}>In Stock</span > : <span style={{ color: \"red\" }}>Out of Stock</span>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <Fragment>\r\n            <div className=\"p-3 col-6\" >\r\n\r\n                <div className=\" card card-body\" style={{ justifyContent: \"center\", alignItems: \"center\" }}>\r\n                {shouldRedirect(redirect)}\r\n\r\n                    <ShowImage item={product} url=\"product\" style={imageStyle} />\r\n                </div>\r\n\r\n\r\n            </div>\r\n            <div className=\"col-6 pt-3\">\r\n                <div className=\"card p-3 d-inline-block w-100 shadow\">\r\n                    <p className=\"mb-0\" style={{ fontWeight: \"bold\", fontSize: \"2.3rem\" }}>{product.price}€</p>\r\n                    \r\n                    <p className=\"lead\">{product.description}</p>\r\n                    <p className=\"pt-1\">Category: {product.category && product.category.name}</p>\r\n                    <div className=\"row\" style={{ display: \"flex\", justifyContent: \"center\" }}>\r\n                        {showAddToCartButton()}\r\n                        <Link to={`/product/${product._id}`}>\r\n                            {showViewButton(showViewProductButton)}\r\n                        </Link>\r\n                    </div>\r\n                    <p className=\"mt-3\">Added {moment(product.createdAt).fromNow()}</p>\r\n                    {showStok(product.quantity)}\r\n                </div>\r\n            </div>\r\n\r\n        </Fragment>\r\n    )\r\n}\r\n\r\nexport default Card","import React, { useState, useEffect } from \"react\"\r\nimport Layout from \"./Layout\"\r\nimport { read, listRelated } from \"./apiCore\"\r\nimport SingleProductCard from \"./SingleProductCard\"\r\nimport Card from \"./Card\"\r\n\r\nconst Product = (props) => {\r\n    const [product, setProduct] = useState({})\r\n    const [relatedProducts, setRelatedProducts] = useState([])\r\n    const [error, setError] = useState(false)\r\n\r\n    const loadSingleProduct = (productId) => {\r\n        read(productId).then(data => {\r\n            if (data.error) {\r\n                setError(data.error)\r\n            } else {\r\n                setProduct(data)\r\n                //fetch related products\r\n\r\n                listRelated(data._id).then(data => {\r\n                    if (data.error) {\r\n                        setError(data.error)\r\n                    } else {\r\n                        setRelatedProducts(data)\r\n                    }\r\n                })\r\n            }\r\n        })\r\n    }\r\n\r\n    \r\n    useEffect(() => {\r\n        const productId = props.match.params.productId\r\n        loadSingleProduct(productId)\r\n        window.scrollTo({\r\n            top: 0,\r\n            left: 0,\r\n            behavior: \"smooth\" // Optional: smooth scrolling\r\n        })\r\n    }, [props])\r\n\r\n    \r\n    return (\r\n        <Layout title={product.name} className=\"container-fluid\" textStyle={{ fontSize: \"3em\" }} layoutStyle={{ padding: \"40px\", alignItems: \"center\" }}>\r\n            <div className=\"row\">\r\n                <SingleProductCard product={product}\r\n                    showViewProductButton={false}\r\n                    imageStyle={{ height: '570px', width: '100%' }}\r\n                     />\r\n                </div>\r\n                <hr/>\r\n                <h4 style={{marginTop: \"50px\", fontSize: \"2em\"}}>You may also be interested in</h4>\r\n                <div className=\"row\" style={{marginTop: \"30px\"}}>\r\n                {relatedProducts.map((p, i) => (\r\n                    <div className=\"col-2 mb-3\" key={i}><Card product={p} imageStyle={{ height: '250px', width: '100%' }} /></div>\r\n                ))}\r\n                </div>\r\n        </Layout>\r\n    )\r\n}\r\n\r\nexport default Product","import React, {useState, useEffect} from \"react\";\r\nimport {getBraintreeClientToken, processPayment, createOrder} from \"./apiCore\"\r\nimport {isAuthenticated} from \"../auth\"\r\nimport {Link} from \"react-router-dom\"\r\nimport DropIn from 'braintree-web-drop-in-react'\r\nimport {emptyCart} from \"./CartHelpers\"\r\n\r\nconst CheckOut = ({products, setRun }) => {\r\n\r\n    const [data, setData] = useState({\r\n        success: false,\r\n        clientToken: null,\r\n        error: '',\r\n        instance: {},\r\n        address: ''\r\n    })\r\n\r\n    const userId = isAuthenticated() && isAuthenticated().user._id\r\n    const token = isAuthenticated() && isAuthenticated().token\r\n\r\n    const getToken = (userId, token) => {\r\n        getBraintreeClientToken(userId, token).then(data => {\r\n            if(data.error) {\r\n                setData({...data, error: data.error})\r\n            } else {\r\n                setData({clientToken: data.clientToken})\r\n            }\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        getToken(userId, token)\r\n    }, [])\r\n\r\n    const handleAddress = (event) => {\r\n        setData({...data, address: event.target.value})\r\n    }\r\n\r\n    const getTotalAmount = () => {\r\n        return Math.round(\r\n            products.reduce((currentValue, nextValue) => {\r\n                return currentValue + nextValue.count * nextValue.price;\r\n            }, 0) * 100\r\n        ) / 100\r\n    }\r\n    \r\n    const showCheckout = () => {\r\n        if (isAuthenticated()) {\r\n            return <div>{showDropIn()}</div>\r\n        } else {\r\n            return <Link to=\"/signin\"><button className=\"btn btn-primary mt-3\">Sign in to checkout</button></Link>\r\n        }\r\n    }\r\n\r\n    let deliveryAddress = data.address\r\n\r\n    const buy = () => {\r\n        setData({loading: true})\r\n        window.scrollTo({ top: 0, behavior: \"smooth\" })\r\n        //send the nonce to your server\r\n        //nonce = data.instance.requestPaymentMethod()\r\n\r\n        let nonce;\r\n        let getNonce = data.instance.requestPaymentMethod().then(data => { //credit card, paypal, etc (the option chosen by the user)\r\n            // console.log(data)\r\n            nonce = data.nonce\r\n\r\n            //once you have nonce (card type, card number, etc), send nonce as 'paymentMethodNonce' to the backend\r\n            //and also total (the total amount) to be charged\r\n            // console.log('send nonce and total to process: ', nonce, getTotal(products))\r\n\r\n            const paymentData = {\r\n                paymentMethodNonce: nonce,\r\n                amount: getTotalAmount(products)\r\n            }\r\n\r\n            processPayment(userId, token, paymentData)\r\n            .then(response => {\r\n                // console.log(response)\r\n                setData({...data, success: response.success})\r\n\r\n\r\n                const createOrderData = {\r\n                    products: products,\r\n                    transaction_id: response.transaction.id,\r\n                    amount: response.transaction.amount,\r\n                    address: deliveryAddress\r\n                }\r\n\r\n                //create order\r\n                createOrder(userId, token, createOrderData)\r\n\r\n                //empty card\r\n                emptyCart(() => {\r\n                    // console.log('payment success and empty cart')\r\n                    setRun(prev => !prev)\r\n                    setData({success: true})\r\n                })\r\n\r\n\r\n            })\r\n            .catch(error => {\r\n                console.log(error)\r\n                setData({loading: false})\r\n            })\r\n        })\r\n        .catch(error => {\r\n            // console.log('dropin error: ', error)\r\n            setData({...data, error: error.message})\r\n        })\r\n    }\r\n\r\n    const showError = (error) => (\r\n        //it will only display if there is an error\r\n        <div className=\"alert alert-danger mt-3\" style={{display: error ? '' : 'none'}}>\r\n            {error}\r\n        </div> \r\n    )\r\n\r\n    const showSuccess = (success) => (\r\n        <div className=\"alert alert-info mt-3\" style={{display: success ? '' : 'none'}}>\r\n            Thanks! Your purchase has been completed successfully!\r\n        </div> \r\n    )\r\n\r\n\r\n    const showDropIn = () => (\r\n        <div onBlur={() => setData({...data, error: ''})}> {/* when you click anywhere on the page, onBlur cleen the error*/}\r\n            {data.clientToken !== null && products.length > 0 ? (\r\n                <div>\r\n                    <div className=\"gorm-group mb-3 mt-3\">\r\n                        <label style={{fontWeight: \"500\"}}>Delivery address:</label>\r\n                        <textarea onChange={handleAddress} className=\"form-control\" value={data.address} placeholder=\"Type your delivery address here...\"></textarea>\r\n                    </div>\r\n                    <DropIn options={{\r\n                        authorization: data.clientToken,\r\n                        card: {\r\n                            vault: false, // Ensure vaulting is disabled\r\n                            overrides: {\r\n                                fields: {\r\n                                    cvv: {\r\n                                        placeholder: \"CVV\", // Force CVV field to appear\r\n                                    }\r\n                                }\r\n                            }},\r\n                        paypal: {\r\n                            flow: \"vault\"\r\n                        }\r\n                    }} \r\n                    \r\n                    \r\n                    onInstance={instance => (data.instance = instance)}/>\r\n\r\n                    <button onClick={buy} className=\"btn btn-success btn-block\">CheckOut</button>\r\n                </div>\r\n            ) : null }\r\n        </div>\r\n    )\r\n\r\n    return <div>\r\n        <h2>Total: {getTotalAmount()}€</h2>\r\n        {showSuccess(data.success)}\r\n        {showError(data.error)}\r\n        {showCheckout()}\r\n    </div>\r\n}\r\n\r\n\r\nexport default CheckOut","import React, { useState, useEffect } from \"react\";\r\nimport { getCart } from \"./CartHelpers\";\r\nimport Layout from \"./Layout\"\r\nimport Card from \"./Card\";\r\nimport { Link } from \"react-router-dom/cjs/react-router-dom.min\";\r\nimport CheckOut from \"./CheckOut\";\r\nimport { isAuthenticated } from \"../auth\";\r\n\r\nconst Cart = () => {\r\n    const [items, setItems] = useState([])\r\n    const [run, setRun] = useState(false)\r\n    const userId = isAuthenticated().user._id\r\n\r\n\r\n    useEffect(() => {\r\n        setItems(getCart())\r\n    }, [run])\r\n\r\n    const showItems = (items) => {\r\n        return (\r\n            <div>\r\n                <h2 className=\"mb-4\">Your cart has {`${items.length}`} items</h2>\r\n                <hr />\r\n                <div className=\"row\">\r\n                    {items.map((p, i) => (\r\n                        <div key={i} className=\"col-4  mb-3\">\r\n                            <Card product={p} \r\n                                  showAddCartButton={false} \r\n                                  imageStyle={{ height: \"250px\", width: \"100%\"  }} \r\n                                  cartUpdate={true}\r\n                                  showRemoveProductButton={true}\r\n                                  setRun={setRun}\r\n                                  run={run}/>\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    const noItemsMessage = () => {\r\n        return <h2>You cart is empty! <Link to=\"/shop\">Continue shopping.</Link></h2>\r\n    }\r\n\r\n    return (\r\n        <Layout title=\"Shopping Cart\" layoutStyle={{padding: \"35px\"}} description=\"Manage your cart items. Add, remove, checkout or continue shopping\" className=\"container-fluid\">\r\n            <div className=\"row\">\r\n                <div className=\"col-6\">\r\n                    {items.length > 0 ? showItems(items) : noItemsMessage()}\r\n                </div>\r\n                <div className=\"col-6\">\r\n                    <h2 className=\"mb-4\">Your cart summary</h2>\r\n                    <hr/>\r\n                    <CheckOut products={items} setRun={setRun}/>\r\n                </div>\r\n            </div>\r\n        </Layout>\r\n    )\r\n}\r\n\r\nexport default Cart","import { API } from \"../config\"\r\n\r\nexport const createCategory = (userId, token, category) => {\r\n    return fetch(`${API}/category/create/${userId}`, {\r\n        method: \"POST\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: `Bearer ${token}`,\r\n        },\r\n        body: JSON.stringify(category),\r\n    })\r\n        .then(async (response) => {\r\n            if (!response.ok) {\r\n                const errorMessage = await response.text(); // Read raw text for non-JSON errors\r\n                throw new Error(errorMessage || \"An error occurred\");\r\n            }\r\n            return response.json(); // Parse JSON on success\r\n        })\r\n        .catch((err) => {\r\n            console.error(\"Error creating category:\", err.message);\r\n            return { error: err.message }; // Pass the error message to the caller\r\n        });\r\n}\r\n\r\nexport const createProduct = (userId, token, product) => {\r\n    return fetch(`${API}/product/create/${userId}`, {\r\n        method: 'POST',\r\n        headers: {\r\n            Accept: 'application/json',\r\n            Authorization: `Bearer ${token}`\r\n        },\r\n        body: product //form data, because of the photo\r\n    })\r\n        .then(response => {\r\n            return response.json();\r\n        })\r\n        .catch(err => {\r\n            console.log(err);\r\n        });\r\n};\r\n\r\nexport const getCategories = () => {\r\n    return fetch(`${API}/categories`, {\r\n        method: 'GET'\r\n    })\r\n    .then(response => {\r\n        return response.json()\r\n    })\r\n    .catch(err => console.log(err))\r\n}\r\n\r\nexport const listOrders = (userId, token) => {\r\n    return fetch(`${API}/order/list/${userId}`, {\r\n        method: 'GET',\r\n        headers: {\r\n            Accept: 'application/json',\r\n            Authorization: `Bearer ${token}`\r\n        }\r\n    })\r\n    .then(response => {\r\n        return response.json()\r\n    })\r\n    .catch(err => console.log(err))\r\n}\r\n\r\nexport const getStatusValues = (userId, token) => {\r\n    return fetch(`${API}/order/status-values/${userId}`, {\r\n        method: 'GET',\r\n        headers: {\r\n            Accept: 'application/json',\r\n            Authorization: `Bearer ${token}`\r\n        }\r\n    })\r\n    .then(response => {\r\n        return response.json()\r\n    })\r\n    .catch(err => console.log(err))\r\n}\r\n\r\nexport const updateOrderStatus = (userId, token, orderId, status) => {\r\n    return fetch(`${API}/order/${orderId}/status/${userId}`, {\r\n        method: 'PUT',\r\n        headers: {\r\n            Accept: 'application/json',\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify({status, orderId})\r\n    })\r\n    .then(response => {\r\n        return response.json()\r\n    })\r\n    .catch(err => console.log(err))\r\n}\r\n\r\n/*to perform crud on products:\r\n    1. Get all the products \r\n    2. Get a single product\r\n    3. Update the single product\r\n    4. Delete the single product \r\n*/\r\n\r\nexport const getProducts = () => {\r\n    return fetch(`${API}/products?limit=undefined`, {\r\n        method: 'GET'\r\n    })\r\n    .then(response => {\r\n        return response.json()\r\n    })\r\n    .catch(err => console.log(err))\r\n}\r\n\r\nexport const getProduct = (productId) => {\r\n    return fetch(`${API}/product/${productId}`, {\r\n        method: 'GET'\r\n    })\r\n    .then(response => {\r\n        return response.json()\r\n    })\r\n    .catch(err => console.log(err))\r\n}\r\n\r\nexport const updateProduct = (productId, token, userId, product) => {\r\n    return fetch(`${API}/product/${productId}/${userId}`, {\r\n        method: 'PUT',\r\n        headers: {\r\n            Accept: 'application/json',\r\n            Authorization: `Bearer ${token}`\r\n        },\r\n        body: product //só quando é put é que se envia o body\r\n    })\r\n    .then(response => {\r\n        return response.json()\r\n    })\r\n    .catch(err => console.log(err))\r\n}\r\n\r\nexport const deleteProduct = (productId, token, userId) => {\r\n    return fetch(`${API}/product/${productId}/${userId}`, {\r\n        method: 'DELETE',\r\n        headers: {\r\n            Accept: 'application/json',\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: `Bearer ${token}`\r\n        },\r\n    })\r\n    .then(response => {\r\n        return response.json()\r\n    })\r\n    .catch(err => console.log(err))\r\n}","import React, { useState, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom/cjs/react-router-dom.min\";\r\nimport { toast } from \"react-toastify\"\r\nimport \"react-toastify/dist/ReactToastify.css\"\r\nimport Layout from \"../core/Layout\"\r\nimport { isAuthenticated } from \"../auth\";\r\nimport { getProducts, deleteProduct } from \"./apiAdmin\";\r\n\r\ntoast.configure()\r\n\r\nconst ManageProducts = () => {\r\n\r\n    const [products, setProducts] = useState([])\r\n    const { user, token } = isAuthenticated()\r\n\r\n    const loadProducts = () => {\r\n        getProducts().then(data => {\r\n            if (data.error) {\r\n                console.log(data.error)\r\n            } else {\r\n                setProducts(data)\r\n            }\r\n        })\r\n    }\r\n\r\n    const destroy = (productId) => {\r\n        deleteProduct(productId, token, user._id).then(data => {\r\n            if (data.error) {\r\n                console.log(data.error)\r\n            } else {\r\n                loadProducts()\r\n                toast.success(\"Product deleted successfully!\", {\r\n                    position: \"top-right\",\r\n                    autoClose: 3000, // Auto close after 3 seconds\r\n                    hideProgressBar: false,\r\n                    closeOnClick: true,\r\n                    pauseOnHover: true,\r\n                    draggable: true,\r\n                    progress: undefined,\r\n                })\r\n            }\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        loadProducts()\r\n    }, [])\r\n\r\n    return (\r\n        <Layout title=\"Manage Products\" description=\"Perfom CRUD on products\" className=\"container-fluid\" layoutStyle={{ padding: \"35px\" }}>\r\n            <div className=\"row\">\r\n                <div className=\"col-12\">\r\n                    <h2 className=\"text-center\">Total products: {products.length}</h2>\r\n                    <hr />\r\n                    <ul className=\"list-group\">\r\n                        {products.map((p, i) => (\r\n                            <li key={i} className=\"list-group-item d-flex justify-content-between align-items-center\">\r\n                                <strong>{p.name}</strong>\r\n                                <div>\r\n                                    <Link to={`/admin/product/update/${p._id}`}>\r\n                                        <button className=\"btn btn-warning rounded-pill material-symbols-outlined mr-2\">edit</button>\r\n                                    </Link>\r\n                                    <button onClick={() => destroy(p._id)} className=\"btn btn-danger rounded-pill material-symbols-outlined\">delete</button>\r\n                                </div>\r\n                            </li>\r\n                        ))}\r\n                    </ul>\r\n                </div>\r\n            </div>\r\n        </Layout>\r\n    )\r\n}\r\n\r\nexport default ManageProducts","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\nimport { isAuthenticated } from \"./index\";\r\n\r\nconst PrivateRoute = ({component: Component, ...rest}) => (\r\n    <Route {...rest} render={props => isAuthenticated() ? (\r\n        <Component {...props} />\r\n    ) : (\r\n        <Redirect to={{pathname: '/signin', state:{from: props.location}}}/>\r\n    )}/>\r\n)\r\n\r\nexport default PrivateRoute","import React, { useEffect, useState } from \"react\";\r\nimport Layout from \"../core/Layout\"\r\nimport { isAuthenticated } from \"../auth\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { getPurchaseHistory } from \"./apiUser\"\r\nimport moment from \"moment\"\r\n\r\nconst Dashboard = () => {\r\n    const [history, setHistory] = useState([])\r\n    const { user: { _id, name, email, role } } = isAuthenticated()\r\n    const token = isAuthenticated().token\r\n\r\n    const init = (userId, token) => {\r\n        getPurchaseHistory(userId, token).then(data => {\r\n            if (data.error) {\r\n                console.log(data.error)\r\n            } else {\r\n                setHistory(data)\r\n            }\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        init(_id, token)\r\n    }, [])\r\n\r\n    const userLinks = () => {\r\n        return (\r\n            <div className=\"card\">\r\n                <h4 className=\"card-header\">User Links</h4>\r\n                <ul className=\"list-group\">\r\n                    <li className=\"list-group-item\"><Link className=\"nav-link\" to=\"/cart\">My cart</Link></li>\r\n                    <li className=\"list-group-item\"><Link className=\"nav-link\" to={`/profile/${_id}`}>Update Profile</Link></li>\r\n                </ul>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    const userInfo = () => {\r\n        return (\r\n            <div className=\"card mb-5\">\r\n                <h3 className=\"card-header\">User Information</h3>\r\n                <ul className=\"list-group\">\r\n                    <li className=\"list-group-item\"><strong>Name:&nbsp;&nbsp;&nbsp;</strong>{name}</li>\r\n                    <li className=\"list-group-item\"><strong>E-mail:&nbsp;&nbsp;&nbsp;</strong>{email}</li>\r\n                    {role === 1 && (\r\n                        <li className=\"list-group-item\"><strong>Role:&nbsp;&nbsp;&nbsp;</strong>Admin</li>\r\n                    )}\r\n                </ul>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    const purchaseHistory = (history) => {\r\n        return (\r\n            <div className=\"card mb-5\" >\r\n                <h3 className=\"card-header\">Purchase History</h3>\r\n                <ul className=\"list-group\">\r\n                    <li className=\"list-group-item\">\r\n                        {history.map((h, i) => (\r\n                            <div key={i}>\r\n                                {h.products.map((p, j) => (\r\n                                    <div key={j}>\r\n                                        <h6>Product name: <span style={{ fontWeight: 400 }}>{p.name}</span></h6>\r\n                                        <h6>Product price: <span style={{ fontWeight: 400 }}>{p.price}€</span></h6>\r\n                                        <h6>Purchased date: <span style={{ fontWeight: 400 }}>{moment(h.createdAt).fromNow()}</span></h6>\r\n                                    </div>\r\n                                ))}\r\n                                <hr/>\r\n                            </div>\r\n                        ))}\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <Layout layoutStyle={{ padding: \"35px\" }} title=\"Dashboard\" description={<span>Good day, <strong>{name}</strong>!</span>} className=\"container\">\r\n            <div className=\"row\">\r\n                <div className=\"col-3\">{userLinks()}</div>\r\n                <div className=\"col-9\">{userInfo()}{purchaseHistory(history)}</div>\r\n            </div>\r\n        </Layout>\r\n    )\r\n}\r\n\r\nexport default Dashboard","import {API} from '../config'\r\n\r\nexport const read = (userId, token) => {\r\n    return fetch(`${API}/user/${userId}`, {\r\n        method: 'GET',\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: `Bearer ${token}`\r\n        }\r\n    })\r\n        .then(response => {\r\n            return response.json()\r\n        })\r\n        .catch(err => console.log(err))\r\n}\r\n\r\nexport const update = (userId, token, user) => {\r\n    return fetch(`${API}/user/${userId}`, {\r\n        method: 'PUT',\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify(user)\r\n    })\r\n    .then(response => {\r\n        return response.json()\r\n    })\r\n    .catch(err => console.log(err))\r\n}\r\n\r\nexport const updateUser = (user, next) => {\r\n    if(typeof window != \"undefined\") {\r\n        if (localStorage.getItem('jwt')) {\r\n            let auth = JSON.parse(localStorage.getItem('jwt'))\r\n            auth.user = user\r\n            localStorage.setItem('jwt', JSON.stringify(auth))\r\n            next()\r\n        }\r\n    }\r\n}\r\n\r\nexport const getPurchaseHistory = (userId, token) => {\r\n    return fetch(`${API}/orders/by/user/${userId}`, {\r\n        method: 'GET',\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: `Bearer ${token}`\r\n        }\r\n    })\r\n        .then(response => {\r\n            return response.json()\r\n        })\r\n        .catch(err => console.log(err))\r\n}","import React, {useState, useEffect} from \"react\";\r\nimport { read, update, updateUser } from \"./apiUser\";\r\nimport Layout from \"../core/Layout\"\r\nimport { isAuthenticated } from \"../auth\";\r\n\r\nconst Profile = ({match}) => { //Can add address or about, etc\r\n    const [values, setValues] = useState({\r\n        name: '',\r\n        email: '',\r\n        password: '',\r\n        error: '',\r\n        success: false\r\n    })\r\n\r\n    const {token} = isAuthenticated()\r\n\r\n    const {name, email, password, error, success} = values\r\n\r\n    const init = (userId) => {\r\n        // console.log(userId) -----> userId\r\n\r\n        read(userId, token).then(data => {\r\n            if(data.error) {\r\n                setValues({...values, error: true})\r\n            } else {\r\n                setValues({...values, name: data.name, email: data.email})\r\n            }\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        init(match.params.userId) //vai buscar o userId ao link do site (route)\r\n    }, [])\r\n\r\n    const handleChange = name => e => {\r\n        setValues({...values, error: false, [name]: e.target.value})\r\n    }\r\n\r\n    const clickSubmit = (e) => {\r\n        e.preventDefault() //the browser doesen't reload\r\n        update(match.params.userId, token, {name, email, password}).then(data=> {\r\n            if(data.error) {\r\n                console.log(data.error)\r\n            } else {\r\n                updateUser(data, () => {\r\n                    setValues({...values, name: data.name, email: data.email, success: true})\r\n                })\r\n            }\r\n        })\r\n    } \r\n\r\n    const redirectUser = (success) => {\r\n        if (success) {\r\n            window.location.reload()\r\n        }\r\n    }\r\n\r\n    const profileUpdate = (name, email, password) => (\r\n        <form >\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Name</label>\r\n                <input type=\"text\" onChange={handleChange('name')} className=\"form-control\" value={name}/>\r\n            </div>\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Email</label>\r\n                <input type=\"email\" onChange={handleChange('email')} className=\"form-control\" value={email}/>\r\n            </div>\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Password</label>\r\n                <input type=\"password\" onChange={handleChange('password')} className=\"form-control\" value={password}/>\r\n            </div>\r\n\r\n            <button className=\"btn btn-primary\" onClick={clickSubmit}>Submit</button>\r\n        </form>\r\n    )\r\n\r\n    return (\r\n        <Layout title=\"Profile\" description=\"Update your profile\" className=\"container-fluid\" layoutStyle={{padding: \"35px\"}}>\r\n            <h2 className=\"mb-4\">Profile update</h2>\r\n            {profileUpdate(name, email, password)}\r\n            {redirectUser(success)}\r\n        </Layout>\r\n    )\r\n}\r\n\r\nexport default Profile","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\nimport { isAuthenticated } from \"./index\";\r\n\r\nconst AdminRoute = ({component: Component, ...rest}) => (\r\n    <Route {...rest} render={props => isAuthenticated() && isAuthenticated().user.role === 1 ? (\r\n        <Component {...props} />\r\n    ) : (\r\n        <Redirect to={{pathname: '/signin', state:{from: props.location}}}/>\r\n    )}/>\r\n)\r\n\r\nexport default AdminRoute","import React from \"react\";\r\nimport Layout from \"../core/Layout\"\r\nimport { isAuthenticated } from \"../auth\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst AdminDashboard = () => {\r\n\r\n    const { user: {name, email, role } } = isAuthenticated()\r\n\r\n    const adminLinks = () => {\r\n        return (\r\n            <div className=\"card\">\r\n                <h4 className=\"card-header\">Admin Links</h4>\r\n                <ul className=\"list-group\">\r\n                    <li className=\"list-group-item\"><Link className=\"nav-link\" to=\"/create/category\">Create Category</Link></li>\r\n                    <li className=\"list-group-item\"><Link className=\"nav-link\" to=\"/create/product\">Create Product</Link></li>\r\n                    <li className=\"list-group-item\"><Link className=\"nav-link\" to=\"/admin/orders\">View orders</Link></li>\r\n                    <li className=\"list-group-item\"><Link className=\"nav-link\" to=\"/admin/products\">Manage Products</Link></li>\r\n                </ul>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    const adminInfo = () => {\r\n        return (\r\n            <div className=\"card mb-5\">\r\n                <h3 className=\"card-header\">User Information</h3>\r\n                <ul className=\"list-group\">\r\n                    <li className=\"list-group-item\"><strong>Name:&nbsp;&nbsp;&nbsp;</strong>{name}</li>\r\n                    <li className=\"list-group-item\"><strong>E-mail:&nbsp;&nbsp;&nbsp;</strong>{email}</li>\r\n                    {role === 1 && (\r\n                        <li className=\"list-group-item\"><strong>Role:&nbsp;&nbsp;&nbsp;</strong>Admin</li>\r\n                    )}\r\n                </ul>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <Layout layoutStyle={{padding: \"35px\"}} title=\"Dashboard\"  description={<span>Good day, <strong>{name}</strong>!</span>} className=\"container-fluid\">\r\n            <div className=\"row\">\r\n                <div className=\"col-3\">{adminLinks()}</div>\r\n                <div className=\"col-9\">{adminInfo()}</div>\r\n            </div>\r\n        </Layout>\r\n    )\r\n}\r\n\r\nexport default AdminDashboard","import React, {useState} from \"react\";\r\nimport Layout from \"../core/Layout\"\r\nimport { isAuthenticated } from \"../auth\";\r\nimport { createCategory } from \"./apiAdmin\";\r\n\r\nconst AddCategory = () => {\r\n    const [name, setName] = useState('')\r\n    const [error, setError] = useState(false)\r\n    const [success, setSuccess] = useState(false)\r\n\r\n    //destructure user and info from localstorage\r\n    const {user, token} = isAuthenticated()\r\n\r\n    const handleChange = e => {\r\n        setSuccess(false)\r\n        setError(\"\")\r\n        setName(e.target.value)\r\n    }\r\n\r\n    const clickSubmit = e => {\r\n        e.preventDefault()\r\n        setError(\"\")\r\n        setSuccess(false)\r\n        //make request to api to create category\r\n        createCategory(user._id, token, {name})\r\n            .then(data => {\r\n                if(data.error) {\r\n                    setError(data.error)\r\n                    setSuccess(false)\r\n                } else {\r\n                    setError('')\r\n                    setSuccess(true)\r\n                }\r\n            })\r\n\r\n    }\r\n\r\n    const newCategoryFrom = () => (\r\n        <form onSubmit={clickSubmit}>\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Name</label>\r\n                <input type=\"text\" className=\"form-control\" onChange={handleChange} value={name} autoFocus required/>\r\n            </div>\r\n            <button className=\"btn btn-outline-primary mr-2\">Create Category</button>\r\n            <button type=\"button\" className=\"btn btn-outline-secondary\" onClick={handleCancel}>Cancel</button>\r\n        </form>\r\n    )\r\n    const showSuccess = () => {\r\n        if (success) {\r\n            return <h3 className=\"text-success\">'{name}' was successfully created!</h3>;\r\n        }\r\n    }\r\n\r\n    const showError = () => {\r\n        if (error) {\r\n            return <h3 className=\"text-danger\">There's already a category named '{name}'</h3>;\r\n        }\r\n    }\r\n\r\n    const handleCancel = () => {\r\n    window.location.href = \"/admin/dashboard\";\r\n    }\r\n    \r\n\r\n\r\n    return (\r\n        <Layout layoutStyle={{padding: \"35px\"}} title=\"Add a new category!\"  description={<span>Ready to add a new category, <strong>{user.name}</strong>?</span>}>\r\n            <div className=\"row\">\r\n                <div className=\"col-md-8 offset-md-2\">\r\n                    {showSuccess()}\r\n                    {showError()}\r\n                    {newCategoryFrom()}\r\n                </div>\r\n            </div>\r\n        </Layout>\r\n    )\r\n}\r\n\r\nexport default AddCategory","import React, { useState, useEffect } from \"react\";\r\nimport Layout from \"../core/Layout\"\r\nimport { isAuthenticated } from \"../auth\";\r\nimport { createProduct, getCategories } from \"./apiAdmin\";\r\n\r\nconst AddProduct = () => {\r\n\r\n    const { user, token } = isAuthenticated()\r\n\r\n    const [values, setValues] = useState({\r\n        name: '',\r\n        description: '',\r\n        price: '',\r\n        categories: [],\r\n        category: '',\r\n        shipping: '',\r\n        quantity: '',\r\n        photo: '',\r\n        loading: false,\r\n        error: '',\r\n        createProduct: '',\r\n        redirectToProfile: false,\r\n        formData: ''\r\n    })\r\n\r\n    const {\r\n        name,\r\n        description,\r\n        price,\r\n        categories,\r\n        quantity,\r\n        loading,\r\n        error,\r\n        createdProduct,\r\n        formData\r\n    } = values\r\n\r\n    //load categories and set formData\r\n\r\n    const init = () => {\r\n        getCategories()\r\n            .then(data => {\r\n                if (data.error) {\r\n                    setValues({ ...values, error: data.error })\r\n                } else {\r\n                    setValues({ ...values, categories: data, formData: new FormData() })\r\n                }\r\n            })\r\n    }\r\n\r\n\r\n    useEffect(() => {\r\n        init()\r\n    }, [])\r\n\r\n    const scrollToTop = () => {\r\n        window.scrollTo({\r\n            top: 0,\r\n            behavior: 'smooth',\r\n        })\r\n    }\r\n\r\n    const handleChange = name => event => { //name = name, descriptin, price, shipping, ...\r\n        const value = name === 'photo' ? event.target.files[0] : event.target.value\r\n        formData.set(name, value)\r\n        setValues({ ...values, [name]: value, createdProduct: '', error: '' })\r\n    }\r\n\r\n    const handleCancel = () => {\r\n        window.location.href = \"/admin/dashboard\";\r\n    };\r\n\r\n    const clickSubmit = (event) => {\r\n        event.preventDefault()\r\n        setValues({ ...values, error: '', loading: true })\r\n\r\n        createProduct(user._id, token, formData)\r\n            .then(data => {\r\n                if (data.error) {\r\n                    setValues({ ...values, error: data.error })\r\n                } else {\r\n                    setValues({\r\n                        ...values,\r\n                        name: '',\r\n                        description: '',\r\n                        photo: '',\r\n                        price: '',\r\n                        quantity: '',\r\n                        loading: false,\r\n                        createdProduct: data.name\r\n                    })\r\n                }\r\n                scrollToTop()\r\n            })\r\n    }\r\n\r\n    const showSuccess = () => {\r\n        if (createdProduct) {\r\n            return <h3 className=\"text-success mt-2 mb-4\">'{createdProduct}' was successfully created!</h3>;\r\n        }\r\n    };\r\n\r\n    const showError = () => {\r\n        if (error) {\r\n            return <h3 className=\"text-danger mt-2 mb-4\">{error}!</h3>;\r\n        }\r\n    }\r\n\r\n    const showLoading = () => (\r\n        loading && (<div className=\"alert alert-success\"><h2>Loading...</h2></div>)\r\n    )\r\n\r\n    const newPostForm = () => (\r\n        <form className=\"mb-3\" onSubmit={clickSubmit}>\r\n            <h4>Post Photo</h4>\r\n            <div className=\"form-group\">\r\n                <label className=\"btn btn-secondary\">\r\n                    <input onChange={handleChange('photo')} type=\"file\" name=\"photo\" accept=\"image/*\" />\r\n                </label>\r\n            </div>\r\n\r\n            <div className=\"form-froup\">\r\n                <label className=\"text-muted\">Name</label>\r\n                <input onChange={handleChange('name')} type=\"text\" className=\"form-control\" value={name} />\r\n            </div>\r\n\r\n            <div className=\"form-froup\">\r\n                <label className=\"text-muted\">Description</label>\r\n                <textarea onChange={handleChange('description')} className=\"form-control\" value={description} />\r\n            </div>\r\n\r\n            <div className=\"form-froup style={{ position: 'relative' }}\">\r\n                <label className=\"text-muted\">Price</label>\r\n                <div style={{ display: 'flex', alignItems: 'center' }}>\r\n                    <input onChange={handleChange('price')} type=\"number\" className=\"form-control\" value={price} style={{ paddingRight: '40px' }} />\r\n                    <div\r\n                        style={{\r\n                            width: '30px',\r\n                            height: '30px',\r\n                            backgroundColor: '#ddd',\r\n                            display: 'flex',\r\n                            alignItems: 'center',\r\n                            justifyContent: 'center',\r\n                            marginLeft: '-35px', // Position it over the right side\r\n                            borderRadius: '4px',\r\n                        }}\r\n                    >\r\n                        €\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"form-froup\">\r\n                <label className=\"text-muted\">Category</label>\r\n                <select onChange={handleChange('category')} className=\"form-control\">\r\n                    <option>-- Select an option --</option>\r\n                    {categories && categories.map((c, i) => (<option key={i} value={c._id}>{c.name}</option>))}\r\n                </select>\r\n            </div>\r\n\r\n            <div className=\"form-froup\">\r\n                <label className=\"text-muted\">Shipping</label>\r\n                <select onChange={handleChange('shipping')} className=\"form-control\">\r\n                    <option>-- Select an option --</option>\r\n                    <option value=\"0\">No</option>\r\n                    <option value=\"1\">Yes</option>\r\n                </select>\r\n            </div>\r\n\r\n            <div className=\"form-froup\">\r\n                <label className=\"text-muted\">Quantity</label>\r\n                <input onChange={handleChange('quantity')} type=\"number\" className=\"form-control\" value={quantity} />\r\n            </div>\r\n\r\n            <button className=\"btn btn-outline-primary mt-3 mr-2\">Create Product</button>\r\n            <button className=\"btn btn-outline-secondary mt-3\" onClick={handleCancel}>Cancel</button>\r\n        </form>\r\n    )\r\n\r\n    return (\r\n        <Layout layoutStyle={{padding: \"35px\"}} title=\"Add a new product!\" description={<span>Ready to add a new product, <strong>{user.name}</strong>?</span>}>\r\n            <div className=\"row\">\r\n                <div className=\"col-md-8 offset-md-2\">\r\n                    {showSuccess()}\r\n                    {showLoading()}\r\n                    {showError()}\r\n                    {newPostForm()}\r\n                </div>\r\n            </div>\r\n        </Layout>\r\n    )\r\n}\r\n\r\nexport default AddProduct","import React, { useState, useEffect } from \"react\";\r\nimport Layout from \"../core/Layout\"\r\nimport { toast } from \"react-toastify\"\r\nimport \"react-toastify/dist/ReactToastify.css\"\r\nimport { isAuthenticated } from \"../auth\";\r\nimport { getProduct, getCategories, updateProduct } from \"./apiAdmin\";\r\nimport { Redirect } from \"react-router-dom/cjs/react-router-dom.min\";\r\n\r\ntoast.configure()\r\n\r\nconst UpdateProduct = ({match}) => {\r\n\r\n    \r\n    const [values, setValues] = useState({\r\n        name: '',\r\n        description: '',\r\n        price: '',\r\n        categories: [],\r\n        category: '',\r\n        shipping: '',\r\n        quantity: '',\r\n        photo: '',\r\n        loading: false,\r\n        error: '',\r\n        createProduct: '',\r\n        redirectToProfile: false,\r\n        formData: ''\r\n    })\r\n    const { user, token } = isAuthenticated()\r\n    \r\n    const {\r\n        name,\r\n        description,\r\n        price,\r\n        categories,\r\n        quantity,\r\n        loading,\r\n        error,\r\n        createdProduct,\r\n        redirectToProfile,\r\n        formData\r\n    } = values\r\n\r\n    //load categories and set formData\r\n\r\n    const init = (productId) => {\r\n        getProduct(productId).then(data => {\r\n            if(data.error) {\r\n                setValues({...values, error: data.error})\r\n            } else {\r\n                //populate the state\r\n                setValues({...values,\r\n                           name: data.name,\r\n                           description: data.description,\r\n                           price: data.price,\r\n                           category: data.category._id,\r\n                           shipping:data.shipping,\r\n                           quantity: data.quantity,\r\n                           formData: new FormData()\r\n                })\r\n                //load categories\r\n                initCategories()\r\n            }\r\n        })\r\n    }\r\n\r\n\r\n    const initCategories = () => {\r\n        getCategories()\r\n            .then(data => {\r\n                if (data.error) {\r\n                    setValues({ ...values, error: data.error })\r\n                } else {\r\n                    setValues({ categories: data, formData: new FormData() })\r\n                }\r\n            })\r\n    }\r\n\r\n\r\n    useEffect(() => {\r\n        init(match.params.productId)\r\n\r\n    }, [])\r\n\r\n    const scrollToTop = () => {\r\n        window.scrollTo({\r\n            top: 0,\r\n            behavior: 'smooth',\r\n        })\r\n    }\r\n\r\n    \r\n    const handleChange = name => event => { //name = name, descriptin, price, shipping, ...\r\n        const value = name === 'photo' ? event.target.files[0] : event.target.value\r\n        formData.set(name, value)\r\n        setValues({ ...values, [name]: value, createdProduct: '', error: '' })\r\n    }\r\n\r\n    const handleCancel = () => {\r\n        window.location.href = \"/admin/dashboard\";\r\n    };\r\n\r\n    const clickSubmit = (event) => {\r\n        event.preventDefault()\r\n        setValues({ ...values, error: '', loading: true })\r\n\r\n        updateProduct(match.params.productId, token, user._id, formData)\r\n            .then(data => {\r\n                if (data.error) {\r\n                    setValues({ ...values, error: data.error })\r\n                } else {\r\n                    setValues({\r\n                        ...values,\r\n                        name: '',\r\n                        description: '',\r\n                        photo: '',\r\n                        price: '',\r\n                        quantity: '',\r\n                        loading: false,\r\n                        error: false,\r\n                        redirectToProfile: true,\r\n                        createdProduct: data.name\r\n\r\n                    })\r\n                }\r\n                scrollToTop()\r\n            })\r\n    }\r\n\r\n    const showSuccess = () => {\r\n        if (createdProduct) {\r\n            toast.success(`${createdProduct} was successfully updated!`, {\r\n                position: \"top-right\",\r\n                autoClose: 4000, // Auto close after 3 seconds\r\n                hideProgressBar: false,\r\n                closeOnClick: true,\r\n                pauseOnHover: true,\r\n                draggable: true,\r\n                progress: undefined,\r\n            })\r\n        }\r\n    };\r\n\r\n    const showError = () => {\r\n        if (error) {\r\n            toast.error(error, {\r\n                position: \"top-right\",\r\n                autoClose: 3000, // Auto close after 3 seconds\r\n                hideProgressBar: false,\r\n                closeOnClick: true,\r\n                pauseOnHover: true,\r\n                draggable: true,\r\n                progress: undefined,\r\n            })\r\n        }\r\n    }\r\n\r\n    const showLoading = () => loading && (<div className=\"alert alert-success\"><h2>Loading...</h2></div>)\r\n    \r\n    const redirectUser = () => {\r\n        if(redirectToProfile) {\r\n            if(!error) {\r\n                return <Redirect to=\"/admin/products\"/>\r\n            }\r\n        }\r\n    }\r\n    \r\n\r\n    const newPostForm = () => (\r\n        <form className=\"mb-3\" onSubmit={clickSubmit}>\r\n            <h4>Post Photo</h4>\r\n            <div className=\"form-group\">\r\n                <label className=\"btn btn-secondary\">\r\n                    <input onChange={handleChange('photo')} type=\"file\" name=\"photo\" accept=\"image/*\" />\r\n                </label>\r\n            </div>\r\n\r\n            <div className=\"form-froup\">\r\n                <label className=\"text-muted\">Name</label>\r\n                <input onChange={handleChange('name')} type=\"text\" className=\"form-control\" value={name} />\r\n            </div>\r\n\r\n            <div className=\"form-froup\">\r\n                <label className=\"text-muted\">Description</label>\r\n                <textarea onChange={handleChange('description')} className=\"form-control\" value={description} />\r\n            </div>\r\n\r\n            <div className=\"form-froup style={{ position: 'relative' }}\">\r\n                <label className=\"text-muted\">Price</label>\r\n                <div style={{ display: 'flex', alignItems: 'center' }}>\r\n                    <input onChange={handleChange('price')} type=\"number\" className=\"form-control\" value={price} style={{ paddingRight: '40px' }} />\r\n                    <div\r\n                        style={{\r\n                            width: '30px',\r\n                            height: '30px',\r\n                            backgroundColor: '#ddd',\r\n                            display: 'flex',\r\n                            alignItems: 'center',\r\n                            justifyContent: 'center',\r\n                            marginLeft: '-35px', // Position it over the right side\r\n                            borderRadius: '4px',\r\n                        }}\r\n                    >\r\n                        €\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"form-froup\">\r\n                <label className=\"text-muted\">Category</label>\r\n                <select onChange={handleChange('category')} className=\"form-control\">\r\n                    <option>-- Select an option --</option>\r\n                    {categories && categories.map((c, i) => (<option key={i} value={c._id}>{c.name}</option>))}\r\n                </select>\r\n            </div>\r\n\r\n            <div className=\"form-froup\">\r\n                <label className=\"text-muted\">Shipping</label>\r\n                <select onChange={handleChange('shipping')} className=\"form-control\">\r\n                    <option>-- Select an option --</option>\r\n                    <option value=\"0\">No</option>\r\n                    <option value=\"1\">Yes</option>\r\n                </select>\r\n            </div>\r\n\r\n            <div className=\"form-froup\">\r\n                <label className=\"text-muted\">Quantity</label>\r\n                <input onChange={handleChange('quantity')} type=\"number\" className=\"form-control\" value={quantity} />\r\n            </div>\r\n\r\n            <button className=\"btn btn-outline-primary mt-3 mr-2\">Update Product</button>\r\n            <button className=\"btn btn-outline-secondary mt-3\" onClick={handleCancel}>Cancel</button>\r\n        </form>\r\n    )\r\n\r\n    return (\r\n        <Layout layoutStyle={{padding: \"35px\"}} title=\"Add a new product!\" description={<span>Ready to add a new product, <strong>{user.name}</strong>?</span>}>\r\n            <div className=\"row\">\r\n                <div className=\"col-md-8 offset-md-2\">\r\n                    {showSuccess()}\r\n                    {showLoading()}\r\n                    {showError()}\r\n                    {newPostForm()}\r\n                    {redirectUser()}\r\n                </div>\r\n            </div>\r\n        </Layout>\r\n    )\r\n}\r\n\r\n\r\nexport default UpdateProduct","import React, { Fragment, useEffect, useState } from \"react\"\r\nimport Layout from \"../core/Layout\"\r\nimport { isAuthenticated } from \"../auth\"\r\nimport { listOrders, getStatusValues, updateOrderStatus } from \"./apiAdmin\"\r\nimport moment from \"moment\"\r\n\r\nconst Orders = () => {\r\n    const [orders, setOrders] = useState([])\r\n    const [statusValues, setStatusValues] = useState([])\r\n\r\n    const { user, token } = isAuthenticated()\r\n\r\n    const loadOrders = () => {\r\n        listOrders(user._id, token).then(data => {\r\n            if (data.error) {\r\n                console.log(data.error)\r\n            } else {\r\n                setOrders(data)\r\n            }\r\n        })\r\n    }\r\n\r\n    const loadStatusValues = () => {\r\n        getStatusValues(user._id, token).then(data => {\r\n            if (data.error) {\r\n                console.log(data.error)\r\n            } else {\r\n                setStatusValues(data)\r\n            }\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        loadOrders()\r\n        loadStatusValues()\r\n    }, [])\r\n\r\n    const showOrdersLength = () => {\r\n        if (orders.length > 0) {\r\n            return <h4 className=\"text-danger\">Total Orders: {orders.length}</h4>\r\n        } else {\r\n            return <h4 className=\"text-danger\">No orders</h4>\r\n        }\r\n    }\r\n\r\n    const showInput = (key, value) => [\r\n        <div className=\"input-group mb-2 mr-sm-2\">\r\n            <div className=\"input-group-prepend\">\r\n                <div className=\"input-group-text\">{key}</div>\r\n            </div>\r\n            <input type=\"text\" value={value} className=\"form-control\" readOnly />\r\n        </div>\r\n    ]\r\n\r\n    const handleStatusChange = (e, orderId) => {\r\n        // console.log('Update order status!')\r\n        updateOrderStatus(user._id, token, orderId, e.target.value).then(data => {\r\n            if (data.error) {\r\n                console.log('Status Update Faild')\r\n            } else {\r\n                loadOrders()\r\n            }\r\n        })\r\n    }\r\n\r\n    const showStatus = (order) => {\r\n        return (\r\n            <div className=\"form-group\">\r\n                <h3 className=\"mt-2 mb-3 text-center\">Status: {order.status}</h3>\r\n                <select className=\"form-control\" onChange={(e) => (handleStatusChange(e, order._id))}>\r\n                    <option>----</option>\r\n                    {statusValues.map((status, index) => (<option key={index} value={status}>{status}</option>))}\r\n                </select>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <Layout layoutStyle={{ padding: \"35px\" }} title=\"Orders\" description={<span>You can manage all the orders here!</span>}>\r\n            <div className=\"row\">\r\n                <div className=\"col-md-8 offset-md-2\">\r\n                    {showOrdersLength()}\r\n                    {/* {JSON.stringify(orders)} */}\r\n                    {orders.map((o, oIndex) => {\r\n                        return <div className=\"mt-5 card shadow-lg p-5\" key={oIndex}>\r\n                            <h2 className=\"mb-5 text-center\">\r\n                                <span className=\"bg-primary p-2\" style={{ fontSize: \"22px\" }}>ORDER ID: {o._id}</span>\r\n                            </h2>\r\n                            <div className=\"row\">\r\n                                <ul className=\"list-group mb-2 col-5\">\r\n                                    <li className=\"list-group-item pb-0\">{showStatus(o)}</li>\r\n                                    <li className=\"list-group-item\">Transaction Id: {o.transaction_id}</li>\r\n                                    <li className=\"list-group-item\">Amount: {o.amount}€</li>\r\n                                    <li className=\"list-group-item\">Ordered by: {o.user.name}</li>\r\n                                    <li className=\"list-group-item\">Ordered at: {moment(o.createdAt).fromNow()}</li>\r\n                                    <li className=\"list-group-item\">Delivery Address: {o.address}</li>\r\n                                </ul>\r\n                                <div className=\"col-7\">\r\n                                    <h3 className=\"mt-4 mb-4 font-italic\">\r\n                                        Total products in the order: {o.products.length}\r\n                                    </h3>\r\n                                    {o.products.map((p, pIndex) => (\r\n                                        <Fragment>\r\n                                            <div className=\"mb-4\" key={pIndex} style={{ padding: \"20px\" }}>\r\n                                                {showInput('Product name', p.name)}\r\n                                                {showInput('Product price', p.price)}\r\n                                                {showInput('Product count', p.count)}\r\n                                                {showInput('Product id', p._id)}\r\n                                            </div>\r\n                                            <hr />\r\n                                        </Fragment>\r\n                                    ))}\r\n                                </div>\r\n\r\n                            </div>\r\n                        </div>\r\n                    })}\r\n                </div>\r\n            </div>\r\n        </Layout>\r\n    )\r\n}\r\n\r\nexport default Orders","import React from \"react\";\r\nimport {BrowserRouter, Switch, Route} from \"react-router-dom\"\r\nimport SignUp from \"./user/Signup\";\r\nimport SignIn from \"./user/Signin\";\r\nimport Home from \"./core/Home\";\r\nimport Shop from \"./core/Shop\";\r\nimport Product from \"./core/Product\";\r\nimport Cart from \"./core/Cart\";\r\nimport ManageProducts from \"./admin/ManageProducts\"\r\n\r\nimport PrivateRoute from './auth/PrivateRoute'\r\nimport Dashboard from \"./user/UserDashboard\";\r\nimport Profile from \"./user/Profile\";\r\n\r\nimport AdminRoute from './auth/AdminRoute'\r\nimport AdminDashboard from \"./user/AdminDashboard\";\r\nimport AddCategory from \"./admin/AddCategory\";\r\nimport AddProduct from \"./admin/AddProduct\";\r\nimport UpdateProduct from \"./admin/UpdateProduct\";\r\nimport Orders from \"./admin/Orders\";\r\n\r\nconst Routes = () => {\r\n    return (\r\n    <BrowserRouter>\r\n        <Switch>\r\n            <Route path=\"/\" exact component={Home}/>\r\n            <Route path=\"/shop\" exact component={Shop}/>\r\n            <Route path=\"/signin\" exact component={SignIn}/>\r\n            <Route path=\"/signup\" exact component={SignUp}/>\r\n            <Route path=\"/product/:productId\" exact component={Product}/>\r\n            <Route path=\"/cart/\" exact component={Cart}/>\r\n\r\n            <PrivateRoute path=\"/user/dashboard\" exact component={Dashboard}/>\r\n            <AdminRoute path=\"/admin/dashboard\" exact component={AdminDashboard}/>\r\n            <AdminRoute path=\"/create/category\" exact component={AddCategory}/>\r\n            <AdminRoute path=\"/create/product\" exact component={AddProduct}/>\r\n            <AdminRoute path=\"/admin/product/update/:productId\" exact component={UpdateProduct}/>\r\n            <AdminRoute path=\"/admin/orders\" exact component={Orders}/>\r\n            <PrivateRoute path=\"/profile/:userId\" exact component={Profile}/>\r\n            <AdminRoute path=\"/admin/products\" exact component={ManageProducts}/>\r\n        </Switch>\r\n    </BrowserRouter>\r\n    )\r\n}\r\n\r\nexport default Routes","import React from 'react';\nimport ReactDOM from 'react-dom';\n// import App from './App';\nimport Routes from \"./Routes\"\n\nReactDOM.render(\n    <Routes />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}